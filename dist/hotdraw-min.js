// Hotdraw.js 0.1.3
//
// Copyright (c) 2004 â€“ 2017 Web Semantics, Inc. All rights reserved.
//
// http://www.opensource.org/licenses/mit-license.php
//
// Unless required by applicable law or agreed to in writing, software
// distributed under the License is distributed on an "AS IS" BASIS,
// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
// See the License for the specific language governing permissions and
// limitations under the License.
//
// build: 2017-01-09

function initialise(){viewerMode==Batik&&(VK_ENTER=10,window.contextMenu=null,window.printNode=printXMLNode),initDraw2D(),initSwing()}function initDraw2D(){ds_initDesktop(),pg_createDefualtPage(),ly_createDefualtLayer(),df_createDefs()}function initSwing(){var a=createSVGNode("linearGradient",{id:"WinG1"});a.appendChild(createSVGNode("stop",{offset:"0%","stop-color":"rgb(10,36,106)"})),a.appendChild(createSVGNode("stop",{offset:"100%","stop-color":"rgb(166,202,240)"}));var b=createSVGNode("linearGradient",{id:"WinG2"});b.appendChild(createSVGNode("stop",{offset:"0%","stop-color":"rgb(127,127,127)"})),b.appendChild(createSVGNode("stop",{offset:"100%","stop-color":"rgb(192,192,192)"})),df_addToDefs(a),df_addToDefs(b),windowLayer=ly_createLayer(pg_getDefualtPage(),0),menuLayer=ly_createLayer(pg_getDefualtPage(),1),toolTipLayer=ly_createLayer(pg_getDefualtPage(),2)}function Clipboard(){var a=Clipboard.arguments;Clipboard.length;this.className="Clipboard",this.data="",a.length>0&&this.initClipboard()}function Point(a,b){Point.arguments,Point.length;this.className="Point",this.x=0,this.y=0}function Rect(a,b,c,d){var e=Rect.arguments;Rect.length;this.className="Rect",0==e.length?this.initRect(0,0,0,0):this.initRect(a,b,c,d)}function SVGNode(){SVGNode.arguments,SVGNode.length;this.className="SVGNode",this.Node=null,this.initSVGNode()}function createSVGNode(a,b,c,d){return createDOMNode(a,b,c,d)}function createDOMNode(a,b,c,d){(void 0==d||null==d)&&(d="http://www.w3.org/2000/svg"),b.id&&deleteSVGNodeById(b.id),void 0==c||null==c?c=svgDocument.documentElement:c.getNode&&(c=c.getNode());var e=svgDocument.createElementNS(d,a);for(var f in b)e.setAttribute(f,b[f]);return"flowRoot"!=a&&void 0!=c&&null!=c&&c.appendChild(e),e}function createSVGTextNode(a,b,c,d,e){return createDOMTextNode(a,b,c,d,e)}function createDOMTextNode(a,b,c,d,e){if(void 0==a||null==a)return!1;(void 0==d||null==d)&&(d="text");var f=createSVGNode(d,b,c,e);return f.appendChild(svgDocument.createTextNode(a)),f}function deleteSVGNode(a){return a&&null!=a?(a.parentNode.removeChild(a),!0):!1}function deleteSVGNodeById(a){return a&&null!=a?deleteSVGNode(svgDocument.getElementById(a)):!1}function printXMLNode(a,b,c){if(void 0==a||void 0==a.tagName)return null;void 0==c&&(c=0),(void 0==b||null==b)&&(b="");for(var d="  ",e="",f=0;c>f;f++)e+=d;if(b+=e+"<"+a.tagName,a.hasAttributes())for(var g=0;g<a.attributes.length;g++){var h=a.attributes.item(g);b+=" "+h.name+'="'+h.value+'"'}b+=">\n",c++;for(var i=a.childNodes,j=0;j<i.length;j++){var k=i.item(j);if(k.firstChild&&3==k.firstChild.nodeType)b+=e+d+"<"+k.tagName+">"+k.firstChild.data+"</"+k.tagName+">\n";else{var l=printXMLNode(k,null,c);null!=l&&(b+=l)}}c--,e="";for(var f=0;c>f;f++)e+=d;return b+=e+"</"+a.tagName+">\n"}function df_createDefs(){defsNode=createSVGNode("defs",{})}function df_addToDefs(a){a.getNode&&(a=a.getNode()),null==defsNode||defsNode.addChild?defsNode.addChild(a):defsNode.appendChild(a)}function RectNode(a,b,c,d,e,f){var g=RectNode.arguments;RectNode.length;this.className="RectNode",0==g.length?this.initRectNode(0,0,0,0,0,1):this.initRectNode(a,b,c,d,e,f)}function Node(a,b,c,d,e,f){var g=Node.arguments;Node.length;this.className="Node",this.useCapture=!0,0==g.length?this.initNode(0,0,0,0,0,1):this.initNode(a,b,c,d,e,f)}function ly_createLayer(a,b,c){return new Layer(a,b,c)}function ly_createDefualtLayer(){defualt_layer=ly_createLayer()}function ly_getDefualtLayer(){return defualt_layer}function ly_int_getLayerId(){return common_layer_id+layers_counter++}function ly_int_registerLayer(a){layer_Register[a.id]=a}function Layer(a,b,c){var d=Layer.arguments;Layer.length;this.className="Layer",d.length>0&&this.initLayer(a,b,c)}function pg_createPage(a,b){return new Page(a,b)}function pg_createDefualtPage(){defualt_page=pg_createPage()}function pg_getDefualtPage(){return defualt_page}function pg_int_getPageId(){return common_page_id+page_counter++}function pg_int_registerPage(a){page_Register[a.id]=a}function Page(a,b){var c=Page.arguments;Page.length;this.className="Page",c.length>0&&this.initPage(a,b)}function ds_initDesktop(){desktop=new Desktop}function ds_getDesktop(){return desktop}function ds_addEventListener(a,b,c){null!=desktop&&desktop.registerNode(a,b,c)}function ds_removeEventListener(a,b){null!=desktop&&desktop.unregisterNode(a,b)}function cv_removeAllEventListeners(a){null!=desktop&&desktop.unregisterNodeFromAll(a)}function ds_handleKey(a){desktop.processEvents(a)}function Desktop(){Desktop.arguments,Desktop.length;this.className="Desktop",this.draggedObject=null,this.init()}function Node_Callback(a,b){this.node=a,this.callback=b}function Font(a,b,c){var d=Font.arguments;Font.length;this.className="Font",this.PLAIN=0,this.BOLD=1,this.ITALIC=2,d.length>0&&this.initFont(a,b,c)}function FontMetrics(a){var b=FontMetrics.arguments;FontMetrics.length;this.className="FontMetrics",this.pt2px=1.6,this.h2bl=.8,b.length>0&&this.initFontMetrics(a)}function createGraphics(a,b,c,d,e,f){return new Graphics(a,b,c,d,e,f)}function getGraphicsId(){return common_graphics_id+graphics_counter++}function Graphics(a,b,c,d,e,f){var g=Graphics.arguments;Graphics.length;this.id=null,this.font=null,this.color=null,this.strokeWidth=null,this.backgroundColor=null,this.strokeColor=null,this.backgroundRect=null,this.clipRect=null,this.clipNode=null,0==g.length?this.initGraphics(0,0,defaultWidth,defaultHeight,null,null):this.initGraphics(a,b,c,d,e,f)}function Shape(){Shape.arguments,Shape.length;this.className="Shape",this.initShape()}function Line(a,b,c,d,e){var f=Line.arguments;Line.length;this.className="Line",f.length>0&&this.initLine(a,b,c,d,e)}function Oval(a,b,c,d,e){var f=Oval.arguments;Oval.length;this.className="Oval",this.radiusX=0,this.radiusY=0,f.length>0&&this.initOval(a,b,c,d,e)}function Circle(a,b,c,d){var e=Circle.arguments;Circle.length;this.className="Circle",this.radius=0,e.length>0&&this.initCircle(a,b,c,d)}function Polygon(a,b,c,d,e){var f=Polygon.arguments;Polygon.length;this.className="Polygon",f.length>0&&this.initPolygon(a,b,c,d,e)}function Path(a,b,c,d){var e=Path.arguments;Path.length;this.className="Path",e.length>0&&this.initPath(a,b,c,d)}function WinBorder(a,b,c,d,e){var f=WinBorder.arguments;WinBorder.length;this.className="WinBorder",f.length>0&&this.initWinBorder(a,b,c,d,e)}function StepBorder(a,b,c,d,e){var f=StepBorder.arguments;StepBorder.length;this.className="StepBorder",f.length>0&&this.initStepBorder(a,b,c,d,e)}function BoxBorder(a,b,c,d,e,f){var g=BoxBorder.arguments;BoxBorder.length;this.className="BoxBorder",g.length>0&&this.initBoxBorder(a,b,c,d,e,f)}function RRectangle(a,b,c,d,e,f,g){var h=RRectangle.arguments;RRectangle.length;this.className="RRectangle",h.length>0&&this.initRRectangle(a,b,c,d,e,f,g)}function Rectangle(a,b,c,d,e){var f=Rectangle.arguments;Rectangle.length;this.className="Rectangle",f.length>0&&this.initRectangle(a,b,c,d,e)}function tp_int_getTextPathId(){return common_text_path_id+text_path_counter++}function Text(a,b,c,d,e,f){var g=Text.arguments;Text.length;this.className="Text",g.length>0&&this.initText(a,b,c,d,e,f)}function rg_int_getRegionId(){return common_region_id+region_counter++}function FlowParagraph(a,b,c){var d=FlowParagraph.arguments;FlowParagraph.length;this.className="FlowParagraph",d.length>0&&this.initFlowParagraph(a,b,c)}function TextView(a,b,c,d,e,f,g){var h=TextView.arguments;TextView.length;this.className="TextView",h.length>0&&this.initTextView(a,b,c,d,e,f,g)}function Image(a,b,c,d,e,f){var g=Image.arguments;Image.length;this.className="Image",g.length>0&&this.initImage(a,b,c,d,e,f)}function SpinnerImage(a,b,c,d,e,f,g){var h=SpinnerImage.arguments;SpinnerImage.length;this.className="SpinnerImage",f=f||"#000",this.spinners={audio:'data:image/svg+xml,<svg width="55" height="80" viewBox="0 0 55 80" xmlns="http://www.w3.org/2000/svg" fill="'+f+'"> <g transform="matrix(1 0 0 -1 0 80)"> <rect width="10" height="20" rx="3"> <animate attributeName="height" begin="0s" dur="4.3s" values="20;45;57;80;64;32;66;45;64;23;66;13;64;56;34;34;2;23;76;79;20" calcMode="linear" repeatCount="indefinite"/> </rect> <rect x="15" width="10" height="80" rx="3"> <animate attributeName="height" begin="0s" dur="2s" values="80;55;33;5;75;23;73;33;12;14;60;80" calcMode="linear" repeatCount="indefinite"/> </rect> <rect x="30" width="10" height="50" rx="3"> <animate attributeName="height" begin="0s" dur="1.4s" values="50;34;78;23;56;23;34;76;80;54;21;50" calcMode="linear" repeatCount="indefinite"/> </rect> <rect x="45" width="10" height="30" rx="3"> <animate attributeName="height" begin="0s" dur="2s" values="30;45;13;80;56;72;45;76;34;23;67;30" calcMode="linear" repeatCount="indefinite"/> </rect> </g></svg>',ball_triangle:'data:image/svg+xml,<svg width="57" height="57" viewBox="0 0 57 57" xmlns="http://www.w3.org/2000/svg" stroke="'+f+'"> <g fill="none" fill-rule="evenodd"> <g transform="translate(1 1)" stroke-width="2"> <circle cx="5" cy="50" r="5"> <animate attributeName="cy" begin="0s" dur="2.2s" values="50;5;50;50" calcMode="linear" repeatCount="indefinite"/> <animate attributeName="cx" begin="0s" dur="2.2s" values="5;27;49;5" calcMode="linear" repeatCount="indefinite"/> </circle> <circle cx="27" cy="5" r="5"> <animate attributeName="cy" begin="0s" dur="2.2s" from="5" to="5" values="5;50;50;5" calcMode="linear" repeatCount="indefinite"/> <animate attributeName="cx" begin="0s" dur="2.2s" from="27" to="27" values="27;49;5;27" calcMode="linear" repeatCount="indefinite"/> </circle> <circle cx="49" cy="50" r="5"> <animate attributeName="cy" begin="0s" dur="2.2s" values="50;50;5;50" calcMode="linear" repeatCount="indefinite"/> <animate attributeName="cx" from="49" to="49" begin="0s" dur="2.2s" values="49;5;27;49" calcMode="linear" repeatCount="indefinite"/> </circle> </g> </g></svg>',bars:'data:image/svg+xml,<svg width="135" height="140" viewBox="0 0 135 140" xmlns="http://www.w3.org/2000/svg" fill="'+f+'"> <rect y="10" width="15" height="120" rx="6"> <animate attributeName="height" begin="0.5s" dur="1s" values="120;110;100;90;80;70;60;50;40;140;120" calcMode="linear" repeatCount="indefinite"/> <animate attributeName="y" begin="0.5s" dur="1s" values="10;15;20;25;30;35;40;45;50;0;10" calcMode="linear" repeatCount="indefinite"/> </rect> <rect x="30" y="10" width="15" height="120" rx="6"> <animate attributeName="height" begin="0.25s" dur="1s" values="120;110;100;90;80;70;60;50;40;140;120" calcMode="linear" repeatCount="indefinite"/> <animate attributeName="y" begin="0.25s" dur="1s" values="10;15;20;25;30;35;40;45;50;0;10" calcMode="linear" repeatCount="indefinite"/> </rect> <rect x="60" width="15" height="140" rx="6"> <animate attributeName="height" begin="0s" dur="1s" values="120;110;100;90;80;70;60;50;40;140;120" calcMode="linear" repeatCount="indefinite"/> <animate attributeName="y" begin="0s" dur="1s" values="10;15;20;25;30;35;40;45;50;0;10" calcMode="linear" repeatCount="indefinite"/> </rect> <rect x="90" y="10" width="15" height="120" rx="6"> <animate attributeName="height" begin="0.25s" dur="1s" values="120;110;100;90;80;70;60;50;40;140;120" calcMode="linear" repeatCount="indefinite"/> <animate attributeName="y" begin="0.25s" dur="1s" values="10;15;20;25;30;35;40;45;50;0;10" calcMode="linear" repeatCount="indefinite"/> </rect> <rect x="120" y="10" width="15" height="120" rx="6"> <animate attributeName="height" begin="0.5s" dur="1s" values="120;110;100;90;80;70;60;50;40;140;120" calcMode="linear" repeatCount="indefinite"/> <animate attributeName="y" begin="0.5s" dur="1s" values="10;15;20;25;30;35;40;45;50;0;10" calcMode="linear" repeatCount="indefinite"/> </rect></svg>',circles:'data:image/svg+xml,<svg width="135" height="135" viewBox="0 0 135 135" xmlns="http://www.w3.org/2000/svg" fill="'+f+'"> <path d="M67.447 58c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10zm9.448 9.447c0 5.523 4.477 10 10 10 5.522 0 10-4.477 10-10s-4.478-10-10-10c-5.523 0-10 4.477-10 10zm-9.448 9.448c-5.523 0-10 4.477-10 10 0 5.522 4.477 10 10 10s10-4.478 10-10c0-5.523-4.477-10-10-10zM58 67.447c0-5.523-4.477-10-10-10s-10 4.477-10 10 4.477 10 10 10 10-4.477 10-10z"> <animateTransform attributeName="transform" type="rotate" from="0 67 67" to="-360 67 67" dur="2.5s" repeatCount="indefinite"/> </path> <path d="M28.19 40.31c6.627 0 12-5.374 12-12 0-6.628-5.373-12-12-12-6.628 0-12 5.372-12 12 0 6.626 5.372 12 12 12zm30.72-19.825c4.686 4.687 12.284 4.687 16.97 0 4.686-4.686 4.686-12.284 0-16.97-4.686-4.687-12.284-4.687-16.97 0-4.687 4.686-4.687 12.284 0 16.97zm35.74 7.705c0 6.627 5.37 12 12 12 6.626 0 12-5.373 12-12 0-6.628-5.374-12-12-12-6.63 0-12 5.372-12 12zm19.822 30.72c-4.686 4.686-4.686 12.284 0 16.97 4.687 4.686 12.285 4.686 16.97 0 4.687-4.686 4.687-12.284 0-16.97-4.685-4.687-12.283-4.687-16.97 0zm-7.704 35.74c-6.627 0-12 5.37-12 12 0 6.626 5.373 12 12 12s12-5.374 12-12c0-6.63-5.373-12-12-12zm-30.72 19.822c-4.686-4.686-12.284-4.686-16.97 0-4.686 4.687-4.686 12.285 0 16.97 4.686 4.687 12.284 4.687 16.97 0 4.687-4.685 4.687-12.283 0-16.97zm-35.74-7.704c0-6.627-5.372-12-12-12-6.626 0-12 5.373-12 12s5.374 12 12 12c6.628 0 12-5.373 12-12zm-19.823-30.72c4.687-4.686 4.687-12.284 0-16.97-4.686-4.686-12.284-4.686-16.97 0-4.687 4.686-4.687 12.284 0 16.97 4.686 4.687 12.284 4.687 16.97 0z"> <animateTransform attributeName="transform" type="rotate" from="0 67 67" to="360 67 67" dur="8s" repeatCount="indefinite"/> </path></svg>',grid:'data:image/svg+xml,<svg width="105" height="105" viewBox="0 0 105 105" xmlns="http://www.w3.org/2000/svg" fill="'+f+'"> <circle cx="12.5" cy="12.5" r="12.5"> <animate attributeName="fill-opacity" begin="0s" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"/> </circle> <circle cx="12.5" cy="52.5" r="12.5" fill-opacity=".5"> <animate attributeName="fill-opacity" begin="100ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"/> </circle> <circle cx="52.5" cy="12.5" r="12.5"> <animate attributeName="fill-opacity" begin="300ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"/> </circle> <circle cx="52.5" cy="52.5" r="12.5"> <animate attributeName="fill-opacity" begin="600ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"/> </circle> <circle cx="92.5" cy="12.5" r="12.5"> <animate attributeName="fill-opacity" begin="800ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"/> </circle> <circle cx="92.5" cy="52.5" r="12.5"> <animate attributeName="fill-opacity" begin="400ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"/> </circle> <circle cx="12.5" cy="92.5" r="12.5"> <animate attributeName="fill-opacity" begin="700ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"/> </circle> <circle cx="52.5" cy="92.5" r="12.5"> <animate attributeName="fill-opacity" begin="500ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"/> </circle> <circle cx="92.5" cy="92.5" r="12.5"> <animate attributeName="fill-opacity" begin="200ms" dur="1s" values="1;.2;1" calcMode="linear" repeatCount="indefinite"/> </circle></svg>',hearts:'data:image/svg+xml,<svg width="140" height="64" viewBox="0 0 140 64" xmlns="http://www.w3.org/2000/svg" fill="'+f+'"> <path d="M30.262 57.02L7.195 40.723c-5.84-3.976-7.56-12.06-3.842-18.063 3.715-6 11.467-7.65 17.306-3.68l4.52 3.76 2.6-5.274c3.717-6.002 11.47-7.65 17.305-3.68 5.84 3.97 7.56 12.054 3.842 18.062L34.49 56.118c-.897 1.512-2.793 1.915-4.228.9z" fill-opacity=".5"> <animate attributeName="fill-opacity" begin="0s" dur="1.4s" values="0.5;1;0.5" calcMode="linear" repeatCount="indefinite"/> </path> <path d="M105.512 56.12l-14.44-24.272c-3.716-6.008-1.996-14.093 3.843-18.062 5.835-3.97 13.588-2.322 17.306 3.68l2.6 5.274 4.52-3.76c5.84-3.97 13.592-2.32 17.307 3.68 3.718 6.003 1.998 14.088-3.842 18.064L109.74 57.02c-1.434 1.014-3.33.61-4.228-.9z" fill-opacity=".5"> <animate attributeName="fill-opacity" begin="0.7s" dur="1.4s" values="0.5;1;0.5" calcMode="linear" repeatCount="indefinite"/> </path> <path d="M67.408 57.834l-23.01-24.98c-5.864-6.15-5.864-16.108 0-22.248 5.86-6.14 15.37-6.14 21.234 0L70 16.168l4.368-5.562c5.863-6.14 15.375-6.14 21.235 0 5.863 6.14 5.863 16.098 0 22.247l-23.007 24.98c-1.43 1.556-3.757 1.556-5.188 0z"/></svg>',oval:'data:image/svg+xml,<svg width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg" stroke="'+f+'"> <g fill="none" fill-rule="evenodd"> <g transform="translate(1 1)" stroke-width="2"> <circle stroke-opacity=".5" cx="18" cy="18" r="18"/> <path d="M36 18c0-9.94-8.06-18-18-18"> <animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"/> </path> </g> </g></svg>',puff:'data:image/svg+xml,<svg width="44" height="44" viewBox="0 0 44 44" xmlns="http://www.w3.org/2000/svg" stroke="'+f+'"> <g fill="none" fill-rule="evenodd" stroke-width="2"> <circle cx="22" cy="22" r="1"> <animate attributeName="r" begin="0s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite"/> <animate attributeName="stroke-opacity" begin="0s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite"/> </circle> <circle cx="22" cy="22" r="1"> <animate attributeName="r" begin="-0.9s" dur="1.8s" values="1; 20" calcMode="spline" keyTimes="0; 1" keySplines="0.165, 0.84, 0.44, 1" repeatCount="indefinite"/> <animate attributeName="stroke-opacity" begin="-0.9s" dur="1.8s" values="1; 0" calcMode="spline" keyTimes="0; 1" keySplines="0.3, 0.61, 0.355, 1" repeatCount="indefinite"/> </circle> </g></svg>',rings:'data:image/svg+xml,<svg width="45" height="45" viewBox="0 0 45 45" xmlns="http://www.w3.org/2000/svg" stroke="'+f+'"> <g fill="none" fill-rule="evenodd" transform="translate(1 1)" stroke-width="2"> <circle cx="22" cy="22" r="6" stroke-opacity="0"> <animate attributeName="r" begin="1.5s" dur="3s" values="6;22" calcMode="linear" repeatCount="indefinite"/> <animate attributeName="stroke-opacity" begin="1.5s" dur="3s" values="1;0" calcMode="linear" repeatCount="indefinite"/> <animate attributeName="stroke-width" begin="1.5s" dur="3s" values="2;0" calcMode="linear" repeatCount="indefinite"/> </circle> <circle cx="22" cy="22" r="6" stroke-opacity="0"> <animate attributeName="r" begin="3s" dur="3s" values="6;22" calcMode="linear" repeatCount="indefinite"/> <animate attributeName="stroke-opacity" begin="3s" dur="3s" values="1;0" calcMode="linear" repeatCount="indefinite"/> <animate attributeName="stroke-width" begin="3s" dur="3s" values="2;0" calcMode="linear" repeatCount="indefinite"/> </circle> <circle cx="22" cy="22" r="8"> <animate attributeName="r" begin="0s" dur="1.5s" values="6;1;2;3;4;5;6" calcMode="linear" repeatCount="indefinite"/> </circle> </g></svg>',spinning_circles:'data:image/svg+xml,<svg width="58" height="58" viewBox="0 0 58 58" xmlns="http://www.w3.org/2000/svg"> <g fill="none" fill-rule="evenodd"> <g transform="translate(2 1)" stroke="'+f+'" stroke-width="1.5"> <circle cx="42.601" cy="11.462" r="5" fill-opacity="1" fill="'+f+'"> <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="1;0;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"/> </circle> <circle cx="49.063" cy="27.063" r="5" fill-opacity="0" fill="'+f+'"> <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;1;0;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"/> </circle> <circle cx="42.601" cy="42.663" r="5" fill-opacity="0" fill="'+f+'"> <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;1;0;0;0;0;0" calcMode="linear" repeatCount="indefinite"/> </circle> <circle cx="27" cy="49.125" r="5" fill-opacity="0" fill="'+f+'"> <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;1;0;0;0;0" calcMode="linear" repeatCount="indefinite"/> </circle> <circle cx="11.399" cy="42.663" r="5" fill-opacity="0" fill="'+f+'"> <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;1;0;0;0" calcMode="linear" repeatCount="indefinite"/> </circle> <circle cx="4.938" cy="27.063" r="5" fill-opacity="0" fill="'+f+'"> <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;1;0;0" calcMode="linear" repeatCount="indefinite"/> </circle> <circle cx="11.399" cy="11.462" r="5" fill-opacity="0" fill="'+f+'"> <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;1;0" calcMode="linear" repeatCount="indefinite"/> </circle> <circle cx="27" cy="5" r="5" fill-opacity="0" fill="'+f+'"> <animate attributeName="fill-opacity" begin="0s" dur="1.3s" values="0;0;0;0;0;0;0;1" calcMode="linear" repeatCount="indefinite"/> </circle> </g> </g></svg>',tail_spin:'data:image/svg+xml,<svg width="38" height="38" viewBox="0 0 38 38" xmlns="http://www.w3.org/2000/svg"> <defs> <linearGradient x1="8.042%" y1="0%" x2="65.682%" y2="23.865%" id="a"> <stop stop-color="'+f+'" stop-opacity="0" offset="0%"/> <stop stop-color="'+f+'" stop-opacity=".631" offset="63.146%"/> <stop stop-color="'+f+'" offset="100%"/> </linearGradient> </defs> <g fill="none" fill-rule="evenodd"> <g transform="translate(1 1)"> <path d="M36 18c0-9.94-8.06-18-18-18" id="Oval-2" stroke="url(#a)" stroke-width="2"> <animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="0.9s" repeatCount="indefinite"/> </path> <circle fill="'+f+'" cx="36" cy="18" r="1"> <animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="0.9s" repeatCount="indefinite"/> </circle> </g> </g></svg>',three_dots:'data:image/svg+xml,<svg width="120" height="30" viewBox="0 0 120 30" xmlns="http://www.w3.org/2000/svg" fill="'+f+'"> <circle cx="15" cy="15" r="15"> <animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"/> <animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"/> </circle> <circle cx="60" cy="15" r="9" fill-opacity="0.3"> <animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"/> <animate attributeName="fill-opacity" from="0.5" to="0.5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"/> </circle> <circle cx="105" cy="15" r="15"> <animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"/> <animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"/> </circle></svg>'};var i=this.spinners[e]?this.spinners[e]:this.spinners.tail_spin;h.length>0&&this.initSpinner(a,b,c,d,i,g)}function cr_int_getCursorId(){return common_cursor_id+cursor_counter++}function Cursor(a,b,c){Cursor.arguments,Cursor.length;this.initCursor(a,b,c)}function tp_int_getToolTipFontSize(){var a=svgDocument.rootElement.currentScale;return toolTipFontSize/a+toolTipFontSizeUnit}function tp_int_getToolTipNode(){return svgDocument.getElementById(toolTipNodeId)}function tp_int_disposeToolTipNode(){deleteSVGNodeById(toolTipNodeId)}function tp_setToolTipFont(a){toolTipFontSize=a.getSize(),toolTipFontName=a.getName(),toolTipFontStyle=a.getStyle()}function tp_getToolTipFont(){return new Font(toolTipFontName,toolTipFontStyle,toolTipFontSize)}function tp_setToolTipTextColor(a){toolTipTextColor=a}function tp_getToolTipTextColor(){return toolTipTextColor}function tp_setToolTipBorderColor(a){toolTipBorderColor=a}function tp_getToolTipBorderColor(){return toolTipBorderColor}function tp_setToolTipBackgroundColor(a){toolTipBackgroundColor=a}function tp_getToolTipBackgroundColor(){return toolTipBackgroundColor}function tp_setToolTipBorderWidth(a){toolTipBorderWidth=a}function tp_getToolTipBorderWidth(){return toolTipBorderWidth}function tp_turnToolTipOn(){toolTipOnOffFlag=!0}function tp_turnToolTipOff(){toolTipOnOffFlag=!1}function tp_setToolTipText(a,b){void 0!=b&&null!=b&&(b.addEventListener("mousemove",tp_int_mouse_over,!1),b.addEventListener("mouseover",tp_int_mouse_over,!1),b.addEventListener("mouseout",tp_int_mouse_out,!1),b.setAttribute("class",a))}function tp_removeToolTipText(a){void 0!=a&&null!=a&&(a.removeEventListener("mousemove",tp_int_mouse_over,!1),a.removeEventListener("mouseover",tp_int_mouse_over,!1),a.removeEventListener("mouseout",tp_int_mouse_out,!1),tp_disposeToolTipNode())}function tp_int_createToolTip(a){var b=svgDocument.rootElement.currentScale,c=new Graphics(0,0,0,0,toolTipNodeId);c.setAttribute("pointer-events","none"),c.setFont(new Font(toolTipFontName,toolTipFontStyle,tp_int_getToolTipFontSize()));var d=c.getFontMetrics(),e=a.target.getAttribute("class");if(null!=e&&""!=e||(e=a.target.parentNode.getAttribute("class"),null!=e&&"null"!=e&&""!=e)){var f=d.getStringWidth(e)+7/b,g=d.getHeight()+4/b,h=4/b,i=2/b;c.setColor("black");var j=c.drawRect(3/b,3/b,f,g);j.setOpacity(.5),c.setColor(toolTipBackgroundColor),c.setStrokeWidth(toolTipBorderWidth/b),c.setStrokeColor(toolTipBorderColor),c.drawRect(0,0,f,g),c.setColor(toolTipTextColor);var k=c.drawText(h,i,e);return k.moveBy(0,11/b),c.setAttribute("shape-rendering","crispEdges"),toolTipLayer.addGraphics(c),c}}function tp_int_mouse_over(a){var b=svgDocument.rootElement.currentScale;if(toolTipMouseOverFlag||(toolTipMouseOverFlag=!0,tp_int_disposeToolTipNode(),toolTipGraphics=tp_int_createToolTip(a)),null!=toolTipGraphics){toolTipGraphics.setVisibility(toolTipOnOffFlag);var c=svgDocument.rootElement.currentTranslate.x,d=svgDocument.rootElement.currentTranslate.y,e=a.clientX-c+13,f=a.clientY-d;toolTipGraphics.translate(e/b,f/b)}}function tp_int_mouse_out(a){tp_disposeToolTipNode()}function tp_disposeToolTipNode(){toolTipNode=tp_int_getToolTipNode(),null!=toolTipNode&&(toolTipNode.setAttribute("visibility","hidden"),toolTipMouseOverFlag=!1,null!=toolTipGraphics&&(toolTipGraphics.dispose(),toolTipGraphics=null))}function Vector(a){var b=Vector.arguments;Vector.length;this.className="Vector",this.elementData=new Array,this.elementCount=0,this.initialCapacity=10,b.length>0&&this.initVector(a)}function Hashtable(a,b,c){var d=Hashtable.arguments;Hashtable.length;this.className="Hashtable",this.buffer=new Array,d.length>0&&this.initHashtable(a,b,c)}function EventListener(){var a=EventListener.arguments;EventListener.length;this.className="EventListener",a.length>0&&this.initEventListener()}function EventObject(a){var b=EventObject.arguments;EventObject.length;this.className="EventObject",this.source=null,b.length>0&&this.initEventObject(a)}function Enumeration(a){var b=Enumeration.arguments;Enumeration.length;this.className="Enumeration",b.length>0&&this.initEnumeration(a)}function Enumerator(a){var b=Enumerator.arguments;Enumerator.length;this.className="Enumerator",this.fEnumeration=null,b.length>0&&this.initEnumerator(a)}function ReverseEnumerator(a){var b=ReverseEnumerator.arguments;ReverseEnumerator.length;this.className="ReverseEnumerator",this.fEnumeration=null,b.length>0&&this.initReverseEnumerator(a)}function ReverseVectorEnumerator(a){var b=ReverseVectorEnumerator.arguments;ReverseVectorEnumerator.length;this.className="ReverseVectorEnumerator",this.vector=new Vector,this.count=0,b.length>0&&this.initReverseVectorEnumerator(a)}function Point2D(a,b){this.className="Point2D",this.x=a,this.y=b}function Point(a,b){if(this.className="Point",a||b||(a=0,b=0),a instanceof Point){var c=a;a=c.getX(),b=c.getY()}this.x=a,this.y=b}function Dimension2D(){this.className="Dimension2D"}function Dimension(a,b){if(this.className="Dimension",a||b||(a=0,b=0),a instanceof Dimension){var c=a;a=c.getWidth(),b=c.getHeight()}this.width=a,this.height=b}function Rectangle2D(){this.className="Rectangle2D",this.MIN_VALUE=-2147483648,this.MAX_VALUE=2147483647,this.OUT_LEFT=1,this.OUT_TOP=2,this.OUT_RIGHT=4,this.OUT_BOTTOM=8,this.x=0,this.y=0,this.width=0,this.height=0}function gRectangle(a,b,c,d){if(this.className="gRectangle",void 0==a&&void 0==b&&void 0==c&&void 0==d&&(a=0,b=0,c=0,d=0),void 0!=a&&void 0!=b&&void 0==c&&void 0==d)if(a instanceof Point&&b instanceof Dimension){var e=a,f=b;a=e.getX(),b=e.getY(),c=f.getWidth(),d=f.getHeight()}else c=a,d=b,a=0,b=0;if(a instanceof gRectangle){var g=a;a=g.getX(),b=g.getY(),c=g.getWidth(),d=g.getHeight()}else if(a instanceof Point){var e=a;a=e.getX(),b=e.getY(),c=0,d=0}else if(a instanceof Dimension){var f=a;a=0,b=0,c=f.getWidth(),d=f.getHeight()}this.x=a,this.y=b,this.width=c,this.height=d}function gPolygon(a,b,c){var d=gPolygon.arguments;gPolygon.length;this.className="gPolygon",this.npoints=0,this.xpoints=null,this.ypoints=null,this.bounds=null,1==d.length?this.initgPolygon():d.length>0&&this.initgPolygon(a,b,c)}function Insets(a,b,c,d){var e=Insets.arguments;Insets.length;this.className="Insets",e.length>0&&this.initInsets(a,b,c,d)}function Color(a,b,c,d){var e=Color.arguments;Color.length;this.className="Color",this.pData=0,this.value-0,this.frgbvalue=new Array,this.fvalue=new Array,this.falpha=0,e.length>0&&this.initColor(a,b,c,d)}function cColor(){this.className="cColor",this.white=new Color(255,255,255),this.WHITE=this.white,this.lightGray=new Color(192,192,192),this.LIGHT_GRAY=this.lightGray,this.gray=new Color(128,128,128),this.GRAY=this.gray,this.darkGray=new Color(64,64,64),this.DARK_GRAY=this.darkGray,this.black=new Color(0,0,0),this.BLACK=this.black,this.red=new Color(255,0,0),this.RED=this.red,this.pink=new Color(255,175,175),this.PINK=this.pink,this.orange=new Color(255,200,0),this.ORANGE=this.orange,this.yellow=new Color(255,255,0),this.YELLOW=this.yellow,this.green=new Color(0,255,0),this.GREEN=this.green,this.magenta=new Color(255,0,255),this.MAGENTA=this.magenta,this.cyan=new Color(0,255,255),this.CYAN=this.cyan,this.blue=new Color(0,0,255),this.BLUE=this.blue,this.white=new Color(255,255,255),this.WHITE=this.white,this.white=new Color(255,255,255),this.WHITE=this.white}function MouseListener(){}function MouseMotionListener(){}function MouseEvent(a,b,c,d){var e=MouseEvent.arguments;MouseEvent.length;this.className="MouseEvent",this.source=null,this.x=0,this.y=0,this.screenX=0,this.screenY=0,this.clickCount=0,this.button=0,this.ctrlKey=!1,this.shiftKey=!1,this.altKey=!1,this.metaKey=!1,e.length>0&&this.initMouseEvent(a,c,d,b)}function KeyEvent(a,b){var c=KeyEvent.arguments;KeyEvent.length;this.className="KeyEvent",this.source=null,this.keyCode=0,this.keyChar=0,this.ctrlKey=!1,this.shiftKey=!1,this.altKey=!1,this.metaKey=!1,c.length>0&&this.initKeyEvent(a,b)}function ActionEvent(a,b,c){var d=ActionEvent.arguments;ActionEvent.length;this.className="ActionEvent",this.source=null,this.actionCommand=null,this.ctrlKey=!1,this.shiftKey=!1,this.altKey=!1,this.metaKey=!1,this.evt=null,d.length>0&&this.initActionEvent(a,b,c)}function KeyListener(a,b,c,d,e){KeyListener.arguments,KeyListener.length;this.className="KeyListener"}function ActionListener(){ActionEvent.arguments,ActionEvent.length;this.className="ActionEvent",this.className="ActionListener"}function ButtonSkin(){this.name="ButtonSkin",this.className="ButtonSkin",this.pressed=!1,this.button=null}function SimpleButtonSkin(){this.name="SimpleButtonSkin",this.className="SimpleButtonSkin",this.border=null}function WinButtonSkin(){this.name="WinButtonSkin",this.className="WinButtonSkin"}function BoxButtonSkin(){this.name="BoxButtonSkin",this.className="BoxButtonSkin",this.depth=2}function ToolButtonSkin(){this.name="ToolButtonSkin",this.className="ToolButtonSkin",this.mIn=!1}function FlatButtonSkin(){this.name="FlatButtonSkin",this.className="FlatButtonSkin"}function WindowSkin(){this.name="WindowSkin",this.className="WindowSkin",this.window=null,this.g=null,this.border=null,this.borderWidth=2,this.titleRect=null,this.titleLabel=null,this.activeColor=null,this.inactiveColor=null}function DefaultWindowSkin(){this.name="DefaultWindowSkin",this.className="DefaultWindowSkin",this.window=null,this.borderWidth=2,this.titleRect=null,this.border=null,
this.titleLabel=null,this.activeColor="url(#WinG1)",this.inactiveColor="url(#WinG2)"}function SimpleWindowSkin(){this.name="SimpleWindowSkin",this.className="SimpleWindowSkin",this.window=null,this.borderWidth=2,this.titleRect=null,this.border=null,this.titleLabel=null,this.activeColor="blue",this.inactiveColor="gray"}function ListenerManager(){this.className="ListenerManager",this.name="ListenerManager",this.intEventListeners=null,this.extMouseMotionListeners=null,this.extMouseListeners=null,this.extKeyListeners=null}function EventManager(){var a=EventManager.arguments;EventManager.length;this.className="EventManager",this.name="EventManager",this.mouseState=null,this.processMouseMotionEvent=null,this.processMouseEvent=null,a.length>0&&this.initEventManager()}function FlowLayout(a,b,c){var d=FlowLayout.arguments;FlowLayout.length;this.name="FlowLayout",this.className="FlowLayout",this.LEFT=0,this.CENTER=1,this.RIGHT=2,this.LEADING=3,this.TRAILING=4,this.align=-1,this.newAlign=-1,this.hgap=0,this.vgap=0,d.length>0&&this.initFlowLayout(a,b,c)}function BoxLayout(a,b,c,d){var e=BoxLayout.arguments;BoxLayout.length;this.name="BoxLayout",this.className="BoxLayout",this.axis=-1,this.align=-1,this.valign=-1,this.gap=-1,e.length>0&&this.initBoxLayout(a,b,c,d)}function Counter(a){void 0!=a?this.counter=a:this.counter=0}function Component(a,b,c,d,e){var f=Component.arguments;Component.length;this.className="Component",this.name="Component",this.componentId=null,this.counter=new Array(0),this.x=0,this.y=0,this.w=0,this.h=0,this.left=0,this.right=0,this.top=0,this.bottom=0,this.cParent=null,this.type=LOW_LEVEL,this.foreground="black",this.background="none",this.font=null,this.cursor=null,this.visible=!0,this.enabled=!0,this.focusable=!0,this.hasFocus=!1,this.minSize=null,this.prefSize=null,this.GlassPane=null,this.created=!1,this.absolutePosition=!1,this.actionListeners=null,this.tooltipText=null,this.popUpMenu=null,this.rootg=null,this.g=null,this.glassPaneg=null,this.layeredGraphicsCount=0,this.tooltipGraphics=null,this.loading=!0,this.spinner=null,f.length>0&&this.initComponent(a,b,c,d,e)}function Canvas(a,b,c,d,e){var f=Canvas.arguments;Canvas.length;this.name="Canvas",this.className="Canvas",f.length>0&&this.initCanvas(a,b,c,d,e)}function Container(a){var b=Container.arguments;Container.length;this.name="Container",this.className="Container",this.children=null,this.layout=null,this.pressX=0,this.pressY=0,this.oldContextMenu=null,null==this.draggOwner,null==this.moveOwner,this.containerCursor=null,b.length>0&&this.initContainer(a)}function Panel(a,b,c,d){var e=Panel.arguments;Panel.length;this.name="Panel",this.className="Panel",e.length>0&&this.initPanel(a,b,c,d)}function Icon(a,b,c){var d=Icon.arguments;Icon.length;this.className="Icon",this.name="Icon",this.filename=null,this.iconShape=null,this.w=0,this.h=0,d.length>0&&this.initIcon(a,b,c)}function Spinner(a,b,c,d){Spinner.arguments,Spinner.length;this.className="Spinner",this.name=a||"tail_spin",this.color=d||"#000",this.w=b||64,this.h=c||64,this.spinner=null}function Label(a,b,c,d,e,f,g,h){var i=Label.arguments;Label.length;this.className="Label",this.name="Label",this.caption=null,this.textColor=h||"black",this.align=CENTER,this.valign=CENTER,this.resizeToText=!0,this.lg=null,this.icon=null,this.textShape=null,this.textShapeWidth=0,this.textShapeHeight=0,this.margin=5,i.length>0&&this.initLabel(a,b,c,d,e,f,g)}function Button(a,b,c,d,e,f,g){var h=Button.arguments;Button.length;this.name="Button",this.className="Button",this.sking=null,this.contentg=null,this.buttonSkin=null,h.length>0&&this.initButton(a,b,c,d,e,f,g)}function CheckBox(a){var b=CheckBox.arguments;CheckBox.length;this.name="CheckBox",this.className="CheckBox",this.contentg=null,this.bgRect=null,this.boxBorder=null,this.crossLine1=null,this.crossLine2=null,this.selected=!1,b.length>0&&this.initCheckBox(a)}function RadioButton(a){var b=RadioButton.arguments;RadioButton.length;this.name="RadioButton",this.className="RadioButton",this.bgCircle=null,this.innerCircle=null,b.length>0&&this.initRadioButton(a)}function ButtonGroup(a,b,c){ButtonGroup.arguments,ButtonGroup.length;this.className="ButtonGroup",this.name="ButtonGroup",this.lg=null,this.contentg=null,this.initButtonGroup(a,b,c)}function Toolbar(a,b,c,d){var e=Toolbar.arguments;Toolbar.length;this.name="Toolbar",this.className="Toolbar",this.border=null,this.contentg=null,this.autoResize=!0,e.length>0&&this.initToolbar(a,b,c,d)}function TabbedPane(a,b,c,d){var e=TabbedPane.arguments;TabbedPane.length;this.panes=null,this.currentPane=null,this.name="TabbedPane",this.className="TabbedPane",this.tabsEffectiveWidth=0,this.tabsEffectiveHeight=0,this.tabsLocation=LEFT,this.paneg=null,this.buttonsg=null,e.length>0&&this.initTabbedPane(a,b,c,d)}function Pane(a,b,c,d,e){var f=Pane.arguments;Pane.length;this.name="Pane",this.className="Pane",this.button=null,this.border=null,f.length>0&&this.initPane(a,b,c,d,e)}function TitledBorder(a,b,c,d,e){var f=TitledBorder.arguments;TitledBorder.length;this.className="TitledBorder",this.name="TitledBorder",this.align=LEFT,this.valign=BOTTOM,this.contentg=null,this.tg=null,this.rect1=null,this.rect2=null,this.comp=null,this.strokeWidth=1.5,f.length>0&&this.initTitledBorder(a,b,c,d,e)}function Separator(a,b,c,d){var e=Separator.arguments;Separator.length;this.className="Separator",this.name="Separator",this.sg=null,this.separatorShape=null,e.length>0&&this.initSeparator(a,b,c,d)}function List(a,b,c,d){var e=List.arguments;List.length;this.className="List",this.name="List",this.fixedSize=!1,this.lg=null,this.contentg=null,this.border=null,this.selRectColor="#3498db",this.highlightedComp=null,e.length>0&&this.initList(a,b,c,d)}function PopUpMenu(a,b,c,d){var e=PopUpMenu.arguments;PopUpMenu.length;this.name="PopUpMenu",this.className="PopUpMenu",e.length>0&&this.initPopUpMenu(a,b,c,d)}function TextBox(a,b,c,d,e,f){var g=TextBox.arguments;TextBox.length;this.className="TextBox",this.name="TextBox",this.multiLine=f||!1,this.passwordMode=!1,this.passwordChar="*",this.margin=5,this.selCharPos1=-1,this.selCharPos2=-1,this.cursorCharPos=0,this.cursorHeight=0,this.cursorWidth=1,this.text=null,this.textShape=null,this.tv=null,this.cursorShape=null,this.selectionRectShape=null,this.insertMode=!1,this.trs=!0,this.font=new Font("Helvetica","normal","10pt"),this.fontColor="black",this.backgroundColor="white",this.selectionGraphicsClear=!0,this.selectionColor="blue",this.selectionStrokeColor="none",this.selectionStrokeWidth=0,this.sg=null,this.styledMode=!1,this.created=!1,g.length>0&&this.initTextBox(a,b,c,d,e)}function ComboBox(a,b,c,d,e){var f=ComboBox.arguments;ComboBox.length;this.name="ComboBox",this.className="ComboBox",this.cg=null,this.contentg=null,this.screen=null,this.button=null,this.comp=null,this.menu=null,f.length>0&&this.initComboBox(a,b,c,d,e)}function Spin(a,b,c,d,e){var f=Spin.arguments;Spin.length;this.name="Spin",this.className="Spin",this.format=null,this.value=0,this.dinc=1,this.min=0,this.max=100,this.label=null,this.upButton=null,this.downButton=null,this.border=null,this.contentg=null,f.length>0&&this.initSpin(a,b,c,d,e)}function ColorBox(a,b,c,d,e,f){var g=ColorBox.arguments;ColorBox.length;this.name="ColorBox",this.className="ColorBox",this.color="red",this.rect=null,this.border=null,this.contentg=null,g.length>0&&this.initColorBox(a,b,c,d,e,f)}function ColorlList(a,b,c,d){var e=ColorlList.arguments;ColorlList.length;this.className="ColorlList",this.name="ColorlList",this.itemWidth=25,this.itemHeight=25,this.colNum=0,this.rowNum=0,this.selRect=null,this.colors=new Array("#000000","#202020","#404040","#808080","#C0C0C0","#FFFFFF","#030031","#07024C","#0A036B","#003270","#006667","#009965","#340067","#680398","#683496","#6A6995","#669899","#6CC29B","#330000","#343201","#356500","#349803","#33CC00","#31FE01","#690000","#673500","#6A6B0D","#6B9407","#65CC01","#63FF00","#990001","#9F3304","#995E00","#9B9500","#97CC00","#9BFF00","#CF0001","#C83708","#C7680A","#CF9903","#D1CC00","#C9FB01","#FE0000","#FE0000","#FE6601","#FC9A05","#FFFF00","none"),this.curColor=this.colors[0],e.length>0&&this.initColorlList(a,b,c,d)}function ColorComboBox(a){var b=ColorComboBox.arguments;ColorComboBox.length;this.name="ColorComboBox",this.className="ColorComboBox",b.length>0&&this.initColorComboBox(a)}function Window(a,b,c,d,e,f,g,h){var i=Window.arguments;Window.length;this.name="Window",this.className="Window",this.sking=null,this.contentg=null,this.windowSkin=h||null,this.edgeWidth=5,this.fixedSize=!1,this.title=e||"Untitled: ",this.icon=f||null,this.titleRectHeight=18,this.minWidth=70,this.minHeight=70,this.closeBut=null,this.closeButtonFlag=g||!0,this.active=!1,this.execludedMovingAreaWidth=0,this.recalcInsets=!0,i.length>0&&this.initWindow(a,b,c,d)}function Launcher(a,b){var c=Launcher.arguments;Launcher.length;this.className="Launcher",this.defaultW=325,this.defaultH=70,this.callback=null,c.length>0&&this.initLauncher(a,b)}function hdChangeSelectionRectStyle(a){hdSelectionRectStyle=a}function hdChangeImageURL(a){hdImageURL=a}function createMarker(a,b,c,d){void 0==d&&(d="");var e=createSVGNode("marker",{id:a,style:"overflow:visible",refX:0,refY:0,viewBox:"0 0 10 10",markerUnits:"strokeWidth",markerWidth:4,markerHeight:3,orient:"auto"});return createSVGNode("path",{d:c,style:b,transform:d},e),df_addToDefs(e),e}function InitialiseHotDraw(){createMarker("Scissors","marker-start:none","M 9.0898857,-3.6061018 C 8.1198849,-4.7769976 6.3697607,-4.7358294 5.0623558,-4.2327734 L -3.1500488,-1.1548705 C -5.5383421,-2.4615840 -7.8983361,-2.0874077 -7.8983361,-2.7236578 C -7.8983361,-3.2209742 -7.4416699,-3.1119800 -7.5100293,-4.4068519 C -7.5756648,-5.6501286 -8.8736064,-6.5699315 -10.100428,-6.4884954 C -11.327699,-6.4958500 -12.599867,-5.5553341 -12.610769,-4.2584343 C -12.702194,-2.9520479 -11.603560,-1.7387447 -10.304005,-1.6532027 C -8.7816644,-1.4265411 -6.0857470,-2.3487593 -4.8210600,-0.082342643 C -5.7633447,1.6559151 -7.4350844,1.6607341 -8.9465707,1.5737277 C -10.201445,1.5014928 -11.708664,1.8611256 -12.307219,3.0945882 C -12.885586,4.2766744 -12.318421,5.9591904 -10.990470,6.3210002 C -9.6502788,6.8128279 -7.8098011,6.1912892 -7.4910978,4.6502760 C -7.2454393,3.4624530 -8.0864637,2.9043186 -7.7636052,2.4731223 C -7.5199917,2.1477623 -5.9728246,2.3362771 -3.2164999,1.0982979 L 5.6763468,4.2330688 C 6.8000164,4.5467672 8.1730685,4.5362646 9.1684433,3.4313614 L -0.051640930,-0.053722219 L 9.0898857,-3.6061018 z M -9.2179159,-5.5066058 C -7.9233569,-4.7838060 -8.0290767,-2.8230356 -9.3743431,-2.4433169 C -10.590861,-2.0196559 -12.145370,-3.2022863 -11.757521,-4.5207817 C -11.530373,-5.6026336 -10.104134,-6.0014137 -9.2179159,-5.5066058 z M -9.1616516,2.5107591 C -7.8108215,3.0096239 -8.0402087,5.2951947 -9.4138723,5.6023681 C -10.324932,5.9187072 -11.627422,5.4635705 -11.719569,4.3902287 C -11.897178,3.0851737 -10.363484,1.9060805 -9.1616516,2.5107591 z "),createMarker("TriangleOutS","fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none","M 5.77,0.0 L -2.88,5.0 L -2.88,-5.0 L 5.77,0.0 z ","scale(0.2)"),createMarker("TriangleOutM","fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none","M 5.77,0.0 L -2.88,5.0 L -2.88,-5.0 L 5.77,0.0 z ","scale(0.4)"),createMarker("TriangleOutL","fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none","M 5.77,0.0 L -2.88,5.0 L -2.88,-5.0 L 5.77,0.0 z ","scale(0.8)"),createMarker("TriangleInS","fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none","M 5.77,0.0 L -2.88,5.0 L -2.88,-5.0 L 5.77,0.0 z ","scale(-0.2)"),createMarker("TriangleInM","fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none","M 5.77,0.0 L -2.88,5.0 L -2.88,-5.0 L 5.77,0.0 z ","scale(-0.4)"),createMarker("TriangleInL","fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none","M 5.77,0.0 L -2.88,5.0 L -2.88,-5.0 L 5.77,0.0 z ","scale(-0.8)"),createMarker("DiamondS","fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none","M -2.1579186e-005,-7.0710768 L -7.0710894,-8.9383918e-006 L -2.1579186e-005,7.0710589 L 7.0710462,-8.9383918e-006 L -2.1579186e-005,-7.0710768 z ","scale(0.2)"),createMarker("DiamondM","fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none","M -2.1579186e-005,-7.0710768 L -7.0710894,-8.9383918e-006 L -2.1579186e-005,7.0710589 L 7.0710462,-8.9383918e-006 L -2.1579186e-005,-7.0710768 z ","scale(0.4)"),createMarker("DiamondL","fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none","M -2.1579186e-005,-7.0710768 L -7.0710894,-8.9383918e-006 L -2.1579186e-005,7.0710589 L 7.0710462,-8.9383918e-006 L -2.1579186e-005,-7.0710768 z ","scale(0.8)"),createMarker("SquareS","fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none","M -5.0,-5.0 L -5.0,5.0 L 5.0,5.0 L 5.0,-5.0 L -5.0,-5.0 z ","scale(0.2)"),createMarker("SquareM","fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none","M -5.0,-5.0 L -5.0,5.0 L 5.0,5.0 L 5.0,-5.0 L -5.0,-5.0 z ","scale(0.4)"),createMarker("SquareL","fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none","M -5.0,-5.0 L -5.0,5.0 L 5.0,5.0 L 5.0,-5.0 L -5.0,-5.0 z ","scale(0.8)"),createMarker("Dot_s","fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none;marker-end:none","M -2.5,-1.0 C -2.5,1.7600000 -4.7400000,4.0 -7.5,4.0 C -10.260000,4.0 -12.5,1.7600000 -12.5,-1.0 C -12.5,-3.7600000 -10.260000,-6.0 -7.5,-6.0 C -4.7400000,-6.0 -2.5,-3.7600000 -2.5,-1.0 z ","scale(0.2) translate(7.125493, 1)"),createMarker("Dot_m","fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none;marker-end:none","M -2.5,-1.0 C -2.5,1.7600000 -4.7400000,4.0 -7.5,4.0 C -10.260000,4.0 -12.5,1.7600000 -12.5,-1.0 C -12.5,-3.7600000 -10.260000,-6.0 -7.5,-6.0 C -4.7400000,-6.0 -2.5,-3.7600000 -2.5,-1.0 z ","scale(0.4) translate(7.125493, 1)"),createMarker("Dot_l","fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none;marker-end:none","M -2.5,-1.0 C -2.5,1.7600000 -4.7400000,4.0 -7.5,4.0 C -10.260000,4.0 -12.5,1.7600000 -12.5,-1.0 C -12.5,-3.7600000 -10.260000,-6.0 -7.5,-6.0 C -4.7400000,-6.0 -2.5,-3.7600000 -2.5,-1.0 z ","scale(0.8) translate(7.125493, 1)");var a=createSVGNode("marker",{id:"Tail",style:"overflow:visible",refX:0,refY:0,viewBox:"0 0 10 10",markerUnits:"strokeWidth",markerWidth:4,markerHeight:3,orient:"auto"}),b=createSVGNode("g",{transform:"scale(-1.2)"},a);createSVGNode("path",{d:"M -3.8048674,-3.9585227 L 0.54352094,-0.00068114835",style:"fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.8;marker-start:none;marker-end:none;stroke-linecap:round",transform:""},b),createSVGNode("path",{d:"M -1.2866832,-3.9585227 L 3.0617053,-0.00068114835",style:"fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.8;marker-start:none;marker-end:none;stroke-linecap:round",transform:""},b),createSVGNode("path",{d:"M 1.3053582,-3.9585227 L 5.6537466,-0.00068114835",style:"fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.8;marker-start:none;marker-end:none;stroke-linecap:round",transform:""},b),createSVGNode("path",{d:"M -3.8048674,4.1775838 L 0.54352094,0.21974226",style:"fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.8;marker-start:none;marker-end:none;stroke-linecap:round",transform:""},b),createSVGNode("path",{d:"M -1.2866832,4.1775838 L 3.0617053,0.21974226",style:"fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.8;marker-start:none;marker-end:none;stroke-linecap:round",transform:""},b),createSVGNode("path",{d:"M 1.3053582,4.1775838 L 5.6537466,0.21974226",style:"fill:none;fill-rule:evenodd;stroke:#000000;stroke-width:0.8;marker-start:none;marker-end:none;stroke-linecap:round",transform:""},b),df_addToDefs(a),createMarker("Arrow2Sstart","font-size:12.0;fill-rule:evenodd;stroke-width:0.62500000;stroke-linejoin:round","M 8.7185878,4.0337352 L -2.2072895,0.016013256 L 8.7185884,-4.0017078 C 6.9730900,-1.6296469 6.9831476,1.6157441 8.7185878,4.0337352 z ","scale(0.3) translate(-5,0)"),createMarker("Arrow2Mstart","font-size:12.0;fill-rule:evenodd;stroke-width:0.62500000;stroke-linejoin:round","M 8.7185878,4.0337352 L -2.2072895,0.016013256 L 8.7185884,-4.0017078 C 6.9730900,-1.6296469 6.9831476,1.6157441 8.7185878,4.0337352 z ","scale(0.6) translate(-5,0)"),createMarker("Arrow2Lstart","font-size:12.0;fill-rule:evenodd;stroke-width:0.62500000;stroke-linejoin:round","M 8.7185878,4.0337352 L -2.2072895,0.016013256 L 8.7185884,-4.0017078 C 6.9730900,-1.6296469 6.9831476,1.6157441 8.7185878,4.0337352 z ","scale(1.1) translate(-5,0)"),createMarker("Arrow2Send","font-size:12.0;fill-rule:evenodd;stroke-width:0.62500000;stroke-linejoin:round;","M 8.7185878,4.0337352 L -2.2072895,0.016013256 L 8.7185884,-4.0017078 C 6.9730900,-1.6296469 6.9831476,1.6157441 8.7185878,4.0337352 z ","scale(0.3) rotate(180) translate(-5,0)"),createMarker("Arrow2Mend","font-size:12.0;fill-rule:evenodd;stroke-width:0.62500000;stroke-linejoin:round;","M 8.7185878,4.0337352 L -2.2072895,0.016013256 L 8.7185884,-4.0017078 C 6.9730900,-1.6296469 6.9831476,1.6157441 8.7185878,4.0337352 z ","scale(0.6) rotate(180) translate(-5,0)"),createMarker("Arrow2Lend","font-size:12.0;fill-rule:evenodd;stroke-width:0.62500000;stroke-linejoin:round;","M 8.7185878,4.0337352 L -2.2072895,0.016013256 L 8.7185884,-4.0017078 C 6.9730900,-1.6296469 6.9831476,1.6157441 8.7185878,4.0337352 z ","scale(1.1) rotate(180) translate(-5,0)"),createMarker("Arrow1Sstart","fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none","M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z ","scale(0.2)"),createMarker("Arrow1Mstart","fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none","M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z ","scale(0.4)"),createMarker("Arrow1Lstart","fill-rule:evenodd;stroke:#000000;stroke-width:1.0pt;marker-start:none","M 0.0,0.0 L 5.0,-5.0 L -12.5,0.0 L 5.0,5.0 L 0.0,0.0 z ","scale(0.8)"),setBackgroundPatterns()}function setBackgroundPatterns(){var a;pattern=createSVGNode("pattern",{id:"bg_grid",x:0,y:0,width:12,height:12,overflow:"visible",patternUnits:"userSpaceOnUse",preserveAspectRatio:"xMidYMid meet"}),pattern.appendChild(createSVGNode("rect",{x:0,y:0,width:12,height:12,style:"stroke:#D1E3F6;stroke-width:1;fill:white"})),df_addToDefs(pattern),pattern=createSVGNode("pattern",{id:"bg_mesh",x:0,y:0,width:64,height:64,overflow:"visible",patternUnits:"userSpaceOnUse",preserveAspectRatio:"xMidYMid meet"}),pattern.appendChild(createSVGNode("circle",{cx:32,cy:32,r:28,style:"stroke:none;stroke-width:0;fill:white"})),df_addToDefs(pattern),a=createSVGNode("linearGradient",{id:"bg_whiteVerticalLinearColor",x1:"0%",y1:"0%",x2:"0%",y2:"100%"}),a.appendChild(createSVGNode("stop",{offset:"0%","stop-color":"#E1EBF0"})),a.appendChild(createSVGNode("stop",{offset:"100%","stop-color":"rgb(255,255,255)"})),df_addToDefs(a),pattern=createSVGNode("pattern",{id:"bg_isometric",x:0,y:0,width:174.6957398,height:262.4999313,overflow:"visible",patternUnits:"userSpaceOnUse",preserveAspectRatio:"xMidYMid meet"}),pattern.appendChild(createSVGNode("rect",{x:0,y:0,width:195.6957398,height:262.4999313,style:"stroke:none;stroke-width:0;fill:#6AC60D"})),pattern.appendChild(createSVGNode("rect",{x:97.8478699,y:-43.74998855,width:97.8478699,height:87.4999771,transform:"matrix(0.894246,0.447576,0,1,0,0)",style:"stroke:none;stroke-width:0;fill:#4FA019"})),pattern.appendChild(createSVGNode("rect",{x:0,y:43.74998855,width:97.8479004,height:87.4999771,transform:"matrix(0.894246,-0.447577,0,1,0,0)",style:"stroke:none;stroke-width:0;fill:#65B821"})),pattern.appendChild(createSVGNode("rect",{x:0,y:131.24996564999998,width:97.8478699,height:87.4999771,transform:"matrix(0.894246,0.447576,0,1,0,0)",style:"stroke:none;stroke-width:0;fill:#4FA019"})),pattern.appendChild(createSVGNode("rect",{x:97.8478699,y:218.74994275,width:97.8479004,height:87.4999771,transform:"matrix(0.894246,-0.447577,0,1,0,0)",style:"stroke:none;stroke-width:0;fill:#65B821"})),df_addToDefs(pattern)}function Figure(){var a=Figure.arguments;Figure.length;this.className="Figure",a.length>0&&this.initFigure()}function Drawing(){var a=Drawing.arguments;Drawing.length;this.className="Drawing",a.length>0&&this.initDrawing()}function FigureEnumeration(){var a=FigureEnumeration.arguments;FigureEnumeration.length;this.className="FigureEnumeration",a.length>0&&this.initFigureEnumeration()}function FigureChangeListener(){}function DrawingChangeListener(){}function FigureChangeEvent(a,b){var c=FigureChangeEvent.arguments;FigureChangeEvent.length;this.className="FigureChangeEvent",this.fRectangle=null,this.fgEmptyRectangle=new gRectangle(0,0,0,0),c.length>0&&this.initFigureChangeEvent(a,b)}function DrawingChangeEvent(a,b){var c=DrawingChangeEvent.arguments;DrawingChangeEvent.length;this.className="DrawingChangeEvent",this.fRectangle=null,this.fgEmptyRectangle=new gRectangle(0,0,0,0),c.length>0&&this.initDrawingChangeEvent(a,b)}function Tool(){this.className="Tool"}function DrawingView(){this.className="DrawingView"}function DrawingEditor(){this.className="DrawingEditor"}function Handle(){this.className="Handle",this.HANDLESIZE=8}function Locator(){this.className="Locator"}function ReverseVectorEnumerator(a){var b=ReverseVectorEnumerator.arguments;ReverseVectorEnumerator.length;this.className="ReverseVectorEnumerator",this.vector=new Vector,this.count=0,b.length>0&&this.initReverseVectorEnumerator(a)}function PaletteButton(a){var b=PaletteButton.arguments;PaletteButton.length;this.className="PaletteButton",this.fListener=null,this.fState=0,this.fOldState=0,b.length>0&&this.initPaletteButton(a)}function Command(a){var b=Command.arguments;Command.length;this.className="Command",this.fName=null,b.length>0&&this.initCommand(a)}function FloatingTextField(){var a=FloatingTextField.arguments;FloatingTextField.length;this.className="FloatingTextField",this.fEditWidget=null,this.fContainer=null,a.length>=0&&this.initFloatingTextField()}function Geom(){var a=Geom.arguments;Geom.length;this.className="Geom",this.NORTH=1,this.SOUTH=2,this.WEST=3,this.EAST=4,a.length>0&&this.initGeom()}function FigureTransferCommand(a,b){var c=FigureTransferCommand.arguments;FigureTransferCommand.length;this.className="Command",this.fView=null,c.length>0&&this.initFigureTransferCommand(a,b)}function DeleteCommand(a,b){var c=DeleteCommand.arguments;DeleteCommand.length;this.className="Command",this.fView=null,c.length>0&&this.initDeleteCommand(a,b)}function DuplicateCommand(a,b){var c=DuplicateCommand.arguments;DuplicateCommand.length;this.className="Command",this.fView=null,c.length>0&&this.initDuplicateCommand(a,b)}function GroupCommand(a,b){var c=GroupCommand.arguments;GroupCommand.length;this.className="Command",this.fView=null,c.length>0&&this.initGroupCommand(a,b)}function UngroupCommand(a,b){var c=UngroupCommand.arguments;UngroupCommand.length;this.className="Command",this.fView=null,c.length>0&&this.initUngroupCommand(a,b)}function FigureEnumerator(a){var b=FigureEnumerator.arguments;FigureEnumerator.length;this.className="FigureEnumerator",this.fEnumeration=null,b.length>0&&this.initFigureEnumerator(a)}function ReverseFigureEnumerator(a){var b=ReverseFigureEnumerator.arguments;ReverseFigureEnumerator.length;this.className="ReverseFigureEnumerator",this.fEnumeration=null,b.length>0&&this.initReverseFigureEnumerator(a)}function FigureChangeEventMulticaster(a,b){var c=FigureChangeEventMulticaster.arguments;FigureChangeEventMulticaster.length;this.className="FigureChangeEventMulticaster",this.a=null,this.b=null,c.length>0&&this.initFigureChangeEventMulticaster(a,b)}function AbstractFigure(){var a=AbstractFigure.arguments;AbstractFigure.length;this.className="AbstractFigure",this.id=null,this.myCount=0,this.counter=new Array(0),this.fListener=null,this.shape=null,this.created=!1,a.length>0&&this.initAbstractFigure()}function cloneObject(a){for(i in a)"object"==typeof a[i]?this[i]=new cloneObject(a[i]):this[i]=a[i]}function getCompositeFigureId(){return common_composite_figure_id+cocomposite_figure_counter++}function CompositeFigure(){var a=CompositeFigure.arguments;CompositeFigure.length;this.className="CompositeFigure",this.fFigures=null,this.g=null,a.length>0&&this.initCompositeFigure()}function StandardDrawing(){var a=StandardDrawing.arguments;StandardDrawing.length;this.className="StandardDrawing",this.fListeners=null,this.fDrawingLockHolder=null,a.length>0&&this.initStandardDrawing()}function AbstractTool(a){var b=AbstractTool.arguments;AbstractTool.length;this.className="AbstractTool",this.fView=null,this.fAnchorX=0,this.fAnchorY=0,b.length>0&&this.initAbstractTool(a)}function SelectionTool(a){var b=SelectionTool.arguments;SelectionTool.length;this.className="SelectionTool",this.fChild=null,b.length>0&&this.initSelectionTool(a)}function StandardDrawingView(a,b,c){var d=StandardDrawingView.arguments;StandardDrawingView.length;this.className="StandardDrawingView",this.fEditor=null,this.fDrawing=null,this.fDamage=null,this.fSelection=null,this.fSelectionHandles=null,this.fViewSize=null,this.fLastClick=null,this.fBackgrounds=null,this.fForegrounds=null,this.fUpdateStrategy=null,this.viewcontentg=null,this.selectiong=null,this.textBoxg=null,this.fConstrainer=null,d.length>0&&this.initStandardDrawingView(a,b,c)}function ToolButton(a,b,c,d){var e=ToolButton.arguments;ToolButton.length;this.className="ToolButton",this.fName=null,this.fTool=null,this.fIcon=null,e.length>0&&this.initToolButton(a,b,c,d)}function PaletteIcon(a,b,c,d){var e=PaletteIcon.arguments;PaletteIcon.length;this.className="PaletteIcon",this.fNormal=null,this.fPressed=null,this.fSelected=null,this.fName=null,e.length>0&&this.initPaletteIcon(a,b,c,d)}function SelectAreaTracker(a){var b=SelectAreaTracker.arguments;SelectAreaTracker.length;this.className="SelectAreaTracker",this.fSelectGroup=null,this.shape=null,b.length>0&&this.initSelectAreaTracker(a)}function CreationTool(a,b){var c=CreationTool.arguments;CreationTool.length;this.className="CreationTool",this.fAnchorPoint=null,this.fCreatedFigure=null,this.fPrototype=null,c.length>0&&this.initCreationTool(a,b)}function ScribbleTool(a){var b=ScribbleTool.arguments;ScribbleTool.length;this.className="ScribbleTool",this.fScribble=null,this.fLastX=null,this.fLastY=null,b.length>0&&this.initScribbleTool(a)}function DragTracker(a,b){var c=DragTracker.arguments;DragTracker.length;this.className="DragTracker",this.fAnchorFigure=null,this.fLastX=null,this.fLastY=null,this.fMoved=null,c.length>0&&this.initDragTracker(a,b)}function AbstractHandle(a){var b=AbstractHandle.arguments;AbstractHandle.length;this.className="AbstractHandle",this.color="yellow",this.fOwner=null,this.shape=null,this.created=!1,this.HANDLESIZE=8,b.length>0&&this.initAbstractHandle(a)}function LocatorHandle(a,b){var c=LocatorHandle.arguments;LocatorHandle.length;this.className="LocatorHandle",this.fLocator=null,c.length>0&&this.initLocatorHandle(a,b)}function RadiusHandle(a){var b=RadiusHandle.arguments;RadiusHandle.length;this.className="RadiusHandle",this.fRadius=null,this.fOwner=null,this.OFFSET=4,b.length>0&&this.initRadiusHandle(a)}function HandleTracker(a,b){var c=HandleTracker.arguments;HandleTracker.length;this.className="HandleTracker",this.fAnchorHandle=null,c.length>0&&this.initHandleTracker(a,b)}function AbstractLocator(){this.className="AbstractLocator"}function RelativeLocator(a,b){var c=RelativeLocator.arguments;RelativeLocator.length;this.className="RelativeLocator",this.fRelativeX=0,this.fRelativeY=0,c.length>0&&this.initRelativeLocator(a,b)}function NorthEastHandle(a){var b=NorthEastHandle.arguments;NorthEastHandle.length;this.className="NorthEastHandle",b.length>0&&this.initNorthEastHandle(a)}function EastHandle(a){var b=EastHandle.arguments;EastHandle.length;this.className="EastHandle",b.length>0&&this.initEastHandle(a)}function NorthHandle(a){var b=NorthHandle.arguments;NorthHandle.length;this.className="NorthHandle",b.length>0&&this.initNorthHandle(a)}function NorthWestHandle(a){var b=NorthWestHandle.arguments;NorthWestHandle.length;this.className="NorthWestHandle",b.length>0&&this.initNorthWestHandle(a)}function SouthEastHandle(a){var b=SouthEastHandle.arguments;SouthEastHandle.length;this.className="SouthEastHandle",b.length>0&&this.initSouthEastHandle(a)}function SouthHandle(a){var b=SouthHandle.arguments;SouthHandle.length;this.className="SouthHandle",b.length>0&&this.initSouthHandle(a)}function SouthWestHandle(a){var b=SouthWestHandle.arguments;SouthWestHandle.length;this.className="SouthWestHandle",b.length>0&&this.initSouthWestHandle(a)}function WestHandle(a){var b=WestHandle.arguments;WestHandle.length;this.className="WestHandle",b.length>0&&this.initWestHandle(a)}function BoxHandleKit(){var a=BoxHandleKit.arguments;BoxHandleKit.length;this.className="BoxHandleKit",a.length>0&&this.initBoxHandleKit()}function TextHolder(){this.className="TextHolder"}function NullHandle(a,b){var c=NullHandle.arguments;NullHandle.length;this.className="NullHandle",c.length>0&&this.initNullHandle(a,b)}function ActionTool(a){var b=ActionTool.arguments;ActionTool.length;this.className="ActionTool",b.length>0&&this.initActionTool(a)}function FigureAttributes(){var a=FigureAttributes.arguments;FigureAttributes.length;this.className="FigureAttributes",this.fMap=new Hashtable,a.length>0&&this.initFigureAttributes()}function AttributeFigure(){var a=AttributeFigure.arguments;AttributeFigure.length;this.className="AttributeFigure",this.fgDefaultAttributes=null,this.fAttributes=null,a.length>0&&this.initAttributeFigure()}function DecoratorFigure(a){var b=DecoratorFigure.arguments;DecoratorFigure.length;this.className="DecoratorFigure",this.fComponent=null,b.length>0&&this.initDecoratorFigure(a)}function RectangleFigure(a,b){var c=RectangleFigure.arguments;RectangleFigure.length;this.className="RectangleFigure",this.fDisplayBox=null,c.length>0&&this.initRectangleFigure(a,b)}function PolyLineFigure(a,b){var c=PolyLineFigure.arguments;PolyLineFigure.length;this.className="PolyLineFigure",this.d="M -1 -1",this.shape=null,this.fPoints=null,this.fStartDecoration=null,this.fEndDecoration=null,this.fFrameColor="black",this.fFrameWidth=1,this.fOpacity=1,this.pathChanged=!1,c.length>0&&this.initPolyLineFigure(a,b)}function EllipseFigure(a,b){var c=EllipseFigure.arguments;EllipseFigure.length;this.className="EllipseFigure",this.fDisplayBox=null,c.length>0&&this.initEllipseFigure(a,b)}function ImageFigure(a,b,c){var d=ImageFigure.arguments;ImageFigure.length;this.className="ImageFigure",this.fFileName=null,this.preserveAspectRatio="none",d.length>0&&this.initImageFigure(a,b,c)}function RoundRectangleFigure(a,b){var c=RoundRectangleFigure.arguments;RoundRectangleFigure.length;this.className="RoundRectangleFigure",this.fDisplayBox=null,this.DEFAULT_ARC=15,this.fArcWidth=this.DEFAULT_ARC,this.fArcHeight=this.DEFAULT_ARC,c.length>0&&this.initRoundRectangleFigure(a,b)}function TextFigure(){var a=TextFigure.arguments;TextFigure.length;this.className="TextFigure",this.fOriginX=0,this.fOriginY=0,this.fSizeIsDirty=!0,this.fWidth=0,this.fHeight=0,this.fText="",this.fIsReadOnly=!1,this.fObservedFigure=null,this.fLocator=null,this.fgCurrentFontName="Helvetica",this.fgCurrentFontSize=10,this.fgCurrentFontStyle="Normal",this.fFont=this.createCurrentFont(),a.length>0&&this.initTextFigure()}function TextTool(a,b){var c=TextTool.arguments;TextTool.length;this.className="TextTool",this.fTextField=null,this.fTypingTarget=null,c.length>0&&this.initTextTool(a,b)}function FontSizeHandle(a,b){var c=FontSizeHandle.arguments;FontSizeHandle.length;this.className="FontSizeHandle",this.fFont=null,this.fSize=0,this.color="yellow",c.length>0&&this.initFontSizeHandle(a,b)}function PolyLineHandle(a,b,c){var d=PolyLineHandle.arguments;PolyLineHandle.length;this.className="PolyLineHandle",this.fAnchor=null,this.fIndex=0,d.length>0&&this.initPolyLineHandle(a,b,c)}function PolyLineLocator(a){this.className="PolyLineLocator",this.fIndex=0,
this.initPolyLineLocator(a)}function LineFigure(){var a=LineFigure.arguments;LineFigure.length;this.className="LineFigure",a.length>0&&this.initLineFigure()}function BorderDecorator(a){var b=BorderDecorator.arguments;BorderDecorator.length;this.className="BorderDecorator",b.length>0&&this.initBorderDecorator(a)}function BorderTool(a){var b=BorderTool.arguments;BorderTool.length;this.className="BorderTool",b.length>0&&this.initBorderTool(a)}function GroupFigure(){var a=GroupFigure.arguments;GroupFigure.length;this.className="GroupFigure",a.length>=0&&this.initGroupFigure()}function GroupHandle(a,b){var c=GroupHandle.arguments;GroupHandle.length;this.className="GroupHandle",c.length>0&&this.initGroupHandle(a,b)}function PolygonFigure(a,b){var c=PolygonFigure.arguments;PolygonFigure.length;this.className="PolygonFigure",this.fPoly=null,c.length>0&&this.initPolygonFigure(a,b)}function PolygonFigureLocator(a){this.className="PolygonFigureLocator",this.pointIndex=a}function PolygonHandle(a,b,c){var d=PolygonHandle.arguments;PolygonHandle.length;this.className="PolygonHandle",this.fLocator=null,this.fIndex=0,d.length>0&&this.initPolygonHandle(a,b,c)}function PolygonTool(a){var b=PolygonTool.arguments;PolygonTool.length;this.className="PolygonTool",this.fPolygon=null,this.fLastX=null,this.fLastY=null,b.length>0&&this.initPolygonTool(a)}function PolygonScaleHandle(a){var b=PolygonScaleHandle.arguments;PolygonScaleHandle.length;this.className="PolygonScaleHandle",this.fOrigin=null,this.fCurrent=null,this.fOrigPoly=null,b.length>0&&this.initPolygonScaleHandle(a)}function FloatingTextArea(){var a=FloatingTextArea.arguments;FloatingTextArea.length;this.className="FloatingTextArea",this.fEditWidget=null,this.fContainer=null,a.length>=0&&this.initFloatingTextArea()}function TextAreaTool(a,b){var c=TextAreaTool.arguments;TextAreaTool.length;this.className="TextAreaTool",this.fTextAreaField=null,this.fTypingTarget=null,this.textHolderDefaultWidth=300,this.textHolderDefaultHeight=300,c.length>0&&this.initTextAreaTool(a,b)}function OpacityHandle(a,b){var c=OpacityHandle.arguments;OpacityHandle.length;this.className="OpacityHandle",this.opacity=0,this.min=-100,this.max=100,c.length>0&&this.initOpacityHandle(a,b)}function TextAlignHandle(a,b){var c=TextAlignHandle.arguments;TextAlignHandle.length;this.className="TextAlignHandle",this.textAlign={0:"left",1:"right",2:"center",3:"justify"},this.counter=0,c.length>0&&this.initTextAlignHandle(a,b)}function TextAreaDecorator(a){var b=TextAreaDecorator.arguments;TextAreaDecorator.length;this.className="TextAreaDecorator",this.fIsReadOnly=!1,this.fText="SVG HotDraw is a two-dimensional graphics framework for structured drawing editors that is written in JavaScript for SVG. It has been used to create many different editors from CASE tools to a HyperCard clone. You can easily create new figures and special manipulation tools for your drawings.",this.fgCurrentFontName="Helvetica",this.fgCurrentFontSize=14,this.fgCurrentFontStyle="Normal",this.fFont=this.createCurrentFont(),this.para=null,b.length>0&&this.initTextAreaDecorator(a)}function DrawApplication(){DrawApplication.arguments,DrawApplication.length;this.name="DrawApplication",this.className="DrawApplication",this.fDrawing=null,this.fTool=null,this.fIconkit=null,this.fStatusLine=null,this.fView=null,this.fDefaultToolButton=null,this.fSelectedToolButton=null,this.fDrawingFilename=null,this.fgUntitled="untitled",this.fgDrawPath="",this.IMAGES=this.fgDrawPath+"../../img/"}function DemoDrawingView(a,b,c){var d=DemoDrawingView.arguments;DemoDrawingView.length;this.className="DemoDrawingView",this.changeEventFlag=!0,this.targetFigure=!0,this.popUpMenu2=null,d.length>0&&this.initDemoDrawingView(a,b,c)}function DemoApplication(){DemoApplication.arguments,DemoApplication.length;this.name="DemoApplication",this.className="DemoApplication",this.figures=new Hashtable,this._curFig=null,this.tools=null,this.attributesWindow=null}function DemoAttributes(a,b){var c=DemoAttributes.arguments;DemoAttributes.length;this.name="DemoAttributes",this.className="DemoAttributes",this.selected=null,this.imageURL=null,this.fontComboBox=null,this.fillColorLabel=null,this.strokeColorLabel=null,this.fillColorComboBox=null,this.strokeColorComboBox=null,this.modified=null,this.cw=520,this.ch=145,c.length>0&&this.initDemoAttributes(a,b)}function runHotdrawjs(){userName="User("+Math.floor(1e3*Math.random())+")",initialise(),InitialiseHotDraw(),ds_getDesktop().setColor("#C0C0C0"),hdChangeImageURL("../../img/joe.surf.yellow.small.gif"),run()}function run(){demoApplication=new DemoApplication,demoApplication.open(0,0,innerWidth,innerHeight),demoApplication.recalc()}var Batik=0,ASV=1,Native=2,viewerMode=Native,svgDocument=document;Clipboard.prototype.initClipboard=function(){},Clipboard.prototype.clearData=function(){return this.data="",viewerMode==ASV?window.clipboardData.setData("text",this.data):void 0},Clipboard.prototype.setData=function(a){this.data=a,viewerMode==ASV&&window.clipboardData.setData("text",a)},Clipboard.prototype.getData=function(){return viewerMode==ASV?window.clipboardData.getData("text"):this.data};var menuLayer,toolTipLayer,clipboard=new Clipboard;Point.prototype.setX=function(a){this.x=a},Point.prototype.setY=function(a){this.y=a},Point.prototype.getX=function(){return this.x},Point.prototype.getY=function(a){return this.y},Rect.prototype.initRect=function(a,b,c,d){this.x=a,this.y=b,this.xo=0,this.yo=0,this.w=c,this.h=d,this.s=1,this.r=0},Rect.prototype.setCoord=function(a,b){this.x=a,this.y=b},Rect.prototype.getCoord=function(){return new Point(this.x,this.y)},Rect.prototype.setOrigin=function(a,b){this.xo=a,this.yo=b},Rect.prototype.getOrigin=function(){return new Point(this.xo,this.yo)},Rect.prototype.setOriginToCenter=function(){this.setOrigin(this.w/2,this.h/2)},Rect.prototype.setWidth=function(a){this.w=a,this.onResize()},Rect.prototype.getWidth=function(){return this.w},Rect.prototype.setHeight=function(a){this.h=a,this.onResize()},Rect.prototype.getHeight=function(){return this.h},Rect.prototype.setSize=function(a,b){this.w=a,this.h=b,this.onResize()},Rect.prototype.setRotate=function(a){this.r=a},Rect.prototype.getRotate=function(){return this.r},Rect.prototype.setScale=function(a){this.s=a},Rect.prototype.getScale=function(){return this.s},Rect.prototype.translate=function(a,b){this.setCoord(a,b),this.onMove()},Rect.prototype.moveBy=function(a,b){this.translate(this.x+a,this.y+b)},Rect.prototype.rotate=function(a){this.r=a,this.onRotate()},Rect.prototype.scale=function(a){this.s=a,this.onScale()},Rect.prototype.onMove=function(){},Rect.prototype.onRotate=function(){},Rect.prototype.onScale=function(){},Rect.prototype.onResize=function(){};var pal0=["rgb(64,64,64)","rgb(128,128,128)","rgb(212,212,212)","rgb(255,255,255)"],pal1=["rgb(97,29,99)","rgb(196,56,199)","rgb(235,189,236)","rgb(255,255,255)"],pal2=["rgb(128,0,3)","rgb(255,0,6)","rgb(255,170,172)","rgb(255,255,255)"],pal3=["rgb(55,85,43)","rgb(111,170,85)","rgb(207,226,199)","rgb(255,255,255)"],pal4=["rgb(32,18,109)","rgb(64,36,219)","rgb(191,182,243)","rgb(255,255,255)"],pal5=["rgb(117,112,11)","rgb(234,223,21)","rgb(248,244,177)","rgb(255,255,255)"],pal6=["rgb(120,72,7)","rgb(239,145,16)","rgb(250,218,175)","rgb(255,255,255)"],pal7=["rgb(122,5,119)","rgb(245,10,239)","rgb(252,173,250)","rgb(255,255,255)"],pal=pal0;SVGNode.prototype=new Rect,SVGNode.prototype.initSVGNode=function(a){void 0!=a?this.Node=a:this.Node=null,this.parentNode=null,this.cursorType=null},SVGNode.prototype.setId=function(a){return this.setAttribute("id",a)},SVGNode.prototype.getId=function(){return this.getAttribute("id")},SVGNode.prototype.getNode=function(){return this.Node},SVGNode.prototype.setNode=function(a){this.Node=a},SVGNode.prototype.hasAttribute=function(a){return null==this.Node?!1:this.Node.hasAttribute(a)},SVGNode.prototype.setAttribute=function(a,b){return null==this.Node?!1:(this.Node.setAttribute(a,b),!0)},SVGNode.prototype.getAttribute=function(a){return null==this.Node?null:this.Node.getAttribute(a)},SVGNode.prototype.removeAttribute=function(a){return null==this.Node?null:this.Node.removeAttribute(a)},SVGNode.prototype.addEventListener=function(a,b,c){return null==this.Node?!1:(this.Node.addEventListener(a,b,c),!0)},SVGNode.prototype.removeEventListener=function(a,b,c){return null==this.Node?!1:(this.Node.removeEventListener(a,b,c),!0)},SVGNode.prototype.setVisibility=function(a){a?this.setAttribute("visibility","visible"):this.setAttribute("visibility","hidden")},SVGNode.prototype.getVisibility=function(){return"visible"==this.getAttribute("visibility")?!0:!1},SVGNode.prototype.setOpacity=function(a){this.setAttribute("opacity",a)},SVGNode.prototype.getOpacity=function(){return this.getAttribute("opacity")},SVGNode.prototype.addChild=function(a){void 0!=a.getNode&&(a=a.getNode()),null!=this.Node&&void 0==this.Node.addChild?this.Node.appendChild(a):this.Node.addChild(a)},SVGNode.prototype.setParent=function(a){void 0!=a&&null!=a&&(void 0!=a.getNode&&void 0!=this.getNode?a.getNode().appendChild(this.getNode()):a.appendChild(this.getNode()))},SVGNode.prototype.dispose=function(){if(null==this.Node)return null;cv_removeAllEventListeners(this);var a=deleteSVGNode(this.Node);return this.Node=null,a},SVGNode.prototype.setCursor=function(a){this.cursorType=a,viewerMode!=Batik&&a&&null!=a&&(a instanceof Cursor?this.setAttribute("cursor","url(#"+a.getId()+")"):this.setAttribute("cursor",a))},SVGNode.prototype.getCursor=function(){return this.cursorType},SVGNode.prototype.setToolTipText=function(a){tp_setToolTipText(a,this)},SVGNode.prototype.changeToolTipText=function(a){tp_disposeToolTipNode(),tp_setToolTipText(a,this)},SVGNode.prototype.toString=function(){return printNode(this.getNode())};var defsNode=null;RectNode.prototype=new SVGNode,RectNode.prototype.initRectNode=function(a,b,c,d,e,f){this.initSVGNode(),this.initRect(a,b,c,d),this.setRotate(e),this.setScale(f)},RectNode.prototype.onMove=function(){return this.transform()},RectNode.prototype.onRotate=function(){return this.transform()},RectNode.prototype.onScale=function(){return this.transform()},RectNode.prototype.transform=function(){this.transformRectNode()},RectNode.prototype.transformRectNode=function(){if(null==this.Node)return!1;this.y=this.y||0,this.x=this.x||0;var a=" translate("+this.x+" , "+this.y+")";return(this.r>0||1!=this.s)&&(a+=" translate("+this.xo+" , "+this.yo+") rotate("+this.r+") scale("+this.s+") translate(-"+this.xo+" , -"+this.yo+")"),this.Node.setAttribute("transform",a),!0},Node.prototype=new RectNode,Node.prototype.initNode=function(a,b,c,d,e,f){this.initRectNode(a,b,c,d,e,f),this.internalEventsListeners=new Array,this.internalEventsListeners.mousedown=new Array,this.internalEventsListeners.mouseup=new Array,this.internalEventsListeners.mouseout=new Array,this.internalEventsListeners.mouseover=new Array,this.internalEventsListeners.mousemove=new Array,this.internalEventsListeners.clcik=new Array,this.internalEventsListeners.keydown=new Array,this.internalEventsListeners.keyup=new Array,this.internalEventsListeners.keypress=new Array},Node.prototype.addInternalEventListener=function(a,b){var c=this.internalEventsListeners[a],d=c.length;0==d&&this.addEventListener(a,this,this.useCapture),c[d]=b},Node.prototype.removeInternalEventListener=function(a,b){var c=this.internalEventsListeners[a],d=!0;for(i in c)c[i]==b&&(c[i]=null),null!=c[i]&&(d=!1);d&&this.removeEventListener(a,this,this.useCapture)},Node.prototype.addGlobalEventListener=function(a,b){ds_addEventListener(this,a,b)},Node.prototype.removeGlobalEventListener=function(a){ds_removeEventListener(this,a)},Node.prototype.handleEvent=function(a){var b=this.internalEventsListeners[a.type];for(i in b)b[i]&&null!=b[i]&&this[b[i]](a)},Node.prototype.enableSVGMouseEvents=function(a,b,c,d,e,f){a&&this.addEventListener("mouseup",this,this.useCapture),b&&this.addEventListener("mousedown",this,this.useCapture),c&&this.addEventListener("mousemove",this,this.useCapture),d&&this.addEventListener("mouseover",this,this.useCapture),e&&this.addEventListener("mouseout",this,this.useCapture),f&&this.addEventListener("click",this,this.useCapture)},Node.prototype.disableSVGMouseEvents=function(a,b,c,d,e,f){a&&this.removeEventListener("mouseup",this,this.useCapture),b&&this.removeEventListener("mousedown",this,this.useCapture),c&&this.removeEventListener("mousemove",this,this.useCapture),d&&this.removeEventListener("mouseover",this,this.useCapture),e&&this.removeEventListener("mouseout",this,this.useCapture),f&&this.removeEventListener("click",this,this.useCapture)},Node.prototype.enableSVGKeyEvents=function(a,b,c){a&&this.addEventListener("keyup",this,this.useCapture),b&&this.addEventListener("keydown",this,this.useCapture),c&&this.addEventListener("keypress",this,this.useCapture)},Node.prototype.disableSVGKeyEvents=function(a,b,c){a&&this.removeEventListener("keyup",this,this.useCapture),b&&this.removeEventListener("keydown",this,this.useCapture),c&&this.removeEventListener("keypress",this,this.useCapture)},Node.prototype.enableAllMouseEvents=function(){this.enableSVGMouseEvents(!0,!0,!0,!0,!0,!0)},Node.prototype.disableAllMouseEvents=function(){this.disableSVGMouseEvents(!0,!0,!0,!0,!0,!0)};var common_layer_id="layer_",layers_counter=0,layer_Register=new Array,defualt_layer=null;Layer.prototype.initLayer=function(a,b,c){a&&null!=a?this.page=a:this.page=pg_getDefualtPage(),this.setZOrder(b),c&&null!=c?this.id=c:this.id=ly_int_getLayerId(),ly_int_registerLayer(this),this.create()},Layer.prototype.create=function(){return null!=svgDocument.getElementById(this.getId())?!1:void(this.Node=createSVGNode("g",{id:this.getId()},this.getPage().getNode()))},Layer.prototype.addGraphics=function(a){this.addChild(a)},Layer.prototype.addChild=function(a){a.Node&&(a=a.Node),this.Node.appendChild(a)},Layer.prototype.setZOrder=function(a){a&&null!=a||(a=0),this.zOrder=a},Layer.prototype.getPage=function(){return this.page},Layer.prototype.getNode=function(){return this.Node},Layer.prototype.getId=function(){return this.id},Layer.prototype.show=function(){this.Node.setAttribute("display","inline")},Layer.prototype.hide=function(){this.Node.setAttribute("display","none")},Layer.prototype.isShown=function(){return"inline"==this.Node.getAttribute("display")},Layer.prototype.isHidden=function(){return"none"==this.Node.getAttribute("display")};var page_counter=0,common_page_id="page_",page_Register=new Array,defualt_page=null;Page.prototype.initPage=function(a,b){a?this.pageNumber=a:this.pageNumber=0,b&&null!=b?this.id=b:this.id=pg_int_getPageId(),pg_int_registerPage(this)},Page.prototype.create=function(){return null!=svgDocument.getElementById(this.getId())?!1:void(this.Node=createSVGNode("g",{id:this.getId()}))},Page.prototype.setVisibility=function(a){a?this.Node.setAttribute("visibility","show"):this.Node.setAttribute("visibility","hidden")},Page.prototype.getNode=function(){return this.Node},Page.prototype.getId=function(){return this.id};var desktop;Desktop.prototype.init=function(){this.eventListeners=new Array,this.eventListeners.mousedown=new Vector,this.eventListeners.mouseup=new Vector,this.eventListeners.click=new Vector,this.eventListeners.mouseout=new Vector,this.eventListeners.mouseover=new Vector,this.eventListeners.mousemove=new Vector,this.eventListeners.keydown=new Vector,this.eventListeners.keyup=new Vector,this.eventListeners.keypress=new Vector,this.g=new Graphics(-32767,-32767,65535,65535,"desktop"),this.g.setBackground("white");var a=svgDocument.documentElement;a.addEventListener("mousedown",this,!0),a.addEventListener("mouseover",this,!0),a.addEventListener("mouseup",this,!0),a.addEventListener("click",this,!0),a.addEventListener("mouseout",this,!0),a.addEventListener("mousemove",this,!0),viewerMode==ASV?(a.setAttribute("onkeydown","ds_handleKey(evt);"),a.setAttribute("onkeyup","ds_handleKey(evt);"),a.setAttribute("onkeypress","ds_handleKey(evt);")):(a.addEventListener("keydown",this,!0),a.addEventListener("keyup",this,!0),a.addEventListener("keypress",this,!0)),this.processEvents=this.defaultProcessEvents},Desktop.prototype.getGraphics=function(){return this.g&&null!=this.g?this.g:null},Desktop.prototype.setColor=function(a){this.g.setBackground(a)},Desktop.prototype.setVisibility=function(a){this.g.setVisibility(a)},Desktop.prototype.registerNode=function(a,b,c){return"click"!=b&&"mousedown"!=b&&"mouseover"!=b&&"mouseup"!=b&&"mouseout"!=b&&"mousemove"!=b&&"keydown"!=b&&"keyup"!=b&&"keypress"!=b?!1:(this.eventListeners[b].addElement(new Node_Callback(a,c)),!0)},Desktop.prototype.unregisterNodeFromAll=function(a){this.unregisterNode(a,"click"),this.unregisterNode(a,"mousedown"),this.unregisterNode(a,"mouseover"),this.unregisterNode(a,"mouseup"),this.unregisterNode(a,"mouseout"),this.unregisterNode(a,"mousemove"),this.unregisterNode(a,"keydown"),this.unregisterNode(a,"keyup"),this.unregisterNode(a,"keypress")},Desktop.prototype.unregisterNode=function(a,b){if("click"!=b&&"mousedown"!=b&&"mouseover"!=b&&"mouseup"!=b&&"mouseout"!=b&&"mousemove"!=b&&"keydown"!=b&&"keyup"!=b&&"keypress"!=b)return!1;if(null!=this.eventListeners)for(var c=new Enumerator(this.eventListeners[b]);c.hasMoreElements();){var d=c.nextElement();d.node==a&&this.eventListeners[b].removeElement(d)}return!0},Desktop.prototype.handleEvent=function(a){this.processEvents(a)},Desktop.prototype.processEvents=function(a){},Desktop.prototype.defaultProcessEvents=function(a){for(var b=this.eventListeners[a.type],c=b.size(),d=0;c>d;d++){var e=b.elementAt(d);e.invokeCallback(a)}},Desktop.prototype.draggModeProcessEvents=function(a){a.stopPropagation(),this.draggedObject.dragModeEventHandler(a)},Desktop.prototype.startDragMode=function(a){var b=svgDocument.documentElement;b.removeEventListener("mousedown",this,!0),b.removeEventListener("mouseover",this,!0),b.removeEventListener("mouseout",this,!0),b.removeEventListener("click",this,!0),this.processEvents=this.draggModeProcessEvents,this.draggedObject=a},Desktop.prototype.endDragMode=function(){var a=svgDocument.documentElement;a.addEventListener("mousedown",this,!0),a.addEventListener("mouseover",this,!0),a.addEventListener("mouseout",this,!0),a.addEventListener("click",this,!0),this.processEvents=this.defaultProcessEvents,this.draggedObject=null},Desktop.prototype.toString=function(){return"svgDraw2D:Desktop"},Node_Callback.prototype.invokeCallback=function(a){this.node[this.callback](a)},Node_Callback.prototype.toString=function(){return"(Node:"+this.node+", Callback:"+this.callback+")"},Font.prototype.initFont=function(a,b,c){void 0==a&&(a="Helvetica"),void 0==b&&(b="Normal"),void 0==c&&(c="16pt"),this.setName(a),this.setStyle(b),this.setSize(c)},Font.prototype.getSize=function(){return this.size},Font.prototype.getSizeValue=function(){var a=this.size.indexOf("pt");return-1!=a?parseFloat(this.size.substring(0,a)):this.size},Font.prototype.getStyle=function(){return this.style},Font.prototype.getNamedStyle=function(){return this.style==this.PLAIN||"normal"==this.style?"Normal":this.style==this.BOLD||"bold"==this.style?"Bold":this.style==this.ITALIC||"italic"==this.style?"Italic":"Normal"},Font.prototype.getName=function(){return this.name},Font.prototype.setSize=function(a){this.size=a},Font.prototype.setStyle=function(a){this.style=a},Font.prototype.setName=function(a){this.name=a},Font.prototype.getFont=function(){return this},Font.prototype.setFont=function(a){this.init(a.name,a.style,a.size)},Font.prototype.getFontMetrics=function(){return new FontMetrics(this)},Font.prototype.clone=function(a){return new Font(this.name,this.Style,this.size)},Font.prototype.toString=function(){return"Name = "+this.name+", Style = "+this.getNamedStyle()+", Size = "+this.size},FontMetrics.prototype.initFontMetrics=function(a){this.setFont(a)},FontMetrics.prototype.setFont=function(a){this.font=a},FontMetrics.prototype.getAscent=function(){return 0},FontMetrics.prototype.getDescent=function(){return 0},FontMetrics.prototype.getLeading=function(){return 0},FontMetrics.prototype.getHeight=function(){return this.font.getSizeValue()*this.pt2px},FontMetrics.prototype.getBaseline=function(){return this.getHeight()*this.h2bl},FontMetrics.prototype.getFontMetrics=function(){return this},FontMetrics.prototype.getFontMetrics=function(a){return new FontMetrics(a)},FontMetrics.prototype.getStringWidth=function(a){var b=createSVGTextNode(a,{x:0,y:0,"font-family":this.font.getName(),"font-style":this.font.getStyle(),"font-size":this.font.getSize(),fill:"none"}),c=b.getComputedTextLength();return deleteSVGNode(b),c},FontMetrics.prototype.toString=function(){return"FontMetrics : font [ "+this.font.toString()+" ]"};var common_graphics_id="Graphics_",graphics_counter=0,defaultWidth=400,defaultHeight=400;Graphics.prototype=new Node,Graphics.prototype.initGraphics=function(a,b,c,d,e,f){e&&null!=e?this.id=e:this.id=getGraphicsId(),this.initNode(a,b,c,d,0,1),this.setOriginToCenter(),f&&null!=f?this.layer=f:this.layer=ly_getDefualtLayer(),this.setColor("black"),this.setStrokeColor(null),this.setStrokeWidth(0),this.font=new Font("Helvetica","normal","10pt"),this.create()},Graphics.prototype.create=function(){return null!=svgDocument.getElementById(this.id)?!1:(this.Node=createSVGNode("g",{id:this.id},this.layer),void this.translate(this.x,this.y))},Graphics.prototype.setColor=function(a){this.color=a},Graphics.prototype.getColor=function(){return null==this.color?"none":this.color},Graphics.prototype.setStrokeColor=function(a){this.strokeColor=a},Graphics.prototype.getStrokeColor=function(){var a=this.strokeColor;return null==this.strokeColor&&(a="none"),a},Graphics.prototype.setStrokeWidth=function(a){this.strokeWidth=a},Graphics.prototype.getStrokeWidth=function(){return this.strokeWidth},Graphics.prototype.setFont=function(a){this.font=a},Graphics.prototype.getFont=function(){return this.font},Graphics.prototype.getFontMetrics=function(){return new FontMetrics(this.font)},Graphics.prototype.addGraphics=function(a){this.addChild(a.getNode())},Graphics.prototype.drawLine=function(a,b,c,d){return new Line(a,b,c,d,this)},Graphics.prototype.drawRect=function(a,b,c,d){return new Rectangle(a,b,c,d,this)},Graphics.prototype.drawRoundRect=function(a,b,c,d,e,f){return new RRectangle(a,b,c,d,e,f,this)},Graphics.prototype.drawCircle=function(a,b,c){return new Circle(a,b,c,this)},Graphics.prototype.drawOval=function(a,b,c,d){return new Oval(a,b,c,d,this)},Graphics.prototype.drawPath=function(a,b,c){return new Path(a,b,c,this)},Graphics.prototype.drawPolygon=function(a,b,c,d){return new Polygon(a,b,c,d,this)},Graphics.prototype.drawImage=function(a,b,c,d,e){return new Image(a,b,c,d,e,this)},Graphics.prototype.drawSpinnerImage=function(a,b,c,d,e,f){return new SpinnerImage(a,b,c,d,e,f,this)},Graphics.prototype.drawText=function(a,b,c,d,e){return new Text(a,b,c,this,d,e)},Graphics.prototype.drawTextView=function(a,b,c,d,e,f){return void 0==f&&(f=null),new TextView(a,b,c,d,e,f,this)},Graphics.prototype.drawWinBorder=function(a,b,c,d){return new WinBorder(a,b,c,d,this)},Graphics.prototype.drawStepBorder=function(a,b,c,d){return new StepBorder(a,b,c,d,this)},Graphics.prototype.drawBoxBorder=function(a,b,c,d,e){return new BoxBorder(a,b,c,d,e,this)},Graphics.prototype.removeBackground=function(){null!=this.backgroundRect&&(this.backgroundRect.dispose(),this.backgroundRect=null)},Graphics.prototype.setBackground=function(a){this.backgroundColor=a,null==this.backgroundRect&&(this.backgroundRect=this.drawRect(0,0,this.w,this.h),this.backgroundRect.setId(this.id+"_BackgroundColor")),this.backgroundRect.setColor(this.getBackground())},Graphics.prototype.getBackground=function(){return null==this.backgroundColor?"none":this.backgroundColor},Graphics.prototype.setClipOn=function(){null==this.clipRect&&(this.clipRect=this.drawRect(0,0,this.w,this.h,this),this.clipRect.setId(this.id+"-clip-rect")),this.clipNode=createSVGNode("clipPath",{id:this.id+"-clip"}),this.clipNode.appendChild(this.clipRect.getNode()),this.setAttribute("clip-path","url(#"+this.id+"-clip)")},Graphics.prototype.setClipOff=function(){this.removeAttribute("clip-path"),deleteSVGNode(this.clipNode),this.clipRect.dispose(),this.clipRect=null,this.clipNode=null},Graphics.prototype.onResize=function(){null!=this.clipRect&&this.clipRect.setSize(this.w,this.h),null!=this.backgroundRect&&this.backgroundRect.setSize(this.w,this.h)},Graphics.prototype.clear=function(){for(var a=this.getNode().childNodes,b=0;b<a.length;b++)deleteSVGNode(a.item(b))},Graphics.prototype.oldClear=function(){this.setId("graphics_temp"),deleteSVGNode(this.Node),this.create()},Shape.prototype=new Node,Shape.prototype.initShape=function(){this.color=null,this.strokeColor=null,this.strokeWidth=null},Shape.prototype.copyProperties=function(a){this.setColor(a.getColor()),this.setStrokeColor(a.getStrokeColor()),this.setStrokeWidth(a.getStrokeWidth())},Shape.prototype.setColor=function(a){this.color=a,this.setAttribute("fill",this.getColor())},Shape.prototype.getColor=function(){return null==this.color?"none":this.color},Shape.prototype.setStrokeColor=function(a){this.strokeColor=a,this.setAttribute("stroke",this.getStrokeColor())},Shape.prototype.getStrokeColor=function(){return null==this.strokeColor?"none":this.strokeColor},Shape.prototype.setStrokeWidth=function(a){this.strokeWidth=a,this.setAttribute("stroke-width",this.getStrokeWidth())},Shape.prototype.getStrokeWidth=function(){return this.strokeWidth},Line.prototype=new Shape,Line.prototype.initLine=function(a,b,c,d,e){this.setPoint1(a,b),this.setPoint2(c,d),this.copyProperties(e),this.create(e)},Line.prototype.create=function(a){this.Node=createSVGNode("line",{x1:0,y1:0,x2:0,y2:0,fill:this.getColor(),stroke:this.getStrokeColor(),"stroke-width":this.getStrokeWidth()},a.getNode()),this.update()},Line.prototype.update=function(){this.setAttribute("x2",this.x2-this.x),this.setAttribute("y2",this.y2-this.y),this.transform()},Line.prototype.setPoint1=function(a,b){if(a instanceof Point){var c=a;return void this.setPoint1(c.x,c.y)}this.setCoord(a,b),this.update()},Line.prototype.setPoint2=function(a,b){if(a instanceof Point){var c=a;return void this.setPoint2(c.x,c.y)}this.x2=a,this.y2=b,this.update()},Line.prototype.onResize=function(){},Oval.prototype=new Shape,Oval.prototype.initOval=function(a,b,c,d,e){this.initNode(a,b,2*c,2*d,0,1),this.setRadius(c,d),this.copyProperties(e),this.create(e)},Oval.prototype.create=function(a){this.Node=createSVGNode("ellipse",{cx:0,cy:0,rx:this.radiusX,ry:this.radiusY,fill:this.getColor(),stroke:this.getStrokeColor(),"stroke-width":this.strokeWidth},a.getNode()),this.transform()},Oval.prototype.setRadius=function(a,b){this.radiusX=a,this.radiusY=b,this.setAttribute("rx",this.radiusX),this.setAttribute("ry",this.radiusY),this.transform()},Oval.prototype.getRadius=function(){return new Point(this.getAttribute("rx"),this.getAttribute("ry"))},Oval.prototype.onResize=function(){this.setRadius(this.w/2,this.h/2)},Oval.prototype.onMove=function(){return this.transform()},Oval.prototype.transformRectNode=function(){return null==this.Node?!1:(this.Node.setAttribute("transform"," translate("+(this.x+this.radiusX)+" , "+(this.y+this.radiusY)+") translate("+this.xo+" , "+this.yo+") rotate("+this.r+") scale("+this.s+") translate(-"+this.xo+" , -"+this.yo+")"),!0)},Oval.prototype.clone=function(a){var b=new Oval(this.x,this.y,this.radiusX,this.radiusY,a);return b.copyProperties(this),b},Circle.prototype=new Shape,Circle.prototype.initCircle=function(a,b,c,d){this.initNode(a,b,2*c,2*c,0,1),this.setRadius(c),this.copyProperties(d),this.create(d)},Circle.prototype.create=function(a){this.Node=createSVGNode("circle",{cx:0,cy:0,r:this.radius,fill:this.getColor(),stroke:this.getStrokeColor(),"stroke-width":this.getStrokeWidth()},a.getNode()),this.transform()},Circle.prototype.setRadius=function(a){this.radius=a,this.setAttribute("r",this.radius),this.transform()},Circle.prototype.onResize=function(){this.w>this.h?this.setRadius(this.w/2):this.setRadius(this.h/2)},Circle.prototype.transformRectNode=function(){return null==this.Node?!1:(this.Node.setAttribute("transform"," translate("+(this.x+this.radius)+" , "+(this.y+this.radius)+") translate("+this.xo+" , "+this.yo+") rotate("+this.r+") scale("+this.s+") translate(-"+this.xo+" , -"+this.yo+")"),!0)},Polygon.prototype=new Shape,Polygon.prototype.initPolygon=function(a,b,c,d,e){this.initNode(a,b,0,0,0,1),this.copyProperties(e),this.create(c,d,e)},Polygon.prototype.create=function(a,b,c){this.Node=createSVGNode("polygon",{fill:this.getColor(),stroke:this.getStrokeColor(),"stroke-width":this.getStrokeWidth()},c.getNode()),void 0!=a&&void 0!=b&&null!=a&&null!=b&&this.setXYPoints(a,b),this.transform()},Polygon.prototype.setXYPoints=function(a,b){for(var c=a[0]+","+b[0]+" ",d=1;d<a.length;d++)c+=a[d]+","+b[d]+" ";this.setAttribute("points",c)},Polygon.prototype.clone=function(a){var b=new Polygon(this.x,this.y,null,null,a);return b.copyProperties(this),b.setAttribute("points",this.getAttribute("points")),b},Path.prototype=new Shape,Path.prototype.initPath=function(a,b,c,d){this.initNode(a,b,0,0,0,1),this.d=c,this.copyProperties(d),this.create(d)},Path.prototype.create=function(a){this.Node=createSVGNode("path",{d:this.d,fill:this.getColor(),stroke:this.getStrokeColor(),"stroke-width":this.getStrokeWidth()},a.getNode()),this.transform()},Path.prototype.setPath=function(a){this.setAttribute("d",a)},Path.prototype.setXYPoints=function(a,b){for(var c="M "+a[0]+","+b[0]+" ",d=1;d<a.length;d++)c+="L "+a[d]+","+b[d]+" ";this.setAttribute("d",c)},WinBorder.prototype=new Shape,WinBorder.prototype.initWinBorder=function(a,b,c,d,e){this.initNode(a,b,c,d,0,1),this.copyProperties(e),this.edge1=null,this.edge2=null,this.edge3=null,this.edge4=null,this.create(e)},WinBorder.prototype.create=function(a){var b=new Graphics(0,0,this.w,this.h);this.edge1=b.drawPolygon(0,0),this.edge2=b.drawPolygon(0,0),this.edge3=b.drawPolygon(0,0),this.edge4=b.drawPolygon(0,0),this.update(),a.addGraphics(b),this.setFaceUp(),this.Node=b.getNode(),this.transform(),delete b},WinBorder.prototype.update=function(){var a=this.w,b=this.h,c=new Array,d=new Array;c[0]=a,c[1]=a-1,c[2]=a-1,c[3]=1,c[4]=0,c[5]=a,d[0]=0,d[1]=1,d[2]=b-1,d[3]=b-1,d[4]=b,d[5]=b,this.edge1.setXYPoints(c,d),c[0]=a-1,c[1]=a-2,c[2]=a-2,c[3]=2,c[4]=1,c[5]=a-1,d[0]=1,d[1]=2,d[2]=b-2,d[3]=b-2,d[4]=b-1,d[5]=b-1,this.edge2.setXYPoints(c,d),c[0]=a-1,c[1]=a-2,c[2]=2,c[3]=2,c[4]=1,c[5]=1,d[0]=1,d[1]=2,d[2]=2,d[3]=b-2,d[4]=b-1,d[5]=1,this.edge3.setXYPoints(c,d),c[0]=a,c[1]=a-1,c[2]=1,c[3]=1,c[4]=0,c[5]=0,d[0]=0,d[1]=1,d[2]=1,d[3]=b-1,d[4]=b,d[5]=0,this.edge4.setXYPoints(c,d)},WinBorder.prototype.setFaceUp=function(){c1=pal[0],c2=pal[1],c3=pal[2],c4=pal[3],this.edge1.setColor(c1),this.edge2.setColor(c2),this.edge3.setColor(c3),this.edge4.setColor(c4)},WinBorder.prototype.setFaceDown=function(){c3=pal[0],c4=pal[1],c1=pal[2],c2=pal[3],this.edge1.setColor(c1),this.edge2.setColor(c2),this.edge3.setColor(c3),this.edge4.setColor(c4)},WinBorder.prototype.onResize=function(){this.update()},StepBorder.prototype=new Shape,StepBorder.prototype.initStepBorder=function(a,b,c,d,e){this.initNode(a,b,c,d,0,1),this.copyProperties(e),this.edge1=null,this.edge2=null,this.create(e)},StepBorder.prototype.create=function(a){var b=new Graphics(0,0,this.w,this.h);this.edge1=b.drawPolygon(0,0),this.edge2=b.drawPolygon(0,0),this.update(),a.addGraphics(b),this.setFaceUp(),this.Node=b.getNode(),this.transform(),delete b},StepBorder.prototype.update=function(){var a=this.w,b=this.h,c=new Array,d=new Array;c[0]=a,c[1]=a-1,c[2]=a-1,c[3]=1,c[4]=0,c[5]=a,d[0]=0,d[1]=1,d[2]=b-1,d[3]=b-1,d[4]=b,d[5]=b,this.edge1.setXYPoints(c,d),c[0]=a,c[1]=a-1,c[2]=1,c[3]=1,c[4]=0,c[5]=0,d[0]=0,d[1]=1,d[2]=1,d[3]=b-1,d[4]=b,d[5]=0,this.edge2.setXYPoints(c,d)},StepBorder.prototype.setFaceUp=function(){c1=pal[0],c2=pal[3],this.edge1.setColor(c1),this.edge2.setColor(c2)},StepBorder.prototype.setFaceDown=function(){
c1=pal[3],c2=pal[0],this.edge1.setColor(c1),this.edge2.setColor(c2)},StepBorder.prototype.onResize=function(){this.update()},BoxBorder.prototype=new Shape,BoxBorder.prototype.initBoxBorder=function(a,b,c,d,e,f){this.initNode(a,b,c,d,0,1),this.copyProperties(f),this.edge1=null,this.edge2=null,this.depth=e,this.create(f)},BoxBorder.prototype.create=function(a){var b=new Graphics(0,0,this.w,this.h);this.edge1=b.drawPolygon(0,0),this.edge2=b.drawPolygon(0,0),this.edge3=b.drawPolygon(0,0),this.edge4=b.drawPolygon(0,0),this.update(),a.addGraphics(b),this.setFaceUp(),this.Node=b.getNode(),this.transform(),delete b},BoxBorder.prototype.update=function(){var a=this.w,b=this.h,c=this.depth,d=new Array,e=new Array;c1=pal[3],c2=pal[0],this.edge1.setColor(c1),this.edge2.setColor(c2),this.edge3.setColor(c1),this.edge4.setColor(c2),d[0]=0,d[1]=c,d[2]=c,d[3]=0,e[0]=0,e[1]=c,e[2]=b,e[3]=b,this.edge1.setXYPoints(d,e),d[0]=0,d[1]=a,d[2]=a,d[3]=c,e[0]=0,e[1]=0,e[2]=c,e[3]=c,this.edge2.setXYPoints(d,e),d[0]=a-c,d[1]=a-c,d[2]=a,d[3]=a,e[0]=0,e[1]=b-c,e[2]=b,e[3]=c,this.edge3.setXYPoints(d,e),d[0]=0,d[1]=a-c,d[2]=a,d[3]=c,e[0]=b-c,e[1]=b-c,e[2]=b,e[3]=b,this.edge4.setXYPoints(d,e)},BoxBorder.prototype.setFaceUp=function(){this.edge1.setVisibility(!1),this.edge2.setVisibility(!1),this.edge3.setVisibility(!0),this.edge4.setVisibility(!0)},BoxBorder.prototype.setFaceDown=function(){this.edge1.setVisibility(!0),this.edge2.setVisibility(!0),this.edge3.setVisibility(!1),this.edge4.setVisibility(!1)},BoxBorder.prototype.onResize=function(){this.update()},RRectangle.prototype=new Shape,RRectangle.prototype.initRRectangle=function(a,b,c,d,e,f,g){void 0==c&&(c=0),void 0==d&&(d=0),this.initNode(a,b,c,d,0,1),this.setRadius(e,f),this.copyProperties(g),this.create(g)},RRectangle.prototype.create=function(a){this.Node=createSVGNode("rect",{x:0,y:0,rx:this.rx,ry:this.ry,width:this.w,height:this.h,fill:this.getColor(),stroke:this.getStrokeColor(),"stroke-width":this.strokeWidth},a),this.transform()},RRectangle.prototype.setRadius=function(a,b){this.rx=a,this.ry=b,this.setAttribute("rx",this.rx),this.setAttribute("ry",this.ry)},RRectangle.prototype.onResize=function(){this.setAttribute("width",this.w),this.setAttribute("height",this.h)},RRectangle.prototype.clone=function(a){var b=new RRectangle(this.x,this.y,this.w,this.h,this.rx,this.ry,a);return b.copyProperties(this),b},Rectangle.prototype=new RRectangle,Rectangle.prototype.initRectangle=function(a,b,c,d,e){this.initRRectangle(a,b,c,d,0,0,e)},Rectangle.prototype.setCornersRadius=function(a,b){},Rectangle.prototype.clone=function(a){var b=new Rectangle(this.x,this.y,this.w,this.h,a);return b.copyProperties(this),b};var common_text_path_id="text-path-",text_path_counter=0;Text.prototype=new Shape,Text.prototype.initText=function(a,b,c,d,e,f){null==this.textPath,void 0==e&&(e="text"),this.nodeType=e,this.copyProperties(d),this.font=d.getFont();var g=new FontMetrics(this.font);this.initNode(a,b,g.getStringWidth(c),g.getHeight(),0,1),this.create(c,d,f)},Text.prototype.create=function(a,b,c){(void 0==c||null==c)&&(c=b);var d=this.font.getNamedStyle(),e="font-style";"bold"==d&&(e="font-weight"),this.Node=createSVGTextNode(a,{x:0,y:0,"font-family":this.font.getName(),"font-size":this.font.getSize(),fill:this.getColor()},c,this.nodeType),this.transform()},Text.prototype.setTextColor=function(a){this.setAttribute("fill",a)},Text.prototype.getTextColor=function(){return this.getAttribute("fill")},Text.prototype.setToBaseLine=function(){this.setAttribute("baseline-shift",-this.getBaseline())},Text.prototype.setText=function(a){null!=this.textPath?this.textPath.firstChild.data=a:this.Node.firstChild.textContent=a},Text.prototype.getText=function(){return null!=this.textPath?this.textPath.firstChild.data:this.Node.firstChild.data},Text.prototype.insertText=function(a,b){this.Node.firstChild.insertData(a,b)},Text.prototype.replaceText=function(a,b,c){this.Node.firstChild.replaceData(a,b,c)},Text.prototype.deleteText=function(a,b){this.Node.firstChild.deleteData(a,b)},Text.prototype.setFontSize=function(a){this.font.setSize(a),this.setFont(this.font)},Text.prototype.setFont=function(a){this.font=a;var b=a.getStyle(),c="font-style";"bold"==b&&(c="font-weight"),this.setAttribute("font-family",a.getName()),this.setAttribute(c,b),this.setAttribute("font-size",a.getSize()),this.hasAttribute("baseline-shift")&&this.setAttribute("baseline-shift",-this.getBaseline())},Text.prototype.setTextPath=function(a){var b="http://www.w3.org/1999/xlink",c=tp_int_getTextPathId();a.setId(c),df_addToDefs(a),this.textPath=createSVGNode("textPath",{}),this.textPath.setAttributeNS(b,"xlink:href","#"+c),this.textPath.appendChild(this.Node.firstChild),this.addChild(this.textPath)},Text.prototype.getStringWidth=function(){return null==this.Node?0:this.Node.getComputedTextLength()},Text.prototype.getStringHeight=function(){var a=new FontMetrics(this.font);return a.getHeight()},Text.prototype.getBaseline=function(){var a=new FontMetrics(this.font);return a.getBaseline()},Text.prototype.onResize=function(){};var common_region_id="region_",region_counter=0;FlowParagraph.prototype=new Shape,FlowParagraph.prototype.initFlowParagraph=function(a,b,c){this.textView=a,this.Node=null,this.create(b,c)},FlowParagraph.prototype.create=function(a,b){this.Node=createSVGNode("flowPara",{},a),void 0!=b&&this.Node.appendChild(svgDocument.createTextNode(b))},FlowParagraph.prototype.addFlowSpan=function(a){var b=createSVGNode("flowSpan",{fill:"red"},this.getNode());b.appendChild(svgDocument.createTextNode(a)),this.textView.refresh()},FlowParagraph.prototype.addColoredFlowSpan=function(a,b){var c=createSVGNode("flowSpan",{fill:b},this.getNode());c.appendChild(svgDocument.createTextNode(a)),this.textView.refresh()},FlowParagraph.prototype.setFont=function(a){var b=a.getStyle(),c="font-style";"bold"==b&&(c="font-weight"),this.Node.setAttribute("font-family",a.getName()),this.Node.setAttribute(c,b),this.Node.setAttribute("font-size",a.getSize())},FlowParagraph.prototype.getText=function(){var a="";void 0!=this.Node.firstChild.data&&(a+=this.Node.firstChild.data+"\n");for(var b=this.getNode().getElementsByTagName("flowSpan"),c=0;c<b.length;c++)void 0!=b.item(c).firstChild.data&&(a+=b.item(c).firstChild.data+"\n");return 0==b.length?this.Node.firstChild.data:a},FlowParagraph.prototype.setText=function(a){this.Node.firstChild.data=a},FlowParagraph.prototype.insertText=function(a,b){this.Node.firstChild.insertData(a,b)},FlowParagraph.prototype.replaceText=function(a,b,c){this.Node.firstChild.replaceData(a,b,c)},FlowParagraph.prototype.deleteText=function(a,b){this.Node.firstChild.deleteData(a,b)},FlowParagraph.prototype.selectAll=function(){var a=this.Node.firstChild.data.length;this.Node.selectSubString(0,a)},FlowParagraph.prototype.getNode=function(){return this.Node},TextView.prototype=new Text,TextView.prototype.initTextView=function(a,b,c,d,e,f,g){this.paraCounter=0,this.initNode(a,b,c,d,0,1),this.regionShape=f,this.flowDiv=null,this.flowPara=new Array,this.copyProperties(g),this.font=g.getFont(),this.create(e,g)},TextView.prototype.create=function(a,b){var c="http://www.w3.org/1999/xlink";this.Node=createSVGNode("g",{},b);var d=rg_int_getRegionId();void 0==this.regionShape||null==this.regionShape?this.regionShape=b.drawRect(0,0,this.getWidth(),this.getHeight()):this.regionShape=this.regionShape.clone(b),this.regionShape.setId(d),this.regionShape.setVisibility(!1);var e=this.font.getStyle(),f="font-style";"bold"==e&&(f="font-weight");var g="flow";if(viewerMode==Batik&&(g="flowRoot"),this.flow=createSVGNode(g,{"font-family":this.font.getName(),attr:e,"font-size":this.font.getSize(),fill:this.getColor()},this.getNode()),this.flowRegion=createSVGNode("flowRegion",{},this.flow),viewerMode==Batik)this.regionShape.setParent(this.flowRegion);else{var h=createSVGNode("region",{},this.flowRegion);h.setAttributeNS(c,"xlink:href","#"+d),this.regionShape.setParent(this.Node)}this.flowDiv=createSVGNode("flowDiv",{},this.flow),(void 0!=a||null!=a)&&this.addParagraph(a),this.transform(),viewerMode==Batik&&this.refresh()},TextView.prototype.changeRegionShape=function(a){var b=this.regionShape.getId(),c=this.regionShape;c.setId("xxxxxyyyyyzzzzz"),this.regionShape=a,this.regionShape.setId(b),viewerMode==Batik||(this.regionShape.setParent(this.getNode()),c.dispose()),this.updateRegionShape()},TextView.prototype.updateRegionShapeProperties=function(a){a instanceof RRectangle&&(this.regionShape.setSize(a.w,a.h),this.regionShape.setRadius(a.rx,a.ry),this.regionShape.translate(a.x,a.y)),a instanceof Oval&&(this.regionShape.setRadius(a.radiusX,a.radiusY),this.regionShape.translate(a.x,a.y)),a instanceof Polygon&&(this.regionShape.setAttribute("points",a.getAttribute("points")),this.regionShape.translate(a.x,a.y))},TextView.prototype.updateRegionShape=function(){this.regionShape instanceof Oval&&this.regionShape.setRadius(this.getWidth()/2,this.getHeight()/2),(this.regionShape instanceof Rectangle||this.regionShape instanceof RRectangle)&&this.regionShape.setSize(this.getWidth(),this.getHeight())},TextView.prototype.addParagraph=function(a){var b=parseInt(this.flowPara.length);return this.flowPara[b]=new FlowParagraph(this,this.flowDiv,a),this.flowPara[b].setFont(this.font),viewerMode==Batik&&this.refresh(),this.flowPara[b]},TextView.prototype.insertParagraph=function(a){var b=parseInt(this.flowPara.length);this.addParagraph(a);for(var c=b;c>0;c--)this.flowPara[c].setText(this.flowPara[c-1].getText());return this.flowPara[0].setText(a),viewerMode==Batik&&this.refresh(),this.flowPara[0]},TextView.prototype.getParagraph=function(){var a=parseInt(this.flowPara.length);return this.flowPara[a]=new FlowParagraph(this,this.flowDiv),this.flowPara[a].setFont(this.font),this.flowPara[a]},TextView.prototype.refresh=function(){var a=parseInt(this.flowPara.length);0!=a&&this.getNode().appendChild(this.flow)},TextView.prototype.setTextAlign=function(a){this.setAttribute("style","text-align:"+a)},TextView.prototype.setFont=function(a){this.font=a;for(var b=0;b<this.flowPara.length;b++)this.flowPara[b].setFont(a);viewerMode==Batik&&this.refresh()},TextView.prototype.setColor=function(a){this.color=a;for(var b=0;b<this.flowPara.length;b++)this.flowPara[b].setColor(a);viewerMode==Batik&&this.refresh()},TextView.prototype.selectAll=function(){for(var a=0;a<this.flowPara.length;a++)this.flowPara[a].selectAll()},TextView.prototype.getText=function(){for(var a="",b=0;b<this.flowPara.length;b++)a+=this.flowPara[b].getText()+"\n";return a},TextView.prototype.clear=function(){for(var a=0;a<this.flowPara.length;a++)this.flowPara[a].dispose(),delete this.flowPara[a];this.flowPara=new Array},TextView.prototype.onResize=function(){return this.updateRegionShape(),this.transform()},Image.prototype=new Shape,Image.prototype.initImage=function(a,b,c,d,e,f){this.initNode(a,b,c,d,0,1),this.create(e,f)},Image.prototype.create=function(a,b){this.Node=svgDocument.createElementNS("http://www.w3.org/2000/svg","image"),this.Node.setAttributeNS("http://www.w3.org/1999/xlink","href",a),this.Node.setAttribute("x",0),this.Node.setAttribute("y",0),this.Node.setAttribute("width",this.w),this.Node.setAttribute("height",this.h),b.getNode().appendChild(this.Node),this.transform()},Image.prototype.changeHref=function(a){null!=this.Node&&this.Node.setAttributeNS("http://www.w3.org/1999/xlink","href",a)},Image.prototype.onResize=function(){this.setAttribute("width",this.w),this.setAttribute("height",this.h)},SpinnerImage.prototype=new Image,SpinnerImage.prototype.initSpinner=function(a,b,c,d,e,f){this.initImage(a,b,c,d,e,f)};var common_cursor_id="cursor_",cursor_counter=0;Cursor.prototype=new Shape,Cursor.prototype.initCursor=function(a,b,c){this.create(a,b,c)},Cursor.prototype.create=function(a,b,c){this.id=cr_int_getCursorId(),this.Node=createSVGNode("cursor",{id:this.id,x:a,y:b}),c.translate(0,0),this.addChild(c.getNode()),df_addToDefs(this)};var toolTipNode=null,toolTipNodeId="ToolTip",toolTipFontSize=9,toolTipFontSizeUnit="pt",toolTipFontName="Helvetica",toolTipFontStyle="normal",toolTipTextColor="Black",toolTipBorderColor="black",toolTipBorderWidth=1,toolTipBackgroundColor="rgb(255,255,225)",toolTipMouseOverFlag=!1,toolTipOnOffFlag=!0,toolTipGraphics=null;Vector.prototype.initVector=function(a){this.initialCapacity=a},Vector.prototype.setSize=function(a){},Vector.prototype.size=function(){return this.elementCount},Vector.prototype.capacity=function(){return this.elementData.length},Vector.prototype.isEmpty=function(){return 0==this.elementCount},Vector.prototype.elements=function(){var a=new Enumeration;return a.className="Enumeration{Vector}",a.count=0,a.container=this.clone(),a.hasMoreElements=function(){return this.count<this.container.size()},a.nextElement=function(){return this.hasMoreElements()?this.container.elementAt(this.count++):null},a},Vector.prototype.contains=function(a){return this.indexOf(a)>=0},Vector.prototype.indexOf=function(a,b){if(void 0==b&&(b=0),null==a){for(var c=b;c<this.size();c++)if(null==this.elementData[c])return c}else for(var c=b;c<this.size();c++)if(a==this.elementData[c])return c;return-1},Vector.prototype.elementAt=function(a){return a>=this.elementCount?null:this.elementData[a]},Vector.prototype.removeElementAt=function(a){if(a>=this.elementCount||0>a)return null;for(var b=new Array,c=0,d=0;d<this.elementCount;d++)d!=a&&(b[c]=this.elementData[d],c++);delete this.elementData,this.elementCount--,this.elementData=b},Vector.prototype.addElement=function(a){return this.elementData[this.elementCount++]=a,a},Vector.prototype.removeElement=function(a){var b=this.indexOf(a);return b>=0?(this.removeElementAt(b),!0):!1},Vector.prototype.removeAllElements=function(){this.clear()},Vector.prototype.insertElementAt=function(a,b){if(b>=this.elementCount)return null;this.elementCount++;for(var c=new Array,d=0,e=0;e<this.elementCount;e++)e!=b?(c[e]=this.elementData[d],d++):c[e]=a;delete this.elementData,this.elementData=c},Vector.prototype.setElementAt=function(a,b){return b>=this.elementCount?null:void(this.elementData[b]=a)},Vector.prototype.clear=function(){delete this.elementData,this.elementData=new Array,this.elementCount=0},Vector.prototype.clone=function(){var a=new Vector;for(i in this.elementData)a.elementData[i]=this.elementData[i];return a.elementCount=this.elementCount,a},Vector.prototype.toString=function(){var a=this.className+" (noe = "+this.size()+") [ ";for(i=0;i<this.size()-1;i++)a+=this.elementData[i]+", ";return a+=this.elementData[i]+" ]"},Hashtable.prototype.initHashtable=function(a,b,c){this.deserialize(a,b,c)},Hashtable.prototype.clear=function(){this.buffer=new Array},Hashtable.prototype.containsKey=function(a){var b=!1;for(var c in this.buffer)if(c==a&&null!=this.buffer[c]){b=!0;break}return b},Hashtable.prototype.containsValue=function(a){var b=!1;if(null!=a)for(var c in this.buffer)if(this.buffer[c]==a){b=!0;break}return b},Hashtable.prototype.get=function(a){return this.buffer[a]},Hashtable.prototype.isEmpty=function(){return 0==this.size?!0:!1},Hashtable.prototype.keys=function(){var a=new Array;for(var b in this.buffer)null!=this.buffer[b]&&a.push(b);return a},Hashtable.prototype.put=function(a,b){if(void 0!=a&&void 0!=b){if(null==a||null==b)throw"NullPointerException {"+a+"},{"+b+"}";this.buffer[a]=b}},Hashtable.prototype.remove=function(a){this.buffer[a]=null},Hashtable.prototype.size=function(){var a=0;for(var b in this.buffer)null!=this.buffer[b]&&a++;return a},Hashtable.prototype.values=function(){var a=new Array;for(var b in this.buffer)null!=this.buffer[b]&&a.push(this.buffer[b]);return a},Hashtable.prototype.clone=function(){var a=new Hashtable;for(i in this.buffer)a.buffer[i]=this.buffer[i];return a},Hashtable.prototype.serialize=function(a,b){void 0==a&&(a=":"),void 0==b&&(b=";");var c="";for(var d in this.buffer)if(null!=this.buffer[d]){var e=(d+"").replace(/:/g,"^"),f=(this.buffer[d]+"").replace(/:/g,"^");c+=e+a+f+b}return c},Hashtable.prototype.deserialize=function(a,b,c){if(void 0==b&&(b=":"),void 0==c&&(c=";"),void 0!=a&&null!=a)for(var d=a.split(c),e=0;e<d.length;e++){var f=d[e].split(b);if(void 0!=f[0]&&void 0!=f[1]){var g=(f[0]+"").replace(/\^/g,":"),h=(f[1]+"").replace(/\^/g,":");this.put(g,h)}}},Hashtable.prototype.toString=function(){var a=this.className+" [";for(var b in this.buffer)null!=this.buffer[b]&&(a+="{"+b+"},{"+this.buffer[b]+"}\n");return a+="]"},EventListener.prototype.initEventListener=function(){},EventObject.prototype.initEventObject=function(a){a&&null!=a&&(this.source=a)},EventObject.prototype.getSource=function(){return this.source},EventObject.prototype.toString=function(){return this.className+" [source="+this.source+"]"},Enumeration.prototype.initEnumeration=function(a){},Enumeration.prototype.hasMoreElements=function(){},Enumeration.prototype.nextElement=function(){},Enumeration.prototype.toString=function(){return this.className},Enumerator.prototype=new Enumeration,Enumerator.prototype.initEnumerator=function(a){return null==a?!1:void(this.fEnumeration=a.elements())},Enumerator.prototype.hasMoreElements=function(){return this.fEnumeration.hasMoreElements()},Enumerator.prototype.nextElement=function(){return this.fEnumeration.nextElement()},ReverseEnumerator.prototype=new Enumeration,ReverseEnumerator.prototype.initReverseEnumerator=function(a){this.fEnumeration=new ReverseVectorEnumerator(a)},ReverseEnumerator.prototype.hasMoreElements=function(){return this.fEnumeration.hasMoreElements()},ReverseEnumerator.prototype.nextElement=function(){return this.fEnumeration.nextElement()},ReverseVectorEnumerator.prototype=new Enumeration,ReverseVectorEnumerator.prototype.initReverseVectorEnumerator=function(a){this.vector=a,this.count=this.vector.size()-1},ReverseVectorEnumerator.prototype.hasMoreElements=function(){return this.count>=0},ReverseVectorEnumerator.prototype.nextElement=function(){return this.count>=0?this.vector.elementAt(this.count--):void 0},Point2D.prototype.getX=function(){return this.x},Point2D.prototype.getY=function(){return this.y},Point2D.prototype.setLocation=function(a,b){this.x=a,this.y=b},Point2D.prototype.toString=function(){return this.className+" ["+this.x+", "+this.y+"]"},Point2D.prototype.distanceSq=function(a,b,c,d){if(a instanceof Point2D){var e=a;a=e.getX(),b=e.getY()}return c||d||(c=this.getX(),d=this.getY()),a-=c,b-=d,a*a+b*b},Point2D.prototype.distance=function(a,b,c,d){if(a instanceof Point2D){var e=a;a=e.getX(),b=e.getY()}return c||d||(c=this.getX(),d=this.getY()),a-=c,b-=d,Math.sqrt(a*a+b*b)},Point2D.prototype.clone=function(){return this},Point2D.prototype.equals=function(a){return a instanceof Point2D&&a.getX()==this.getX()&&a.getY()==this.getY()?!0:!1},Point.prototype=new Point2D,Point.prototype.getLocation=function(){return new Point(this.x,this.y)},Point.prototype.setLocation=function(a,b){if(a instanceof Point){var c=a;a=c.getX(),b=c.getY()}this.move(a,b)},Point.prototype.move=function(a,b){this.x=Math.floor(a+.5),this.y=Math.floor(b+.5)},Point.prototype.translate=function(a,b){this.x+=a,this.y+=b},Point.prototype.equals=function(a){return a instanceof Point&&a.getX()==this.getX()&&a.getY()==this.getY()?!0:!1},Dimension2D.prototype.getWidth=function(){},Dimension2D.prototype.getHeight=function(){},Dimension2D.prototype.setSize=function(a,b){if(a instanceof Dimension2D){var c=a;a=c.getWidth(),b=c.getHeight(),this.setSize(a,b)}},Dimension2D.prototype.clone=function(){},Dimension.prototype=new Dimension2D,Dimension.prototype.getWidth=function(){return this.width},Dimension.prototype.getHeight=function(){return this.height},Dimension.prototype.setSize=function(a,b){if(a instanceof Dimension){var c=a;a=c.getWidth(),b=c.getHeight()}this.width=Math.ceil(a),this.height=Math.ceil(b)},Dimension.prototype.getSize=function(){return new Dimension(this)},Dimension.prototype.equals=function(a){return a instanceof Dimension&&a.getWidth()==this.getWidth()&&a.getHeight()==this.getHeight()?!0:!1},Dimension.prototype.hashCode=function(){var a=this.width+this.height;return a*(a+1)/2+this.width},Dimension.prototype.toString=function(){return this.className+" [width="+this.width+",height="+this.height+"]"},Rectangle2D.prototype.toString=function(){return this.className+" [x="+this.x+",y="+this.y+",width="+this.width+",height="+this.height+"]"},gRectangle.prototype=new Rectangle2D,gRectangle.prototype.getX=function(){return this.x},gRectangle.prototype.getY=function(){return this.y},gRectangle.prototype.getWidth=function(){return this.width},gRectangle.prototype.getHeight=function(){return this.height},gRectangle.prototype.getBounds=function(){return new gRectangle(this.x,this.y,this.width,this.height)},gRectangle.prototype.getBounds2D=function(){return new gRectangle(this.x,this.y,this.width,this.height)},gRectangle.prototype.setBounds=function(a,b,c,d){if(a instanceof gRectangle){var e=a;return void this.setBounds(e.getX(),e.getY(),e.getWidth(),e.getHeight())}this.reshape(a,b,c,d)},gRectangle.prototype.setRect=function(a,b,c,d){var e=Math.floor(a),f=Math.floor(b),g=Math.ceil(a+c),h=Math.ceil(b+d);this.setBounds(e,f,g-e,h-f)},gRectangle.prototype.reshape=function(a,b,c,d){this.x=a,this.y=b,this.width=c,this.height=d},gRectangle.prototype.getLocation=function(){return new Point(this.x,this.y)},gRectangle.prototype.setLocation=function(a,b){if(a instanceof Point){var c=a;return void this.setLocation(c.getX(),c.getY())}this.move(a,b)},gRectangle.prototype.move=function(a,b){this.x=a,this.y=b},gRectangle.prototype.translate=function(a,b){this.x+=a,this.y+=b},gRectangle.prototype.getSize=function(){return new Dimension(this.width,this.height)},gRectangle.prototype.setSize=function(a,b){if(a instanceof Dimension){var c=a;return void this.setSize(c.getWidth(),c.getHeight())}this.resize(a,b)},gRectangle.prototype.resize=function(a,b){this.width=a,this.height=b},gRectangle.prototype.contains=function(a,b,c,d){if(void 0==a)return!1;if(a instanceof Point){var e=a;return this.contains(e.getX(),e.getY())}if(a instanceof gRectangle){var f=a;return this.contains(f.getX(),f.getY(),f.getWidth(),f.getHeight())}if(a&&b&&!c&&!d)return this.inside(a,b);var g=a,h=b,i=c,j=d,a=this.x,b=this.y,k=this.width,l=this.height;if(0>(k|l|i|j))return!1;if(a>g||b>h)return!1;if(k+=a,i+=g,g>=i){if(k>=a||i>k)return!1}else if(k>=a&&i>k)return!1;if(l+=b,j+=h,h>=j){if(l>=b||j>l)return!1}else if(l>=b&&j>l)return!1;return!0},gRectangle.prototype.inside=function(a,b){var c=this.x,d=this.y,e=this.width,f=this.height;return 0>(e|f)?!1:c>a||d>b?!1:(e+=c,f+=d,(c>e||e>a)&&(d>f||f>b))},gRectangle.prototype.intersects=function(a){var b=this.width,c=this.height,d=a.width,e=a.height;if(0>=d||0>=e||0>=b||0>=c)return!1;var f=this.x,g=this.y,h=a.x,i=a.y;return d+=h,e+=i,b+=f,c+=g,(h>d||d>f)&&(i>e||e>g)&&(f>b||b>h)&&(g>c||c>i)},gRectangle.prototype.intersection=function(a){var b=this.x,c=this.y,d=a.x,e=a.y,f=b;f+=this.width;var g=c;g+=this.height;var h=d;h+=a.width;var i=e;return i+=a.height,d>b&&(b=d),e>c&&(c=e),f>h&&(f=h),g>i&&(g=i),f-=b,g-=c,f<this.MIN_VALUE&&(f=this.MIN_VALUE),g<this.MIN_VALUE&&(g=this.MIN_VALUE),new gRectangle(b,c,f,g)},gRectangle.prototype.union=function(a){var b=Math.min(this.x,a.x),c=Math.max(this.x+this.width,a.x+a.width),d=Math.min(this.y,a.y),e=Math.max(this.y+this.height,a.y+a.height);return new gRectangle(b,d,c-b,e-d)},gRectangle.prototype.add=function(a,b,c,d){if(a instanceof Point){var e=a;return void this.add(e.getX(),e.getY(),0,0)}if(a instanceof gRectangle){var f=a;return void this.add(f.getX(),f.getY(),f.getWidth(),f.getHeight())}var g=Math.min(this.x,a),h=Math.max(this.x+this.width,a+c),i=Math.min(this.y,b),j=Math.max(this.y+this.height,b+d);this.x=g,this.y=i,this.width=h-g,this.height=j-i},gRectangle.prototype.grow=function(a,b){this.x-=a,this.y-=b,this.width+=2*a,this.height+=2*b},gRectangle.prototype.isEmpty=function(a,b){return this.width<=0||this.height<=0},gRectangle.prototype.outcode=function(a,b){var c=0;return this.width<=0?c|=this.OUT_LEFT|this.OUT_RIGHT:a<this.x?c|=this.OUT_LEFT:a>this.x+this.width&&(c|=this.OUT_RIGHT),this.height<=0?c|=this.OUT_TOP|this.OUT_BOTTOM:b<this.y?c|=this.OUT_TOP:b>this.y+this.height&&(c|=this.OUT_BOTTOM),c},gRectangle.prototype.createIntersection=function(a){return a instanceof gRectangle?this.intersection(a):void 0},gRectangle.prototype.createUnion=function(a){return a instanceof gRectangle?this.union(a):!1},gRectangle.prototype.equals=function(a){if(a instanceof gRectangle){var b=a;return x==b.x&&y==b.y&&width==b.width&&height==b.height}return!1},gPolygon.prototype.initgPolygon=function(a,b,c){void 0!=a?this.xpoints=a:this.xpoints=new Array,void 0!=b?this.ypoints=b:this.ypoints=new Array,void 0!=c?this.npoints=c:this.npoints=0},gPolygon.prototype.reset=function(){this.npoints=0,this.bounds=null},gPolygon.prototype.invalidate=function(){this.bounds=null},gPolygon.prototype.translate=function(a,b){for(var c=0;c<this.npoints;c++)this.xpoints[c]+=a,this.ypoints[c]+=b;null!=this.bounds&&this.bounds.translate(a,b)},gPolygon.prototype.calculateBounds=function(a,b,c){for(var d=-32767,e=-32767,f=65535,g=65535,h=0;c>h;h++){var i=a[h];d=Math.min(d,i),f=Math.max(f,i);var j=b[h];e=Math.min(e,j),g=Math.max(g,j)}this.bounds=new gRectangle(d,e,f-d,g-e)},gPolygon.prototype.updateBounds=function(a,b){a<this.bounds.x?(this.bounds.width=this.bounds.width+(this.bounds.x-a),this.bounds.x=a):this.bounds.width=Math.max(this.bounds.width,a-this.bounds.x),b<this.bounds.y?(this.bounds.height=this.bounds.height+(this.bounds.y-b),this.bounds.y=b):this.bounds.height=Math.max(this.bounds.height,b-this.bounds.y)},gPolygon.prototype.addPoint=function(a,b){this.xpoints[this.npoints]=a,this.ypoints[this.npoints]=b,this.npoints++,null!=this.bounds&&this.updateBounds(a,b)},gPolygon.prototype.findPoint=function(a,b){for(var c=0;c<this.npoints;++c)if(this.xpoints[c]==a&&this.ypoints[c]==b)return c;return null},gPolygon.prototype.remove=function(a,b){var c=this.findPoint(a,b);if(null!=c)for(var d=--this.npoints,e=c;d>e;++e)this.xpoints[e]=this.xpoints[e+1],this.ypoints[e]=this.ypoints[e+1]},gPolygon.prototype.getBounds=function(){return this.getBoundingBox()},gPolygon.prototype.getBoundingBox=function(){return 0==this.npoints?new gRectangle:(null==this.bounds&&this.calculateBounds(this.xpoints,this.ypoints,this.npoints),this.bounds.getBounds())},gPolygon.prototype.inside=function(a,b){return this.contains(a,b)},gPolygon.prototype.contains=function(a,b,c,d){if(a instanceof Point){var e=a;return this.contains(e.x,e.y)}if(a instanceof Rectangle2D){var f=a;return this.contains(f.getX(),f.getY(),f.getWidth(),f.getHeight())}if(void 0!=a&&void 0!=b&&void 0==c&&void 0==d){if(this.npoints<=2||!this.getBoundingBox().contains(a,b))return!1;for(var g,h,i=0,j=this.xpoints[this.npoints-1],k=this.ypoints[this.npoints-1],l=0;l<this.npoints;j=g,k=h,l++)if(g=this.xpoints[l],h=this.ypoints[l],h!=k){var m;if(j>g){if(a>=j)continue;m=g}else{if(a>=g)continue;m=j}var n,o;if(k>h){if(h>b||b>=k)continue;if(m>a){i++;continue}n=a-g,o=b-h}else{if(k>b||b>=h)continue;if(m>a){i++;continue}n=a-j,o=b-k}o/(k-h)*(j-g)>n&&i++}return 0!=(1&i)}if(void 0!=a&&void 0!=b&&void 0!=c&&void 0!=d){if(this.npoints<=0||!this.getBoundingBox().intersects(a,b,c,d))return!1;var p=getCrossings(a,b,a+c,b+d);return null!=p&&p.covers(b,b+d)}},gPolygon.prototype.getBounds2D=function(){return this.getBounds()},gPolygon.prototype.getCrossings=function(a,b,c,d){},gPolygon.prototype.intersects=function(a,b,c,d){if(this.npoints<=0||!this.getBoundingBox().intersects(a,b,c,d))return!1;var e=this.getCrossings(a,b,a+c,b+d);return null==e||!e.isEmpty()},gPolygon.prototype.getPathIterator=function(a){return new gPolygonPathIterator(this,a)},gPolygon.prototype.serialize=function(){for(var a="",b=0;b<this.npoints;b++)a+=parseInt(this.xpoints[b])+","+parseInt(this.ypoints[b])+" ";return a},gPolygon.prototype.deserialize=function(a){this.initgPolygon();for(var b=a.split(" "),c=0;c<b.length;c++){var d=b[c].split(",");if(void 0!=d&&null!=d&&d.length>1){var e=parseFloat(d[0]),f=parseFloat(d[1]);isNaN(e)||isNaN(f)||this.addPoint(e,f)}}},gPolygon.prototype.smooth=function(a){for(var b=this.npoints,c=this.xpoints,d=this.ypoints,e=new Array,f=new Array,g=0;b>g;g++){for(var h=0,i=0,j=0;a>j;j++){var k=g+j-(a-1)/2;0>k?k+=b:k>=b&&(k%=b),h+=c[k],i+=d[k]}e[g]=h/a,f[g]=i/a}this.xpoints=e,this.ypoints=f},gPolygon.prototype.decimationPath=function(a,b,c,d,e,f,g,h,i,j){void 0==c&&(c=0),void 0==d&&(d=0),void 0==e&&(e=innerWidth),void 0==f&&(f=innerHeight),void 0==g&&(g=0),void 0==h&&(h=0),void 0==i&&(i=innerWidth),void 0==j&&(j=innerHeight);for(var k=i/e,l=j/f,m=b.getTotalLength()/a,n=0;a>n;n++)p=b.getPointAtLength(n*m),this.addPoint((p.x-c)*k,(p.y-d)*l)},gPolygon.prototype.getPathData=function(a,b,c,d,e,f,g,h){var i=null;void 0==a&&(a=0),void 0==b&&(b=0),void 0==c&&(c=innerWidth),void 0==d&&(d=innerHeight),void 0==e&&(e=0),void 0==f&&(f=0),void 0==g&&(g=innerWidth),void 0==h&&(h=innerHeight);for(var j=g/c,k=h/d,l=0;l<this.npoints;l++)null==i?i="M "+(parseInt(this.xpoints[l])/j+a)+" "+(parseInt(this.ypoints[l])/k+b)+" ":i+="L "+(parseInt(this.xpoints[l])/j+a)+" "+(parseInt(this.ypoints[l])/k+b)+" ";return i},gPolygon.prototype.toString=function(){for(var a="",b=0;b<this.npoints;b++)a+=this.xpoints[b]+","+this.ypoints[b]+" ";return this.className+"[nPoints = "+this.npoints+"]\nX: "+this.xpoints+"\nY: "+this.ypoints},Insets.prototype.initInsets=function(a,b,c,d){this.top=a,this.left=b,this.bottom=c,this.right=d},Insets.prototype.equals=function(a){if(a instanceof Insets){var b=a;return this.top==b.top&&this.left==b.left&&this.bottom==b.bottom&&this.right==b.right}return!1},Insets.prototype.hashCode=function(){var a=this.left+this.bottom,b=this.right+this.top,c=a*(a+1)/2+this.left,d=b*(b+1)/2+this.top,e=c+d;return e*(e+1)/2+d},Insets.prototype.toString=function(){return this.className+" [top="+this.top+",left="+this.left+",bottom="+this.bottom+",right="+this.right+"]"},Insets.prototype.clone=function(){},Color.prototype.ifFloat=function(a){var b="n"+a;return-1==b.indexOf(".")?!1:!0},Color.prototype.initColor=function(a,b,c,d){if(a&&!b&&!c&&!d){var e=a;return void(this.value=4278190080|e)}d||(d=255),this.ifFloat(a)&&(a=Math.round(255*a+.5)),this.ifFloat(b)&&(b=Math.round(255*b+.5)),this.ifFloat(c)&&(c=Math.round(255*c+.5)),this.ifFloat(d)&&(d=Math.round(255*d+.5)),this.value=(255&d)<<24|(255&a)<<16|(255&b)<<8|(255&c)<<0,this.frgbvalue[0]=a/255,this.frgbvalue[1]=b/255,this.frgbvalue[2]=c/255,this.falpha=d/255,this.fvalue=this.frgbvalue},Color.prototype.getRGB=function(){return this.value},Color.prototype.getRed=function(){return this.getRGB()>>16&255},Color.prototype.getGreen=function(){return this.getRGB()>>8&255},Color.prototype.getBlue=function(){return this.getRGB()>>0&255},Color.prototype.getRGBAsString=function(){return"rgb("+this.getRed()+","+this.getGreen()+","+this.getBlue()+")"},Color.prototype.toString=function(){return this.className+" [r="+this.getRed()+",g="+this.getGreen()+",b="+this.getBlue()+"]"},cColor.prototype.toString=function(){return this.className};var CColor=new cColor;MouseListener.prototype=new EventListener,MouseListener.prototype.mouseClicked=function(a){},MouseListener.prototype.mousePressed=function(a){},MouseListener.prototype.mouseReleased=function(a){},MouseListener.prototype.mouseEntered=function(a){},MouseListener.prototype.mouseExited=function(a){},MouseMotionListener.prototype=new EventListener,MouseMotionListener.prototype.mouseDragged=function(a){},MouseMotionListener.prototype.mouseMoved=function(a){};var NOBUTTON=0,BUTTON1=1,BUTTON2=2,BUTTON3=3;MouseEvent.prototype.initMouseEvent=function(a,b,c,d){this.source=a,this.x=b,this.y=c,this.clickCount=d.detail;var e=d.button;(NOBUTTON>e||e>BUTTON3)&&alert("Invalid button value"),this.button=e,this.ctrlKey=d.ctrlKey,this.shiftKey=d.shiftKey,this.altKey=d.altKey,this.metaKey=d.metaKey,this.screenX=d.clientX,this.screenY=d.clientY},MouseEvent.prototype.getX=function(){return this.x},MouseEvent.prototype.getY=function(){return this.y;
},MouseEvent.prototype.getScreenX=function(){return this.screenX},MouseEvent.prototype.getScreenY=function(){return this.screenY},MouseEvent.prototype.getPoint=function(){return new Point(this.x,this.y)},MouseEvent.prototype.translatePoint=function(a,b){this.x+=a,this.y+=b},MouseEvent.prototype.getButton=function(){return this.button},MouseEvent.prototype.isShiftDown=function(){return this.shiftKey},MouseEvent.prototype.isControlDown=function(){return this.ctrlKey},MouseEvent.prototype.isMetaDown=function(){return this.metaKey},MouseEvent.prototype.isAltDown=function(){return this.altKey},MouseEvent.prototype.getClickCount=function(){return this.clickCount},MouseEvent.prototype.toString=function(){return this.className+"[x="+this.x+", y="+this.y+", button="+this.button+", clickCount="+this.clickCount+", altKey="+this.altKey+", ctrlKey="+this.ctrlKey+", shiftKey="+this.shiftKey+", metaKey="+this.metaKey+", source="+this.source+"]"};var VK_ENTER=13,VK_BACK_SPACE=8,VK_TAB="	",VK_CANCEL=3,VK_CLEAR=12,VK_SHIFT=16,VK_CONTROL=17,VK_ALT=18,VK_PAUSE=19,VK_CAPS_LOCK=20,VK_ESCAPE=27,VK_SPACE=32,VK_PAGE_UP=33,VK_PAGE_DOWN=34,VK_END=35,VK_HOME=36,VK_LEFT=37,VK_UP=38,VK_RIGHT=39,VK_DOWN=40,VK_COMMA=44,VK_MINUS=45,VK_PERIOD=46,VK_SLASH=47,VK_0=48,VK_1=49,VK_2=50,VK_3=51,VK_4=52,VK_5=53,VK_6=54,VK_7=55,VK_8=56,VK_9=57,VK_SEMICOLON=59,VK_EQUALS=61,VK_A=65,VK_B=66,VK_C=67,VK_D=68,VK_E=69,VK_F=70,VK_G=71,VK_H=72,VK_I=73,VK_J=74,VK_K=75,VK_L=76,VK_M=77,VK_N=78,VK_O=79,VK_P=80,VK_Q=81,VK_R=82,VK_S=83,VK_T=84,VK_U=85,VK_V=86,VK_W=87,VK_X=88,VK_Y=89,VK_Z=90,VK_OPEN_BRACKET=91,VK_BACK_SLASH=92,VK_CLOSE_BRACKET=93,VK_NUMPAD0=96,VK_NUMPAD1=97,VK_NUMPAD2=98,VK_NUMPAD3=99,VK_NUMPAD4=100,VK_NUMPAD5=101,VK_NUMPAD6=102,VK_NUMPAD7=103,VK_NUMPAD8=104,VK_NUMPAD9=105,VK_MULTIPLY=106,VK_ADD=107,VK_SEPARATER=108,VK_SEPARATOR=VK_SEPARATER,VK_SUBTRACT=109,VK_DECIMAL=110,VK_DIVIDE=111,VK_DELETE=127,VK_NUM_LOCK=144,VK_SCROLL_LOCK=145,VK_F1=112,VK_F2=113,VK_F3=114,VK_F4=115,VK_F5=116,VK_F6=117,VK_F7=118,VK_F8=119,VK_F9=120,VK_F10=121,VK_F11=122,VK_F12=123,VK_F13=61440,VK_F14=61441,VK_F15=61442,VK_F16=61443,VK_F17=61444,VK_F18=61445,VK_F19=61446,VK_F20=61447,VK_F21=61448,VK_F22=61449,VK_F23=61450,VK_F24=61451,VK_PRINTSCREEN=154,VK_INSERT=155,VK_HELP=156,VK_META=157,VK_BACK_QUOTE=192,VK_QUOTE=222,VK_KP_UP=224,VK_KP_DOWN=225,VK_KP_LEFT=226,VK_KP_RIGHT=227;KeyEvent.prototype.initKeyEvent=function(a,b){this.source=a,this.ctrlKey=b.ctrlKey,this.shiftKey=b.shiftKey,this.altKey=b.altKey,this.metaKey=b.metaKey,this.keyCode=b.keyCode,this.keyChar=b.charCode},KeyEvent.prototype.getKeyCode=function(){return this.keyCode},KeyEvent.prototype.setKeyCode=function(a){this.keyCode=a},KeyEvent.prototype.getKeyChar=function(){return this.keyChar},KeyEvent.prototype.setKeyChar=function(a){this.keyChar=a},KeyEvent.prototype.isShiftDown=function(){return this.shiftKey},KeyEvent.prototype.isControlDown=function(){return this.ctrlKey},KeyEvent.prototype.isMetaDown=function(){return this.metaKey},KeyEvent.prototype.isAltDown=function(){return this.altKey},KeyEvent.prototype.toString=function(){return this.className+"[keyCode="+this.keyCode+", keyChar="+this.keyChar+", altKey="+this.altKey+", ctrlKey="+this.ctrlKey+", shiftKey="+this.shiftKey+", metaKey="+this.metaKey+", source="+this.source+"]"},ActionEvent.prototype.initActionEvent=function(a,b,c){this.source=a,this.actionCommand=b,null!=c&&(this.evt=c,this.ctrlKey=c.ctrlKey,this.shiftKey=c.shiftKey,this.altKey=c.altKey,this.metaKey=c.metaKey)},ActionEvent.prototype.getActionCommand=function(){return this.actionCommand},ActionEvent.prototype.isShiftDown=function(){return this.shiftKey},ActionEvent.prototype.isControlDown=function(){return this.ctrlKey},ActionEvent.prototype.isMetaDown=function(){return this.metaKey},ActionEvent.prototype.isAltDown=function(){return this.altKey},ActionEvent.prototype.getMouseEvent=function(){return this.evt},ActionEvent.prototype.toString=function(){return this.className+"[actionCommand="+this.actionCommand+", altKey="+this.altKey+", ctrlKey="+this.ctrlKey+", shiftKey="+this.shiftKey+", metaKey="+this.metaKey+", source="+this.source+"]"},KeyListener.prototype.keyTyped=function(a){},KeyListener.prototype.keyPressed=function(a){},KeyListener.prototype.keyReleased=function(a){},ActionListener.prototype.actionPerformed=function(a){},ButtonSkin.prototype.createSVGContent=function(a){},ButtonSkin.prototype.drawBorder=function(){},ButtonSkin.prototype.mousePressed=function(){},ButtonSkin.prototype.mouseReleased=function(){},ButtonSkin.prototype.mouseOut=function(){},ButtonSkin.prototype.mouseIn=function(){},ButtonSkin.prototype.update=function(a,b){},ButtonSkin.prototype.setSize=function(a,b){},ButtonSkin.prototype.clone=function(){},SimpleButtonSkin.prototype=new ButtonSkin,SimpleButtonSkin.prototype.createSVGContent=function(a){this.button=a;var b=a.getWidth()-a.left-a.right,c=a.getHeight()-a.top-a.bottom,d=a.sking;d.setBackground("#D4D0C8"),this.border=this.drawBorder(d,0,0,b,c),this.border.setAttribute("shape-rendering","optimizeSpeed")},SimpleButtonSkin.prototype.drawBorder=function(a,b,c,d,e){return a.drawStepBorder(b,c,d,e)},SimpleButtonSkin.prototype.mousePressed=function(){this.pressed||(this.pressed=!0,this.border.setFaceDown(),this.button.contentg.moveBy(0,1))},SimpleButtonSkin.prototype.mouseReleased=function(){this.pressed&&(this.pressed=!1,this.border.setFaceUp(),this.button.contentg.moveBy(0,-1))},SimpleButtonSkin.prototype.mouseOut=function(){this.mouseReleased()},SimpleButtonSkin.prototype.mouseIn=function(){},SimpleButtonSkin.prototype.setSize=function(a,b){this.button.sking.setSize(a,b),this.border.setSize(a,b)},SimpleButtonSkin.prototype.clone=function(){return new SimpleButtonSkin},WinButtonSkin.prototype=new SimpleButtonSkin,WinButtonSkin.prototype.drawBorder=function(a,b,c,d,e){return a.drawWinBorder(b,c,d,e)},WinButtonSkin.prototype.clone=function(){return new WinButtonSkin},BoxButtonSkin.prototype=new SimpleButtonSkin,BoxButtonSkin.prototype.drawBorder=function(a,b,c,d,e){var f=a.drawBoxBorder(b,c,d,e,this.depth);return this.button.sking.setSize(d-this.depth,e-this.depth),this.button.setBackground("#cbc8c1"),f},BoxButtonSkin.prototype.setSize=function(a,b){this.button.sking.setSize(a-this.depth,b-this.depth),this.border.setSize(a,b)},BoxButtonSkin.prototype.mousePressed=function(){this.pressed||(this.pressed=!0,this.border.setFaceDown(),this.button.sking.setSize(this.button.w,this.button.h),this.button.contentg.moveBy(0,1))},BoxButtonSkin.prototype.mouseReleased=function(){this.pressed&&(this.pressed=!1,this.border.setFaceUp(),this.button.sking.setSize(this.button.w-this.depth,this.button.h-this.depth),this.button.contentg.moveBy(0,-1))},BoxButtonSkin.prototype.clone=function(){return new BoxButtonSkin},ToolButtonSkin.prototype=new SimpleButtonSkin,ToolButtonSkin.prototype.drawBorder=function(a,b,c,d,e){var f=a.drawStepBorder(b,c,d,e);return f.setVisibility(this.mIn),f},ToolButtonSkin.prototype.mousePressed=function(){this.pressed||(this.pressed=!0,this.mIn=!0,this.border.setVisibility(this.mIn),this.border.setFaceDown(),this.button.contentg.moveBy(0,1))},ToolButtonSkin.prototype.mouseReleased=function(){this.pressed&&(this.pressed=!1,this.border.setVisibility(this.mIn),this.border.setFaceUp(),this.button.contentg.moveBy(0,-1))},ToolButtonSkin.prototype.mouseOut=function(){this.mIn=!1,this.border.setVisibility(this.mIn),this.mouseReleased()},ToolButtonSkin.prototype.mouseIn=function(){this.mIn=!0,this.border.setVisibility(this.mIn)},ToolButtonSkin.prototype.clone=function(){return new ToolButtonSkin},FlatButtonSkin.prototype=new ButtonSkin,FlatButtonSkin.prototype.createSVGContent=function(a){this.button=a;var b=a.sking;b.setBackground(this.button.getBackground())},FlatButtonSkin.prototype.mousePressed=function(){},FlatButtonSkin.prototype.mouseReleased=function(){},FlatButtonSkin.prototype.setSize=function(a,b){this.button.sking.setSize(a,b)},FlatButtonSkin.prototype.clone=function(){return new FlatButtonSkin},WindowSkin.prototype.createSVGContent=function(a){},WindowSkin.prototype.drawBorder=function(){},WindowSkin.prototype.setSize=function(a,b){},WindowSkin.prototype.recalc=function(){},WindowSkin.prototype.getTitleColor=function(){},WindowSkin.prototype.getFont=function(){},WindowSkin.prototype.active=function(){},WindowSkin.prototype.inactive=function(){},WindowSkin.prototype.clone=function(){},DefaultWindowSkin.prototype=new WindowSkin,DefaultWindowSkin.prototype.createSVGContent=function(a){this.window=a,this.g=a.sking,this.g.setBackground("#D4D0C8"),this.titleRect=this.drawTitleRect(this.g,this.borderWidth,this.borderWidth,a.w-this.borderWidth-this.borderWidth,10),this.border=this.drawBorder(this.g,0,0,a.w,a.h),this.border.setAttribute("shape-rendering","optimizeSpeed"),this.titleLabel=new Label(this.borderWidth,this.borderWidth,10,10,"title",a.getTitle(),a.getIcon()),this.titleLabel.setFont(this.getFont()),this.titleLabel.paint(this.g),this.titleLabel.setTextColor(this.getTitleColor()),this.titleLabel.setAttribute("pointer-events","none")},DefaultWindowSkin.prototype.drawBorder=function(a,b,c,d,e){return a.drawWinBorder(b,c,d,e)},DefaultWindowSkin.prototype.getTitleColor=function(){return"white"},DefaultWindowSkin.prototype.getFont=function(){return this.window.getFont()},DefaultWindowSkin.prototype.getActiveColor=function(){return this.activeColor},DefaultWindowSkin.prototype.getInActiveColor=function(){return this.inactiveColor},DefaultWindowSkin.prototype.drawTitleRect=function(a,b,c,d,e){a.setColor(this.getActiveColor());var f=a.drawRect(b,c,d,20);return f},DefaultWindowSkin.prototype.setSize=function(a,b){null!=this.g&&this.g.setSize(a,b),null!=this.border&&this.border.setSize(a,b),null!=this.titleRect&&this.titleRect.setSize(this.window.getWidth()-this.borderWidth-this.borderWidth,this.titleRect.h)},DefaultWindowSkin.prototype.recalc=function(){this.titleLabel.recalc(),this.titleRect.setSize(this.window.getWidth()-this.borderWidth-this.borderWidth,this.titleLabel.getHeight())},WindowSkin.prototype.active=function(){this.titleRect.setAttribute("fill",this.getActiveColor())},WindowSkin.prototype.inactive=function(){this.titleRect.setAttribute("fill",this.getInActiveColor())},DefaultWindowSkin.prototype.clone=function(){return new DefaultWindowSkin},SimpleWindowSkin.prototype=new WindowSkin,SimpleWindowSkin.prototype.createSVGContent=function(a){this.window=a,this.g=a.sking,this.g.setBackground("white"),this.titleRect=this.drawTitleRect(this.g,this.borderWidth,this.borderWidth,a.w-this.borderWidth-this.borderWidth,10),this.border=this.drawBorder(this.g,0,0,a.w,a.h),this.border.setAttribute("shape-rendering","optimizeSpeed"),this.titleLabel=new Label(this.borderWidth,this.borderWidth,this.w,10,"title",a.getTitle(),a.getIcon()),this.titleLabel.setFont(this.getFont()),this.titleLabel.paint(this.g),this.titleLabel.setTextColor(this.getTitleColor()),this.titleLabel.setAttribute("pointer-events","none")},SimpleWindowSkin.prototype.drawBorder=function(a,b,c,d,e){return a.setColor("none"),a.setStrokeColor("black"),a.setStrokeWidth(1),a.drawRect(b,c,d,e)},SimpleWindowSkin.prototype.getTitleColor=function(){return"white"},SimpleWindowSkin.prototype.getFont=function(){return this.window.getFont()},SimpleWindowSkin.prototype.getActiveColor=function(){return this.activeColor},SimpleWindowSkin.prototype.getInActiveColor=function(){return this.inactiveColor},SimpleWindowSkin.prototype.drawTitleRect=function(a,b,c,d,e){a.setColor(this.getActiveColor());var f=a.drawRect(b,c,d,20);return f},SimpleWindowSkin.prototype.setSize=function(a,b){null!=this.g&&this.g.setSize(a,b),null!=this.border&&this.border.setSize(a,b),null!=this.titleRect&&this.titleRect.setSize(this.window.getWidth()-this.borderWidth-this.borderWidth,this.titleRect.h)},SimpleWindowSkin.prototype.recalc=function(){this.titleLabel.recalc(),this.titleRect.setSize(this.window.getWidth()-this.borderWidth-this.borderWidth,this.titleLabel.getHeight())},WindowSkin.prototype.active=function(){this.titleRect.setAttribute("fill",this.getActiveColor())},WindowSkin.prototype.inactive=function(){this.titleRect.setAttribute("fill",this.getInActiveColor())},SimpleWindowSkin.prototype.clone=function(){return new SimpleWindowSkin};var mouseStartDragged="mouseStartDragged",mouseEndDragged="mouseEndDragged",mouseDragged="mouseDragged",mouseMoved="mouseMoved",mouseClicked="mouseClicked",mousePressed="mousePressed",mouseReleased="mouseReleased",mouseEntered="mouseEntered",mouseExited="mouseExited",keyTyped="keyTyped",keyPressed="keyPressed",keyReleased="keyReleased";ListenerManager.prototype=new Node,ListenerManager.prototype.initEventListenersBuffer=function(){null==this.intlEventListeners&&(this.intlEventListeners=new Array,this.intlEventListeners[mouseStartDragged]=new Vector,this.intlEventListeners[mouseEndDragged]=new Vector,this.intlEventListeners[mouseDragged]=new Vector,this.intlEventListeners[mouseMoved]=new Vector,this.intlEventListeners[mouseClicked]=new Vector,this.intlEventListeners[mousePressed]=new Vector,this.intlEventListeners[mouseReleased]=new Vector,this.intlEventListeners[mouseEntered]=new Vector,this.intlEventListeners[mouseExited]=new Vector,this.intlEventListeners[keyTyped]=new Vector,this.intlEventListeners[keyPressed]=new Vector,this.intlEventListeners[keyReleased]=new Vector)},ListenerManager.prototype.keyEventHandler=function(a,b){if(null==this.extKeyListeners)return!1;for(var c=new Enumerator(this.extKeyListeners);c.hasMoreElements();){var d=c.nextElement();d[a](b)}},ListenerManager.prototype.mouseMotionEventHandler=function(a,b){this.listenerManagerMouseMotionEventHandler(a,b)},ListenerManager.prototype.mouseEventHandler=function(a,b){this.listenerManagerMouseEventHandler(a,b)},ListenerManager.prototype.listenerManagerMouseMotionEventHandler=function(a,b){if(null!=this.extMouseMotionListeners)for(var c=new Enumerator(this.extMouseMotionListeners);c.hasMoreElements();)c.nextElement()[a](b);this.internalEventHandler(a,b)},ListenerManager.prototype.listenerManagerMouseEventHandler=function(a,b){if(null!=this.extMouseListeners)for(var c=new Enumerator(this.extMouseListeners);c.hasMoreElements();)c.nextElement()[a](b);this.internalEventHandler(a,b)},ListenerManager.prototype.internalEventHandler=function(a,b){if(null!=this.intlEventListeners)for(var c=new Enumerator(this.intlEventListeners[a]);c.hasMoreElements();)this[c.nextElement()](b)},ListenerManager.prototype.addInternalMouseMotionListener=function(a,b){this.initEventListenersBuffer(),this.intlEventListeners[a].addElement(b)},ListenerManager.prototype.addInternalMouseListener=function(a,b){this.initEventListenersBuffer(),this.intlEventListeners[a].addElement(b)},ListenerManager.prototype.addInternalKeyListener=function(a,b){this.initEventListenersBuffer(),this.intlEventListeners[a].addElement(b)},ListenerManager.prototype.removeInternalMouseMotionListener=function(a,b){this.intlEventListeners[a].removeElement(b)},ListenerManager.prototype.removeInternalMouseListener=function(a,b){this.intlEventListeners[a].removeElement(b)},ListenerManager.prototype.removeInternalKeyListener=function(a,b){this.intlEventListeners[a].removeElement(b)},ListenerManager.prototype.addMouseMotionListener=function(a){null==this.extMouseMotionListeners&&(this.extMouseMotionListeners=new Vector),this.extMouseMotionListeners.addElement(a)},ListenerManager.prototype.addMouseListener=function(a){null==this.extMouseListeners&&(this.extMouseListeners=new Vector),this.extMouseListeners.addElement(a)},ListenerManager.prototype.addKeyListener=function(a){null==this.extKeyListeners&&(this.extKeyListeners=new Vector),this.extKeyListeners.addElement(a)},ListenerManager.prototype.removeMouseMotionListener=function(a){this.extMouseMotionListeners.removeElement(a)},ListenerManager.prototype.removeMouseListener=function(a){this.extMouseListeners.removeElement(a)},ListenerManager.prototype.removeKeyListener=function(a){this.extKeyListeners.removeElement(a)},ListenerManager.prototype.mouseStartDragged=function(a){},ListenerManager.prototype.mouseEndDragged=function(a){},ListenerManager.prototype.mouseDragged=function(a){},ListenerManager.prototype.mouseMoved=function(a){},ListenerManager.prototype.mouseClicked=function(a){},ListenerManager.prototype.mousePressed=function(a){},ListenerManager.prototype.mouseReleased=function(a){},ListenerManager.prototype.mouseEntered=function(a){},ListenerManager.prototype.mouseExited=function(a){},ListenerManager.prototype.keyTyped=function(a){},ListenerManager.prototype.keyPressed=function(a){},ListenerManager.prototype.keyReleased=function(a){},EventManager.prototype=new ListenerManager,EventManager.prototype.initEventManager=function(){this.processMouseMotionEvent=this.emptyProcessEvent,this.processMouseEvent=this.emptyProcessEvent},EventManager.prototype.handleEvent=function(a){void 0!=this[a.type]&&this[a.type](a),this.mouseState=a.type},EventManager.prototype.mousedown=function(a){this.processMouseEvent("mousePressed",a)},EventManager.prototype.click=function(a){this.processMouseEvent("mouseClicked",a)},EventManager.prototype.mouseup=function(a){this.processMouseEvent("mouseReleased",a)},EventManager.prototype.mouseover=function(a){this.processMouseEvent("mouseEntered",a)},EventManager.prototype.mouseout=function(a){this.processMouseEvent("mouseExited",a)},EventManager.prototype.keyup=function(a){this.processKeyEvent("keyReleased",a)},EventManager.prototype.keydown=function(a){this.processKeyEvent("keyPressed",a)},EventManager.prototype.keypress=function(a){this.processKeyEvent("keyTyped",a)},EventManager.prototype.mousemove=function(a){"mousedown"==this.mouseState?(this.processMouseMotionEvent("mouseStartDragged",a),ds_getDesktop().startDragMode(this)):this.processMouseMotionEvent("mouseMoved",a)},EventManager.prototype.dragModeEventHandler=function(a){this["draggmode"+a.type]&&this["draggmode"+a.type](a)},EventManager.prototype.draggmodemousemove=function(a){this.processMouseMotionEvent("mouseDragged",a),this.mouseState=a.type},EventManager.prototype.draggmodemouseup=function(a){ds_getDesktop().endDragMode(),this.processMouseMotionEvent("mouseEndDragged",a),this.mouseState=a.type},EventManager.prototype.processKeyEvent=function(a,b){this.keyEventHandler(a,new KeyEvent(this,b))},EventManager.prototype.emptyProcessEvent=function(a,b){},EventManager.prototype.defaultProcessMouseMotionEvent=function(a,b){if(null!=this.getNode()){var c;void 0!=this.isHidden&&this.isHidden()?(this.show(),c=this.getNode().getScreenCTM().multiply(this.getTransformToElement(this.getNode())),this.hide()):c=this.getNode().getScreenCTM().multiply(this.getTransformToElement(this.getNode())),x=c.inverse().a*b.clientX+c.inverse().c*b.clientY+c.inverse().e,y=c.inverse().b*b.clientX+c.inverse().d*b.clientY+c.inverse().f,this.mouseMotionEventHandler(a,new MouseEvent(this,b,x,y))}},EventManager.prototype.getTransformToElement=function(a){return a.getScreenCTM().inverse().multiply(a.getScreenCTM())},EventManager.prototype.defaultProcessMouseEvent=function(a,b){if(null!=this.getNode()){var c;void 0!=this.isHidden&&this.isHidden()?(this.show(),c=this.getNode().getScreenCTM().multiply(this.getTransformToElement(this.getNode())),this.hide()):c=this.getNode().getScreenCTM().multiply(this.getTransformToElement(this.getNode())),x=c.inverse().a*b.clientX+c.inverse().c*b.clientY+c.inverse().e,y=c.inverse().b*b.clientX+c.inverse().d*b.clientY+c.inverse().f,this.mouseEventHandler(a,new MouseEvent(this,b,x,y))}},EventManager.prototype.enableMouseListener=function(a){void 0!=a&&(this.useCapture=a),this.processMouseEvent=this.defaultProcessMouseEvent,this.enableSVGMouseEvents(!0,!0,!1,!0,!0,!0)},EventManager.prototype.enableMouseMotionListener=function(a){void 0!=a&&(this.useCapture=a),this.processMouseMotionEvent=this.defaultProcessMouseMotionEvent,this.processMouseEvent==this.emptyProcessEvent?this.enableSVGMouseEvents(!0,!0,!0,!1,!1,!1):this.enableSVGMouseEvents(!1,!1,!0,!1,!1,!1)},EventManager.prototype.enableKeyListener=function(a){void 0!=a&&(this.useCapture=a),this.enableSVGKeyEvents(!0,!0,!0)},EventManager.prototype.disableMouseListener=function(a){void 0!=a&&(this.useCapture=a),this.processMouseEvent=this.emptyProcessEvent,this.processMouseMotionEvent==this.emptyProcessEvent?this.disableSVGMouseEvents(!0,!0,!1,!0,!0,!0):this.disableSVGMouseEvents(!0,!1,!1,!0,!0,!0)},EventManager.prototype.disableMouseMotionListener=function(a){void 0!=a&&(this.useCapture=a),this.processMouseMotionEvent=this.emptyProcessEvent,this.processMouseEvent==this.emptyProcessEvent?this.disableSVGMouseEvents(!0,!0,!0,!1,!1,!0):this.disableSVGMouseEvents(!1,!1,!0,!1,!1,!1)},EventManager.prototype.disableKeyListener=function(a){void 0!=a&&(this.useCapture=a),this.disableSVGKeyEvents(!0,!0,!0)};var TOP=3,BOTTOM=4,LEFT=0,CENTER=1,RIGHT=2,LEADING=3,TRAILING=4;FlowLayout.prototype.initFlowLayout=function(a,b,c){(void 0==a||null==a)&&(a=this.LEFT),(void 0==b||null==b)&&(b=5),(void 0==c||null==c)&&(c=5),this.hgap=b,this.vgap=c,this.setAlignment(a)},FlowLayout.prototype.getAlignment=function(){return this.newAlign},FlowLayout.prototype.setAlignment=function(a){this.newAlign=a},FlowLayout.prototype.getHgap=function(){return this.hgap},FlowLayout.prototype.setHgap=function(a){this.hgap=a},FlowLayout.prototype.getVgap=function(){return this.vgap},FlowLayout.prototype.setVgap=function(a){this.vgap=a},FlowLayout.prototype.addLayoutComponent=function(a,b){},FlowLayout.prototype.removeLayoutComponent=function(a){},FlowLayout.prototype.preferredLayoutSize=function(a){for(var b=new Dimension(0,0),c=a.componentCount(),d=!0,e=0;c>e;e++){var f=a.componentAt(e);if(f.visible&&!f.absolutePosition){var g=f.getPreferredSize();b.height=Math.max(b.height,g.height),d?d=!1:b.width+=this.hgap,b.width+=g.width}}var h=a.getInsets();return b.width+=h.left+h.right+2*this.hgap,b.height+=h.top+h.bottom+2*this.vgap,b},FlowLayout.prototype.minimumLayoutSize=function(a){for(var b=new Dimension(0,0),c=a.componentCount(),d=0;c>d;d++){var e=a.componentAt(d);if(e.visible&&!e.absolutePosition){var f=e.getMinimumSize();b.height=Math.max(b.height,f.height),d>0&&(b.width+=this.hgap),b.width+=f.width}}var g=a.getInsets();return b.width+=g.left+g.right+2*this.hgap,b.height+=g.top+g.bottom+2*this.vgap,b},FlowLayout.prototype.moveComponents=function(a,b,c,d,e,f,g,h){switch(this.newAlign){case this.LEFT:b+=h?0:d;break;case this.CENTER:b+=d/2;break;case this.RIGHT:b+=h?d:0;break;case this.LEADING:break;case this.TRAILING:b+=d}for(var i=f;g>i;i++){var j=a.componentAt(i);j.visible&&!j.absolutePosition&&(h?j.setLocation(b,c+(e-j.getHeight())/2):j.setLocation(a.getWidth()-b-j.getWidth(),c+(e-j.getHeight())/2),b+=j.getWidth()+this.hgap)}},FlowLayout.prototype.layoutContainer=function(a){for(var b=a.getInsets(),c=a.getWidth()-(b.left+b.right+2*this.hgap),d=a.componentCount(),e=0,f=b.top+this.vgap,g=0,h=0,i=!0,j=0;d>j;j++)if(m=a.componentAt(j),m.visible&&!m.absolutePosition){var k=m.getPreferredSize();m.setSize(k.width,k.height),0==e||e+k.width<=c?(e>0&&(e+=this.hgap),e+=k.width,g=Math.max(g,k.height)):(this.moveComponents(a,b.left+this.hgap,f,c-e,g,h,j,i),e=k.width,f+=this.vgap+g,g=k.height,h=j)}this.moveComponents(a,b.left+this.hgap,f,c-e,g,h,d,i)},FlowLayout.prototype.toString=function(){var a="";switch(this.newAlign){case LEFT:a=",align=left";break;case CENTER:a=",align=center";break;case RIGHT:a=",align=right";break;case LEADING:a=",align=leading";break;case TRAILING:a=",align=trailing"}return this.className+"[hgap="+this.hgap+",vgap="+this.vgap+a+"]"};var X_AXIS=0,Y_AXIS=1;BoxLayout.prototype.initBoxLayout=function(a,b,c,d){(void 0==a||null==a)&&(a=X_AXIS),(void 0==b||null==b)&&(b=LEFT),(void 0==c||null==c)&&(c=TOP),(void 0==d||-1==d)&&(d=5),this.axis=a,this.gap=d,this.align=b,this.valign=c},BoxLayout.prototype.getGap=function(){return this.gap},BoxLayout.prototype.setGap=function(a){this.gap=a},BoxLayout.prototype.addLayoutComponent=function(a,b){},BoxLayout.prototype.removeLayoutComponent=function(a){},BoxLayout.prototype.preferredLayoutSize=function(a){for(var b=new Dimension(0,0),c=a.componentCount(),d=0;c>d;d++){var e=a.componentAt(d);if(e.visible&&!e.absolutePosition){var f=e.getPreferredSize();this.axis==X_AXIS?b.height=Math.max(b.height,f.height):(d>0&&(b.height+=this.gap),b.height+=f.height),this.axis==Y_AXIS?b.width=Math.max(b.width,f.width):(d>0&&(b.width+=this.gap),b.width+=f.width)}}var g=a.getInsets();return b.width+=g.left+g.right+2*this.gap,b.height+=g.top+g.bottom+2*this.gap,b},BoxLayout.prototype.minimumLayoutSize=function(a){for(var b=new Dimension(0,0),c=a.componentCount(),d=0;c>d;d++){var e=a.componentAt(d);if(e.visible&&!e.absolutePosition){var f=e.getMinimumSize();this.axis==X_AXIS?b.height=Math.max(b.height,f.height):(d>0&&(b.height+=this.gap),b.height+=f.height),this.axis==Y_AXIS?b.width=Math.max(b.width,f.width):(d>0&&(b.width+=this.gap),b.width+=f.width)}}var g=a.getInsets();return b.width+=g.left+g.right+2*this.gap,b.height+=g.top+g.bottom+2*this.vgap,b},BoxLayout.prototype.moveComponents=function(a,b,c,d,e,f,g){var h=a.getInsets();switch(this.align){case RIGHT:b+=d-h.right;break;case CENTER:b+=d/2;break;case LEFT:b+=h.left}for(var i=f;g>i;i++){var j=a.componentAt(i);j.visible&&!j.absolutePosition&&(j.setLocation(b,c+(e-j.getHeight())/2),b+=j.getWidth()+this.gap)}},BoxLayout.prototype.layoutContainer=function(a){var b=a.getInsets(),c=a.componentCount(),d=0,e=b.top,f=0,g=0;if(this.axis==X_AXIS){for(var h=0;c>h;h++)if(m=a.componentAt(h),m.visible&&!m.absolutePosition){var i=m.getPreferredSize();m.setSize(i.width,i.height),d>0&&(d+=this.gap),d+=i.width,f=Math.max(f,i.height)}this.moveComponents(a,b.left+this.gap,e,a.getWidth()-d-this.gap,f,0,c),g=a.getHeight()-f}else if(this.axis==Y_AXIS){for(var d=0,e=0,f=0,h=0;c>h;h++)if(m=a.componentAt(h),m.visible&&!m.absolutePosition){var i=m.getPreferredSize();m.setSize(i.width,i.height),e>0&&(e+=this.gap),e+=i.height,f=i.height,this.moveComponents(a,d,e-i.height+this.gap,a.getWidth()-i.width,f,h,h+1)}g=a.getHeight()-e-this.gap}var j=0;switch(this.valign){case TOP:j=b.top;break;case CENTER:j=g/2;break;case BOTTOM:j=g-b.bottom}for(var h=0;c>h;h++)m=a.componentAt(h),m.visible&&!m.absolutePosition&&m.setLocation(m.getX(),m.getY()+j)},BoxLayout.prototype.toString=function(){var a="";switch(this.axis){case X_AXIS:a="axis = X_AXIS";break;case Y_AXIS:a="axis = Y_AXIS"}switch(this.align){case LEFT:a+=", align = left";break;case CENTER:a+=", align = center";break;case RIGHT:a+=", align = right"}switch(this.valign){case CENTER:a+=", valign = center";break;case TOP:a+=", valign = top";break;case BOTTOM:a+=", valign = bottom"}return this.className+"["+a+", gap = "+this.gap+"]"};var componentDefaultWidth=200,componentDefaultHeight=200,TOP_LEVEL=!0,LOW_LEVEL=!1;Counter.prototype.getNext=function(){return this.counter++},Component.prototype=new EventManager,Component.prototype.initComponent=function(a,b,c,d,e){this.font=new Font("Helvetica","normal","10pt"),this.initNode(a,b,c,d,0,1),this.setBounds(a,b,c,d),this.initEventManager(),void 0!=e?this.name=e:e=this.getComponentId()},Component.prototype.getComponentId=function(){return null==this.componentId&&(void 0==this.counter[this.className]?this.counter[this.className]=0:this.counter[this.className]++,this.componentId=this.className+"_"+this.counter[this.className]),this.componentId},Component.prototype.getAbsoluteLocation=function(){for(var a=new Point(this.x,this.y),b=this.cParent;null!=b;)a.x+=b.x,a.y+=b.y,b=b.cParent;return a},Component.prototype.addMenuItem=function(a){void 0!=a&&null!=a&&(null==this.popUpMenu&&(this.popUpMenu=new PopUpMenu(0,0,0,0),this.popUpMenu.addActionListener(this)),this.popUpMenu.addTextItem(a))},Component.prototype.addMenuSeparator=function(){null!=this.popUpMenu&&this.popUpMenu.addSeparator()},Component.prototype.clipEdgesOn=function(){this.rootg.setClipOn()},Component.prototype.clipEdgesOff=function(){this.rootg.setClipOff()},Component.prototype.glassPaneOn=function(){this.glassPaneg.setBackground("#fff"),this.glassPaneg.backgroundRect.setOpacity(0)},Component.prototype.removeGlassPane=function(){this.glassPaneg.removeBackground()},Component.prototype.showSpinner=function(){null==this.spinner&&this.createSpinnerContent(this.glassPaneg),this.spinner.show()},Component.prototype.hideSpinner=function(){this.spinner&&this.spinner.hide()},Component.prototype.createSpinner=function(){return new Spinner},Component.prototype.createSpinnerContent=function(a){null==this.spinner&&(this.spinner=this.createSpinner());var b=this.getWidth()/2||0,c=this.getHeight()/2||0;return this.spinner.createSVGContent(b,c,a)},Component.prototype.inProgress=function(a){a?(this.showSpinner(),this.glassPaneg.backgroundRect.setOpacity(.5)):(this.hideSpinner(),this.glassPaneg.backgroundRect.setOpacity(0))},Component.prototype.getGraphics=function(){var a=createGraphics(0,0,this.w,this.h,this.getComponentId()+"_LayeredGraphics_"+this.layeredGraphicsCount++,this.g);return a.setFont(this.getFont()),a.setColor(this.foreground),a},Component.prototype.setAbsolutePosition=function(a){this.absolutePosition=a},Component.prototype.addActionListener=function(a){null==this.actionListeners&&(this.actionListeners=new Vector),this.actionListeners.contains(a)||this.actionListeners.addElement(a)},Component.prototype.removeActionListener=function(a){this.actionListeners.removeElement(a)},Component.prototype.setParent=function(a){this.cParent=a},Component.prototype.getParent=function(){return this.cParent},Component.prototype.setBackground=function(a){void 0!=a&&(this.background=a),this.rootg&&this.rootg.setBackground(a)},Component.prototype.getBackground=function(){return this.background},Component.prototype.setInsets=function(a,b,c,d){this.left=a,this.right=b,this.top=c,this.bottom=d},Component.prototype.getInsets=function(){return new Insets(this.top,this.left,this.bottom,this.right)},Component.prototype.getLocation=function(){return new Point(this.x,this.y)},Component.prototype.setLocation=function(a,b){if(a instanceof Point){var c=a;return void this.setLocation(c.x,c.y)}this.setBounds(a,b,this.w,this.h)},Component.prototype.getSize=function(){return new Dimension(this.w,this.h)},Component.prototype.setSize=function(a,b){if(a instanceof Dimension){var c=a;return void this.setSize(c.width,c.height)}this.setBounds(this.x,this.y,a,b)},Component.prototype.getBounds=function(){return new gRectangle(this.x,this.y,this.w,this.h)},Component.prototype.setBounds=function(a,b,c,d){if(a instanceof gRectangle){var e=a;return void this.setBounds(e.x,e.y,e.width,e.height)}this.x=a,this.y=b,this.w=c,this.h=d,this.onResize(),this.onMove()},Component.prototype.getX=function(){return this.x},Component.prototype.getY=function(){return this.y},Component.prototype.getWidth=function(){return this.w},Component.prototype.getHeight=function(){return this.h},Component.prototype.isEnabled=function(){return this.enabled},Component.prototype.getPreferredSize=function(){return this.getSize()},Component.prototype.getMinimumSize=function(){return this.getSize()},Component.prototype.setToolTipText=function(a){this.removeToolTipText(),this.tooltipGraphics=null,null!=this.glassPaneg?this.tooltipGraphics=this.glassPaneg:this.tooltipGraphics=this.rootg,this.tooltipText=a,tp_setToolTipText(this.tooltipText,this.tooltipGraphics)},Component.prototype.removeToolTipText=function(){null!=this.rootg&&tp_removeToolTipText(this.rootg),null!=this.glassPaneg&&tp_removeToolTipText(this.glassPaneg)},Component.prototype.changeDisplayedToolTipText=function(a){for(var b=this;null!=b.cParent;)b=b.cParent;null!=b.tooltipGraphics&&b.tooltipGraphics.changeToolTipText(a)},Component.prototype.getToolTipText=function(){return this.tooltipText},Component.prototype.paint=function(a){this.paintComponent(a)},Component.prototype.paintComponent=function(a){this.created||(this.created=!0,this.createSVGContent()),void 0!=a&&a.addGraphics(this.rootg)},Component.prototype.repaint=function(a,b,c,d){return void 0==a||void 0==b||void 0==c||void 0==d?void this.repaint(this.x,this.y,this.w,this.h):void this.paint();
},Component.prototype.createSVGContent=function(){this.createSVGContentComponent()},Component.prototype.createSVGContentComponent=function(){this.rootg=createGraphics(this.x,this.y,this.w,this.h,this.getComponentId()),this.rootg.setBackground(this.background),this.setNode(this.rootg.getNode()),this.g=createGraphics(0,0,this.w,this.h,this.getComponentId()+"_ContentGraphics",this.rootg),this.glassPaneg=createGraphics(0,0,this.w,this.h,this.getComponentId()+"_GlassPaneGraphics",this.rootg),null!=this.popUpMenu&&(this.popUpMenu.paint(),menuLayer.addGraphics(this.popUpMenu)),this.setToolTipText(this.tooltipText),this.setCursor(this.getCursor()),this.show()},Component.prototype.onResize=function(){this.onResizeComponent()},Component.prototype.onResizeComponent=function(){null!=this.rootg&&this.rootg.setSize(this.w,this.h),null!=this.glassPaneg&&this.glassPaneg.setSize(this.w,this.h),null!=this.spinner&&this.spinner.translate(this.w/2,this.h/2)},Component.prototype.onMove=function(){this.onMoveComponent()},Component.prototype.onMoveComponent=function(){this.rootg&&this.rootg.translate(this.x,this.y)},Component.prototype.recalc=function(){this.recalcComponent()},Component.prototype.recalcComponent=function(){null!=this.popUpMenu&&this.popUpMenu.recalc()},Component.prototype.setFont=function(a){this.font=a},Component.prototype.getFont=function(){return this.font},Component.prototype.isShown=function(){return"inline"==this.getAttribute("display")},Component.prototype.isHidden=function(){return"none"==this.getAttribute("display")},Component.prototype.show=function(){this.showComponent()},Component.prototype.hide=function(){this.hideComponent()},Component.prototype.showComponent=function(){this.setAttribute("display","inline")},Component.prototype.hideComponent=function(){this.setAttribute("display","none")},Component.prototype.enableKeyboard=function(){ds_addEventListener(this,"keydown","keyProcess"),ds_addEventListener(this,"keyup","keyProcess"),ds_addEventListener(this,"keypress","keyProcess")},Component.prototype.disableKeyboard=function(){ds_removeEventListener(this,"keydown","keyProcess"),ds_removeEventListener(this,"keyup","keyProcess"),ds_removeEventListener(this,"keypress","keyProcess")},Component.prototype.keyProcess=function(a){switch(a.type){case"keydown":this.processKeyEvent("keyPressed",a);break;case"keyup":this.processKeyEvent("keyReleased",a);break;case"keypress":this.processKeyEvent("keyTyped",a)}},Component.prototype.gainFocus=function(){this.gainFocusComponent()},Component.prototype.gainFocusComponent=function(){this.hasFocus=!0,this.enableKeyboard()},Component.prototype.lostFocus=function(){this.lostFocusComponent()},Component.prototype.lostFocusComponent=function(){this.hasFocus=!1,this.disableKeyboard()},Component.prototype.actionPerformed=function(a){},Component.prototype.toString=function(){return this.getComponentId()},Canvas.prototype=new Component,Canvas.prototype.initCanvas=function(a,b,c,d,e){this.initComponent(a,b,c,d,e)},Canvas.prototype.paint=function(a){this.paintCanvas(a)},Canvas.prototype.paintCanvas=function(a){this.paintComponent(a)},Canvas.prototype.createSVGContent=function(){this.createSVGContentCanvas()},Canvas.prototype.createSVGContentCanvas=function(){this.createSVGContentComponent()},Canvas.prototype.onResize=function(){this.onResizeCanvas()},Canvas.prototype.onResizeCanvas=function(){this.onResizeComponent()},Canvas.prototype.onMove=function(){this.onMoveCanvas()},Canvas.prototype.onMoveCanvas=function(){this.onMoveComponent()},Canvas.prototype.recalc=function(){this.recalcCanvas()},Canvas.prototype.recalcCanvas=function(){this.recalcComponent()},Canvas.prototype.gainFocus=function(){this.gainFocusCanvas()},Canvas.prototype.gainFocusCanvas=function(){this.gainFocusComponent()},Canvas.prototype.lostFocus=function(){this.lostFocusCanvas()},Canvas.prototype.lostFocusCanvas=function(){this.lostFocusComponent()},Container.prototype=new Canvas,Container.prototype.initContainer=function(a,b,c,d,e){this.initCanvas(a,b,c,d,e),this.addInternalMouseMotionListener(mouseStartDragged,"econtMouseStartDragged"),this.addInternalMouseMotionListener(mouseEndDragged,"econtMouseEndDragged"),this.addInternalMouseMotionListener(mouseDragged,"econtMouseDragged"),this.addInternalMouseMotionListener(mouseMoved,"econtMouseMoved"),this.addInternalMouseMotionListener(mousePressed,"econtMousePressed"),this.addInternalMouseMotionListener(mouseReleased,"econtMouseReleased"),this.addInternalMouseMotionListener(mouseClicked,"econtMouseClicked"),this.addInternalMouseMotionListener(mouseEntered,"econtMouseEntered"),this.addInternalMouseMotionListener(mouseExited,"econtMouseExited")},Container.prototype.createSVGContent=function(){this.createSVGContentContainer()},Container.prototype.createSVGContentContainer=function(){this.createSVGContentCanvas()},Container.prototype.paintChildren=function(a){if(null!=this.children)for(var b=this.components();b.hasMoreElements();)b.nextElement().paint(a);this.layoutChildren()},Container.prototype.paint=function(a){this.paintContainer(a)},Container.prototype.paintContainer=function(a){this.paintCanvas(a)},Container.prototype.layoutChildren=function(){null!=this.children&&null!=this.getLayout()&&this.getLayout().layoutContainer(this)},Container.prototype.recalc=function(){this.recalcContainer()},Container.prototype.recalcContainer=function(){if(this.recalcCanvas(),null!=this.children)for(var a=this.components();a.hasMoreElements();)a.nextElement().recalc();this.layoutChildren()},Container.prototype.onResize=function(){this.onResizeContainer()},Container.prototype.onResizeContainer=function(){if(this.onResizeCanvas(),null!=this.children)for(var a=this.components();a.hasMoreElements();)a.nextElement().onResize();this.layoutChildren()},Container.prototype.onMove=function(){this.onMoveContainer()},Container.prototype.onMoveContainer=function(){this.onMoveCanvas()},Container.prototype.setLayout=function(a){this.layout=a},Container.prototype.getLayout=function(){return this.layout},Container.prototype.add=function(a){return this.addContainer(a)},Container.prototype.addContainer=function(a){return null==this.children&&(this.children=new Vector),this.children.contains(a)||(this.children.addElement(a),a.setParent(this)),a},Container.prototype.remove=function(a){return this.removeContainer(a)},Container.prototype.removeContainer=function(a){return null!=this.children&&this.children.contains(a)&&(a.setParent(null),this.children.removeElement(a)),a},Container.prototype.sendToBack=function(a){null!=this.children&&this.children.contains(a)&&(this.children.removeElement(a),this.children.insertElementAt(a,0))},Container.prototype.bringToFront=function(a){null!=this.children&&this.children.contains(a)&&(this.children.removeElement(a),this.children.addElement(a))},Container.prototype.componentAt=function(a){return null!=this.children?this.children.elementAt(a):null},Container.prototype.components=function(){return null!=this.children?new Enumerator(this.children):null},Container.prototype.componentCount=function(){return null!=this.children?this.children.size():null},Container.prototype.componentsReverse=function(){return null!=this.children?new ReverseEnumerator(this.children):null},Container.prototype.findComponent=function(a,b){for(var c=this.componentsReverse();null!=c&&c.hasMoreElements();){var d=c.nextElement(),e=new gRectangle(d.x,d.y,d.getWidth(),d.getHeight());if(e.contains(a,b))return d}return null},Container.prototype.getComponentAt=function(a,b){return this.findComponent(a,b)},Container.prototype.findComponentInside=function(a,b){for(var c=this.componentsReverse();null!=c&&c.hasMoreElements();){var d=c.nextElement().findComponentInside(a,b);if(null!=d)return d}return null},Container.prototype.includes=function(a){for(var b=this.components();null!=b&&b.hasMoreElements();){var c=b.nextElement();if(c.includes(a))return!0}return!1},Container.prototype.isEventable=function(a){return null!=a&&a.isEnabled()},Container.prototype.econtMouseStartDragged=function(a){tp_turnToolTipOff(),this.pressX=a.getX(),this.pressY=a.getY();var b=this.getComponentAt(a.getX(),a.getY());this.isEventable(b)&&(this.draggOwner=b,this.moveOwner=null,this.fireMouseMotionEventToComponent(b,"mouseStartDragged",a))},Container.prototype.econtMouseEndDragged=function(a){tp_turnToolTipOn(),null!=this.draggOwner?(this.fireMouseMotionEventToComponent(this.draggOwner,"mouseEndDragged",a),this.draggOwner=null):this.mouseEventHandler("mouseReleased",a)},Container.prototype.econtMouseDragged=function(a){null!=this.draggOwner&&this.fireMouseMotionEventToComponent(this.draggOwner,"mouseDragged",a)},Container.prototype.econtMouseMoved=function(a){var b=this.getComponentAt(a.getX(),a.getY());if(null!=this.moveOwner)if(b!=this.moveOwner){var c=this.moveOwner;this.moveOwner=null,this.fireMouseEventToComponent(c,"mouseExited",a),this.isEventable(b)&&(this.moveOwner=b,this.fireMouseEventToComponent(b,"mouseEntered",a))}else this.isEventable(b)&&this.fireMouseMotionEventToComponent(b,"mouseMoved",a);else this.isEventable(b)&&(this.moveOwner=b,this.fireMouseEventToComponent(b,"mouseEntered",a))},Container.prototype.econtMouseEntered=function(a){null==this.draggOwner&&(d=this.getComponentAt(a.getX(),a.getY()),this.isEventable(d)&&(this.moveOwner=d,this.fireMouseEventToComponent(d,"mouseEntered",a)))},Container.prototype.econtMouseExited=function(a){null!=this.moveOwner&&null==this.draggOwner&&(d=this.moveOwner,this.moveOwner=null,this.fireMouseEventToComponent(d,"mouseExited",a))},Container.prototype.econtMouseClicked=function(a){this.pressX=a.getX(),this.pressY=a.getY();var b=this.getComponentAt(a.getX(),a.getY());this.isEventable(b)&&this.fireMouseEventToComponent(b,"mouseClicked",a)},Container.prototype.econtMousePressed=function(a){var b=this.getComponentAt(a.getX(),a.getY()),c=this.getAbsoluteLocation();if(a.getButton()==BUTTON2){var d=null,e=c.x+a.getX()+5,f=c.y+a.getY()+5;if(null==b||null==b.popUpMenu||b.initContainer?null!=this.popUpMenu&&(d=this.popUpMenu):d=b.popUpMenu,null!=d){var g=d.getWidth(),h=d.getHeight();e+g>innerWidth&&(e=innerWidth-g),f+h>innerHeight&&(f=innerHeight-h),d.translate(e,f),d.show()}}this.pressX=a.getX(),this.pressY=a.getY(),this.isEventable(b)&&this.fireMouseEventToComponent(b,"mousePressed",a)},Container.prototype.econtMouseReleased=function(a){var b=this.getComponentAt(a.getX(),a.getY());this.isEventable(b)&&this.fireMouseEventToComponent(b,"mouseReleased",a)},Container.prototype.fireMouseEventToComponent=function(a,b,c){if(c.translatePoint(-a.x,-a.y),"mouseEntered"==b){var d=a.getToolTipText();null!=d&&this.changeDisplayedToolTipText(d),this.containerCursor=this.getCursor();var e=a.getCursor();null!=e&&this.setCursor(e)}if("mouseExited"==b){var d=this.getToolTipText();null!=d?this.changeDisplayedToolTipText(d):this.removeToolTipText(),null!=this.containerCursor?this.setCursor(this.containerCursor):this.setCursor("default")}a.mouseEventHandler(b,c)},Container.prototype.fireMouseMotionEventToComponent=function(a,b,c){if(c.translatePoint(-a.x,-a.y),"mouseEndDragged"==b){var d=this.getToolTipText();null!=d?this.changeDisplayedToolTipText(d):this.removeToolTipText(),null!=this.containerCursor?this.setCursor(this.containerCursor):this.setCursor("default")}a.mouseMotionEventHandler(b,c)},Panel.prototype=new Container,Panel.prototype.initPanel=function(a,b,c,d){this.initContainer(a,b,c,d)},Panel.prototype.paint=function(a){this.paintPanel(a)},Panel.prototype.paintPanel=function(a){this.paintContainer(a)},Panel.prototype.createSVGContent=function(){this.createSVGContentPanel()},Panel.prototype.createSVGContentPanel=function(){this.createSVGContentContainer(),this.contentg=this.getGraphics(),this.paintChildren(this.contentg)},Panel.prototype.onResize=function(){this.onResizePanel()},Panel.prototype.onResizePanel=function(){this.onResizeContainer()},Panel.prototype.onMove=function(){this.onMovePanel()},Panel.prototype.onMovePanel=function(){this.onMoveContainer()},Panel.prototype.recalc=function(){this.recalcPanel()},Panel.prototype.recalcPanel=function(){this.recalcContainer()},Icon.prototype.initIcon=function(a,b,c){void 0!=a&&(this.filename=a),this.w=b,this.h=c},Icon.prototype.createSVGContent=function(a){this.iconShape=a.drawImage(0,0,this.w,this.h,this.filename),this.iconShape.setOriginToCenter()},Icon.prototype.getWidth=function(){return null!=this.iconShape?this.iconShape.getWidth():0},Icon.prototype.getHeight=function(){return null!=this.iconShape?this.iconShape.getHeight():0},Icon.prototype.translate=function(a,b){null!=this.iconShape&&this.iconShape.translate(a,b)},Spinner.prototype.createSVGContent=function(a,b,c){a-=this.w/2,b-=this.h/2,this.spinner=c.drawSpinnerImage(a,b,this.w,this.h,this.name,this.color),this.spinner.setOriginToCenter()},Spinner.prototype.getWidth=function(){return null!=this.spinner?this.spinner.getWidth():0},Spinner.prototype.getHeight=function(){return null!=this.spinner?this.spinner.getHeight():0},Spinner.prototype.translate=function(a,b){null!=this.spinner&&(a-=this.w/2,b-=this.h/2,this.spinner.translate(a,b))},Spinner.prototype.show=function(){null!=this.spinner&&this.spinner.setVisibility(!0)},Spinner.prototype.hide=function(){null!=this.spinner&&this.spinner.setVisibility(!1)},Label.prototype=new Canvas,Label.prototype.initLabel=function(a,b,c,d,e,f,g){this.initCanvas(a,b,c,d),this.setInsets(4,4,4,4),void 0!=e?this.name=e:e=this.getComponentId(),void 0!=f&&(this.caption=f),void 0!=g&&(this.icon=g)},Label.prototype.createSVGContent=function(){this.createSVGContentLabel()},Label.prototype.createSVGContentLabel=function(){this.createSVGContentCanvas(),this.lg=this.getGraphics(),this.lg.setFont(this.font),this.lg.setColor(this.foreground);var a=this.left,b=this.top;null!=this.icon&&(this.icon.createSVGContent(this.lg),a+=this.icon.w+this.margin),null!=this.caption&&(this.lg.setColor(this.textColor),this.textShape=this.lg.drawText(a,b,this.caption),b+=this.textShape.getStringHeight(),this.textShape.setToBaseLine())},Label.prototype.onResize=function(){this.onResizeLabel()},Label.prototype.onResizeLabel=function(){this.onResizeCanvas(),this.positionText()},Label.prototype.onMove=function(){this.onMoveLabel()},Label.prototype.onMoveLabel=function(){this.onMoveCanvas()},Label.prototype.recalc=function(){this.recalcLabel()},Label.prototype.recalcLabel=function(){this.recalcCanvas();var a=this.w,b=this.h,c=this.icon?this.margin:0;this.textShapeWidth=a-this.left-this.right-c,this.textShapeHeight=b-this.top-this.bottom,this.resizeToText?(null!=this.textShape?(this.textShape.setFont(this.font),this.textShapeWidth=this.textShape.getStringWidth(),this.textShapeHeight=this.textShape.getStringHeight(),a=this.textShapeWidth+this.left+this.right,b=this.textShapeHeight+this.top+this.bottom,null!=this.icon&&(a+=this.icon.getWidth()+this.left+this.right,b=Math.max(this.icon.getHeight()+this.top+this.bottom,b))):null!=this.icon&&(a=this.icon.getWidth()+this.left+this.right,b=this.icon.getHeight()+this.top+this.bottom),this.setSize(a+c,b)):this.onResizeLabel()},Label.prototype.setTextAlign=function(a,b){void 0!=a&&(this.align=a),void 0!=b&&(this.valign=b),this.positionText()},Label.prototype.positionText=function(){if(null!=this.textShape||null!=this.icon){var a=0,b=0,c=0,d=0;null!=this.textShape&&(a=this.textShapeWidth,b=this.textShapeHeight),null!=this.icon&&(c=this.icon.getWidth(),d=this.icon.getHeight());var e=0,f=0,g=0;switch(this.align){case LEFT:e=this.left+c;break;case RIGHT:e=this.w-a-this.right;break;case CENTER:e=(this.w-(a+c))/2+c}switch(this.valign){case TOP:f=this.top,g=this.top;break;case BOTTOM:f=this.h-b-this.bottom,g=this.h-d-this.bottom;break;case CENTER:f=(this.h-b)/2,g=(this.h-d)/2}null!=this.textShape&&this.textShape.translate(e+(this.icon?this.margin:0),f),null!=this.icon&&this.icon.translate(e-c,g)}},Label.prototype.setText=function(a){null!=this.textShape&&(this.textShape.setText(a),this.recalc())},Label.prototype.getText=function(){return this.textShape.getText()},Label.prototype.setTextColor=function(a){null!=this.textShape?this.textShape.setTextColor(a):this.textColor=a},Label.prototype.highlightOn=function(){null!=this.textShape&&this.textShape.getNode().setAttribute("font-weight","bold"),null!=this.icon&&this.icon.iconShape.scale(1.1)},Label.prototype.highlightOff=function(){null!=this.textShape&&this.textShape.getNode().setAttribute("font-weight","normal"),null!=this.icon&&this.icon.iconShape.scale(1)},Label.prototype.setResizeToText=function(a){this.resizeToText=a},Label.prototype.toString=function(){return this.getComponentId()+" [ caption: "+this.caption+", name: "+this.name+"]"},Button.prototype=new Label,Button.prototype.initButton=function(a,b,c,d,e,f,g){void 0!=a.length&&(void 0!=b?b instanceof Icon?(f=a,g=b,a=0,b=0,c=0,d=0,e=f):(e=a,f=b,g=c,a=0,b=0,c=0,d=0):(f=a,e=f,a=0,b=0,c=0,d=0)),this.initLabel(a,b,c,d,e,f,g),this.buttonSkin=new SimpleButtonSkin,this.addMouseListener(this),this.addMouseMotionListener(this)},Button.prototype.changeSkin=function(a){this.created?(this.sking.oldClear(),this.contentg.oldClear(),this.buttonSkin=a,this.createSVGContentButton(this)):this.buttonSkin=a},Button.prototype.createSVGContent=function(){this.createSVGContentButton()},Button.prototype.createSVGContentButton=function(){this.createSVGContentCanvas(),this.sking=this.getGraphics(),this.contentg=this.getGraphics(),this.buttonSkin.createSVGContent(this),this.contentg.setFont(this.font),this.contentg.setColor(this.foreground);var a=this.left,b=this.top;null!=this.icon&&(this.icon.createSVGContent(this.contentg),a+=this.icon.w),null!=this.caption&&(this.textShape=this.contentg.drawText(a,b,this.caption),this.textShape.setToBaseLine())},Button.prototype.setBackground=function(a){void 0!=a&&(this.background=a),this.sking&&this.sking.setBackground(a)},Button.prototype.onResize=function(){this.onResizeButton()},Button.prototype.onResizeButton=function(){this.onResizeLabel(),null!=this.buttonSkin&&this.buttonSkin.setSize(this.w,this.h)},Button.prototype.onMove=function(){this.onMoveButton()},Button.prototype.onMoveButton=function(){this.onMoveLabel()},Button.prototype.recalc=function(){this.recalcButton()},Button.prototype.recalcButton=function(){this.recalcLabel()},Button.prototype.mousePressed=function(a){a.getButton()!=BUTTON2&&this.buttonSkin.mousePressed()},Button.prototype.mouseReleased=function(a){this.buttonSkin.mouseReleased()},Button.prototype.mouseEntered=function(a){this.buttonSkin.mouseIn()},Button.prototype.mouseExited=function(a){this.buttonSkin.mouseOut()},Button.prototype.mouseClicked=function(a){var b=new ActionEvent(this,"buttonClicked",a);if(null!=this.actionListeners)for(var c=new Enumerator(this.actionListeners);c.hasMoreElements();)c.nextElement().actionPerformed(b)},Button.prototype.mouseDragged=function(a){a.x>=0&&a.x<=this.w&&a.y>=0&&a.y<=this.h||this.mouseExited(a)},Button.prototype.mouseEndDragged=function(a){a.x>=0&&a.x<=this.w&&a.y>=0&&a.y<=this.h&&this.mouseReleased(a)},Button.prototype.reset=function(){this.mouseReleased()},Button.prototype.toString=function(){return this.getComponentId()+" [ caption: "+this.caption+", name: "+this.name+"]"},CheckBox.prototype=new Label,CheckBox.prototype.initCheckBox=function(a){this.initLabel(0,0,0,0,a,a),this.addMouseListener(this),this.addMouseMotionListener(this)},CheckBox.prototype.createSVGContent=function(){this.createSVGContentCheckBox()},CheckBox.prototype.createSVGContentCheckBox=function(){var a=this.left,b=this.top;this.createSVGContentLabel(),this.contentg=this.getGraphics(),this.contentg.setColor("white"),this.bgRect=this.contentg.drawRect(a,b,0,0),this.boxBorder=this.contentg.drawWinBorder(a,b,0,0),this.boxBorder.setFaceDown(),this.contentg.setStrokeColor("black"),this.contentg.setStrokeWidth(1),this.crossLine1=this.contentg.drawLine(0,0,0,0),this.crossLine2=this.contentg.drawLine(0,0,0,0),this.setSelected(this.selected)},CheckBox.prototype.onResize=function(){this.onResizeCheckBox()},CheckBox.prototype.onResizeCheckBox=function(){this.onResizeLabel()},CheckBox.prototype.onMove=function(){this.onMoveCheckBox()},CheckBox.prototype.onMoveCheckBox=function(){this.onMoveLabel()},CheckBox.prototype.recalc=function(){this.recalcCheckBox()},CheckBox.prototype.recalcCheckBox=function(){this.recalcLabel(),this.setTextAlign(RIGHT,CENTER);var a=.7*(this.h-this.top-this.bottom),b=a;this.setSize(this.w+a+this.left,this.h);var c=this.left,d=(this.getHeight()-a)/2;this.bgRect.translate(c,d),this.bgRect.setSize(a,a),this.boxBorder.translate(c,d),this.boxBorder.setSize(a,a);var e=.1*b,f=.8*b;this.crossLine1.setAttribute("stroke-width",e),this.crossLine2.setAttribute("stroke-width",e),this.crossLine1.setPoint1(c+f,d+f),this.crossLine1.setPoint2(c+b-f,d+a-f),this.crossLine2.setPoint1(c+b-f,d+f),this.crossLine2.setPoint2(c+f,d+a-f)},CheckBox.prototype.setSelected=function(a){this.selected=a,null!=this.crossLine1&&this.crossLine1.setVisibility(this.selected),null!=this.crossLine2&&this.crossLine2.setVisibility(this.selected)},CheckBox.prototype.getSelected=function(){return this.selected},CheckBox.prototype.mouseClicked=function(a){var b=new ActionEvent(this,"checkBoxChanged",a);if(this.setSelected(!this.selected),null!=this.actionListeners)for(var c=new Enumerator(this.actionListeners);c.hasMoreElements();)c.nextElement().actionPerformed(b)},CheckBox.prototype.toString=function(){return this.getComponentId()+" [ caption: "+this.caption+", name: "+this.name+"]"},RadioButton.prototype=new CheckBox,RadioButton.prototype.initRadioButton=function(a){this.initCheckBox(a)},RadioButton.prototype.createSVGContent=function(){this.createSVGContentRadioButton()},RadioButton.prototype.createSVGContentRadioButton=function(){var a=this.left,b=this.top;this.createSVGContentLabel(),this.contentg=this.getGraphics(),this.contentg.setColor("white"),this.contentg.setStrokeColor("Gray"),this.contentg.setStrokeWidth(3),this.bgCircle=this.contentg.drawCircle(a,b,0),this.contentg.setStrokeColor("none"),this.contentg.setColor("black"),this.innerCircle=this.contentg.drawCircle(a,b,0),this.setSelected(this.selected)},RadioButton.prototype.recalc=function(){this.recalcRadioButton()},RadioButton.prototype.recalcRadioButton=function(){this.recalcLabel(),this.setTextAlign(RIGHT,CENTER);var a=.7*(this.h-this.top-this.bottom);this.setSize(this.w+a+this.left,this.h);var b=this.left,c=(this.getHeight()-a)/2;this.bgCircle.translate(b,c),this.bgCircle.setRadius(a/2),this.innerCircle.translate(b+a/4,c+a/4),this.innerCircle.setRadius(a/4)},RadioButton.prototype.setSelected=function(a){this.selected=a,null!=this.innerCircle&&this.innerCircle.setVisibility(this.selected)},ButtonGroup.prototype=new Container,ButtonGroup.prototype.initButtonGroup=function(a,b,c){a=a||0,b=b||0,c=c||Y_AXIS,this.addInternalMouseMotionListener(mouseClicked,"buttonGroupMouseClicked"),this.initContainer(a,b,0,0),this.setInsets(0,0,0,0),this.setLayout(new BoxLayout(c,LEFT,TOP,0))},ButtonGroup.prototype.createSVGContent=function(){this.createSVGContentButtonGroup()},ButtonGroup.prototype.createSVGContentButtonGroup=function(){this.createSVGContentContainer(),this.contentg=this.getGraphics(),this.paintChildren(this.contentg)},ButtonGroup.prototype.recalc=function(){this.recalcButtonGroup()},ButtonGroup.prototype.recalcButtonGroup=function(){if(this.recalcContainer(),null!=this.getLayout()){var a=this.getLayout().preferredLayoutSize(this);this.setSize(a.getWidth(),a.getHeight())}this.layoutChildren()},ButtonGroup.prototype.add=function(a){return a.getSelected()&&this.unSelectAll(),this.addContainer(a)},ButtonGroup.prototype.unSelectAll=function(){if(null!=this.children)for(var a=this.components();a.hasMoreElements();)a.nextElement().setSelected(!1)},ButtonGroup.prototype.buttonGroupMouseClicked=function(a){var b=this.getComponentAt(a.getX(),a.getY());if(null!=b&&"RadioButton"==b.className){this.unSelectAll();var c=new ActionEvent(b,"radioButtonClicked",a);if(null!=this.actionListeners)for(var d=new Enumerator(this.actionListeners);d.hasMoreElements();)d.nextElement().actionPerformed(c)}},Toolbar.prototype=new Panel,Toolbar.prototype.initToolbar=function(a,b,c,d){this.initPanel(a,b,c,d),this.setLayout(new FlowLayout(LEFT)),this.setBackground("#d4d0c8")},Toolbar.prototype.createSVGContent=function(){this.createSVGContentToolbar()},Toolbar.prototype.createSVGContentToolbar=function(){this.createSVGContentPanel(),this.contentg=this.getGraphics(),this.paintChildren(this.contentg),this.border=this.contentg.drawStepBorder(0,0,this.w,this.h),this.glassPaneOn(),this.enableMouseListener(),this.enableMouseMotionListener()},Toolbar.prototype.onResize=function(){this.onResizeToolbar()},Toolbar.prototype.onResizeToolbar=function(){this.onResizePanel(),null!=this.border&&this.border.setSize(this.w,this.h)},Toolbar.prototype.onMove=function(){this.onMoveToolbar()},Toolbar.prototype.onMoveToolbar=function(){this.onMovePanel()},Toolbar.prototype.recalc=function(){this.recalcToolbar()},Toolbar.prototype.recalcToolbar=function(){if(this.recalcPanel(),null!=this.getLayout()&&this.autoResize){var a=this.getLayout().minimumLayoutSize(this);this.setSize(a.getWidth(),a.getHeight())}},Toolbar.prototype.changeSkin=function(a){if(null!=this.children)for(var b=this.components();b.hasMoreElements();)b.nextElement().changeSkin(a.clone())},Toolbar.prototype.addItem=function(a,b,c){var d=null;d=void 0!=b&&b instanceof Icon?void 0!=c?new Button(0,0,0,0,a,c,b):new Button(0,0,0,0,a,null,b):new Button(0,0,0,0,a,b),null!=d&&(d.setInsets(3,3,3,3),d.changeSkin(new ToolButtonSkin),this.add(d),d.addActionListener(this))},Toolbar.prototype.actionPerformed=function(a){if(null!=this.actionListeners)for(var b=new Enumerator(this.actionListeners);b.hasMoreElements();)b.nextElement().actionPerformed(a)},TabbedPane.prototype=new Panel,TabbedPane.prototype.initTabbedPane=function(a,b,c,d){this.initPanel(a,b,c,d),this.setAlign(Y_AXIS,LEFT,TOP,2)},TabbedPane.prototype.createSVGContent=function(){this.createSVGContentTabbedPane()},TabbedPane.prototype.createSVGContentTabbedPane=function(){this.createSVGContentPanel(),this.paneg=this.getGraphics(),this.buttonsg=this.getGraphics(),this.paintPanes(this.paneg),this.paintButtons(this.buttonsg),this.glassPaneOn(),this.enableMouseListener(),this.enableMouseMotionListener()},TabbedPane.prototype.paintButtons=function(a){if(null!=this.children){for(var b=this.components();b.hasMoreElements();){var c=b.nextElement();"Button"==c.className&&c.paint(a)}null!=this.getLayout()&&this.getLayout().layoutContainer(this)}},TabbedPane.prototype.paintPanes=function(a){if(null!=this.children)for(var b=this.components();b.hasMoreElements();){var c=b.nextElement();"Pane"==c.className&&c.paint(a)}},TabbedPane.prototype.onResize=function(){this.onResizeTabbedPane()},TabbedPane.prototype.onResizeTabbedPane=function(){this.onResizePanel()},TabbedPane.prototype.recalc=function(){this.recalcTabbedPane()},TabbedPane.prototype.recalcTabbedPane=function(){this.recalcPanel();var a=this.getLayout().preferredLayoutSize(this);if(this.tabsEffectiveWidth=a.width,this.tabsEffectiveHeight=a.height,null!=this.children){for(var b=this.components();b.hasMoreElements();){var c=b.nextElement();if("Button"==c.className)switch(this.tabsLocation){case LEFT:c.setSize(this.tabsEffectiveWidth,c.h);break;case RIGHT:c.setSize(this.tabsEffectiveWidth,c.h);break;case TOP:c.setSize(c.w,this.tabsEffectiveHeight);break;case BOTTOM:c.setSize(c.w,this.tabsEffectiveHeight)}}for(var b=this.components();b.hasMoreElements();){var c=b.nextElement();"Pane"==c.className&&c.recalcPaneOnly()}null!=this.getLayout()&&this.getLayout().layoutContainer(this)}null!=this.currentPane&&this.currentPane.button.highlightOn()},TabbedPane.prototype.addPane=function(a,b,c){var d=new Button(0,0,0,0,a,b,c);d.setFont(this.getFont()),d.setTextAlign(LEFT,CENTER),d.changeSkin(new FlatButtonSkin),d.setInsets(8,8,3,3),d.setBackground("none"),d.addActionListener(this);var e=new Pane(0,0,this.w,this.h,d);return e.setFont(this.getFont()),e.setAbsolutePosition(!0),d.pane=e,this.add(e),this.add(d),this.currentPane=e,e},TabbedPane.prototype.setAlign=function(a,b,c,d){if(void 0==d&&(d=2),a==X_AXIS&&(this.tabsLocation=c,c==CENTER))return void alert("Warning: Vertical alignment must not be set to CENTER when layout on X axis");if(a==Y_AXIS&&(this.tabsLocation=b,b==CENTER))return void alert("Warning: Horizontal alignment must not be set to CENTER when layout on Y axis");var e=this.getLayout();null!=e&&delete e,this.setLayout(new BoxLayout(a,b,c,d))},TabbedPane.prototype.actionPerformed=function(a){var b=a.source;a.getActionCommand();if(null!=this.actionListeners)for(var c=new Enumerator(this.actionListeners);c.hasMoreElements();)c.nextElement().actionPerformed(a);"Button"==b.className&&void 0!=b.pane&&(this.currentPane.button.highlightOff(),this.currentPane=b.pane,this.currentPane.button.highlightOn(),this.bringToFront(b.pane),this.paneg.addGraphics(b.pane))},Pane.prototype=new Panel,Pane.prototype.initPane=function(a,b,c,d,e){this.initPanel(a,b,c,d),this.button=e},Pane.prototype.createSVGContent=function(){this.createSVGContentPane()},Pane.prototype.createSVGContentPane=function(){this.createSVGContentPanel(),this.drawing=this.getGraphics(),this.contentg=this.getGraphics(),this.paintChildren(this.contentg),this.drawing.setStrokeWidth(1),this.drawing.setStrokeColor("white"),this.drawing.setColor("#d4d0c8"),this.backgroundPolygon=this.drawing.drawPolygon(0,0),this.backgroundPolygon.setAttribute("shape-rendering","optimizeSpeed"),this.drawing.setColor("none"),this.drawing.setStrokeColor("black"),this.path1=this.drawing.drawPath(0,0,""),this.path2=this.drawing.drawPath(0,0,""),this.path1.setAttribute("shape-rendering","optimizeSpeed"),this.path2.setAttribute("shape-rendering","optimizeSpeed")},Pane.prototype.onResize=function(){this.onResizePane()},Pane.prototype.onResizePane=function(){this.onResizePanel(),null!=this.border&&this.border.setSize(this.w,this.h)},Pane.prototype.recalc=function(){this.recalcPane()},Pane.prototype.recalcPane=function(){this.recalcPanel(),this.recalcPaneOnly()},Pane.prototype.recalcPaneOnly=function(){var a=new Array,b=new Array,c=this.cParent.tabsLocation,d=this.button.x,e=this.button.y,f=this.button.w,g=this.button.h,h=this.w,i=this.h,j=this.cParent.tabsEffectiveWidth,k=this.cParent.tabsEffectiveHeight;if(c==LEFT){this.setLocation(j,0),this.button.setSize(j,this.button.h);var l=new Point(0,0),m=new Point(h-j,0),n=new Point(h-j,i),o=new Point(0,i),p=new Point(0,e+g),q=new Point(-j,e+g),r=new Point(-j,e),s=new Point(0,e);a[0]=l.x,a[1]=m.x,a[2]=n.x,a[3]=o.x,a[4]=p.x,a[5]=q.x,a[6]=r.x,a[7]=s.x,b[0]=l.y,b[1]=m.y,b[2]=n.y,b[3]=o.y,b[4]=p.y,b[5]=q.y,b[6]=r.y,b[7]=s.y,this.backgroundPolygon.setXYPoints(a,b),delete a,a=new Array,delete b,b=new Array,a[0]=p.x,a[1]=q.x,b[0]=p.y,b[1]=q.y,this.path1.setXYPoints(a,b),a[0]=m.x,a[1]=n.x,a[2]=o.x,b[0]=m.y,b[1]=n.y,b[2]=o.y,this.path2.setXYPoints(a,b)}if(c==RIGHT){this.setLocation(0,0);var l=new Point(0,0),m=new Point(h-j,0),n=new Point(h-j,e),o=new Point(h,e),p=new Point(h,e+g),q=new Point(h-j,e+g),r=new Point(h-j,i),s=new Point(0,i);a[0]=l.x,a[1]=m.x,a[2]=n.x,a[3]=o.x,a[4]=p.x,a[5]=q.x,a[6]=r.x,a[7]=s.x,b[0]=l.y,b[1]=m.y,b[2]=n.y,b[3]=o.y,b[4]=p.y,b[5]=q.y,b[6]=r.y,b[7]=s.y,this.backgroundPolygon.setXYPoints(a,b),delete a,a=new Array,delete b,b=new Array,a[0]=m.x,a[1]=n.x,b[0]=m.y,b[1]=n.y,this.path1.setXYPoints(a,b),a[0]=o.x,a[1]=p.x,a[2]=q.x,a[3]=r.x,a[4]=s.x,b[0]=o.y,b[1]=p.y,b[2]=q.y,b[3]=r.y,b[4]=s.y,this.path2.setXYPoints(a,b)}if(c==TOP){this.setLocation(0,k),this.button.setSize(this.button.w,k);var l=new Point(0,0),m=new Point(d,0),n=new Point(d,-k),o=new Point(d+f,-k),p=new Point(d+f,0),q=new Point(h,0),r=new Point(h,i-k),s=new Point(0,i-k);a[0]=l.x,a[1]=m.x,a[2]=n.x,a[3]=o.x,a[4]=p.x,a[5]=q.x,a[6]=r.x,a[7]=s.x,b[0]=l.y,b[1]=m.y,b[2]=n.y,b[3]=o.y,b[4]=p.y,b[5]=q.y,b[6]=r.y,b[7]=s.y,this.backgroundPolygon.setXYPoints(a,b),delete a,a=new Array,delete b,b=new Array,a[0]=o.x,a[1]=p.x,b[0]=o.y,b[1]=p.y,
this.path1.setXYPoints(a,b),a[0]=q.x,a[1]=r.x,a[2]=s.x,b[0]=q.y,b[1]=r.y,b[2]=s.y,this.path2.setXYPoints(a,b)}if(c==BOTTOM){this.setLocation(0,0),this.button.setSize(this.button.w,k);var l=new Point(0,0),m=new Point(h,0),n=new Point(h,i-k),o=new Point(d+f,i-k),p=new Point(d+f,i),q=new Point(d,i),r=new Point(d,i-k),s=new Point(0,i-k);a[0]=l.x,a[1]=m.x,a[2]=n.x,a[3]=o.x,a[4]=p.x,a[5]=q.x,a[6]=r.x,a[7]=s.x,b[0]=l.y,b[1]=m.y,b[2]=n.y,b[3]=o.y,b[4]=p.y,b[5]=q.y,b[6]=r.y,b[7]=s.y,this.backgroundPolygon.setXYPoints(a,b),delete a,a=new Array,delete b,b=new Array,a[0]=r.x,a[1]=s.x,b[0]=r.y,b[1]=s.y,this.path1.setXYPoints(a,b),a[0]=m.x,a[1]=n.x,a[2]=o.x,a[3]=p.x,a[4]=q.x,b[0]=m.y,b[1]=n.y,b[2]=o.y,b[3]=p.y,b[4]=q.y,this.path2.setXYPoints(a,b)}},TitledBorder.prototype=new Container,TitledBorder.prototype.initTitledBorder=function(a,b,c,d,e){this.initContainer(a,b,c,d),this.setInsets(2,2,2,2),void 0!=e&&(this.comp=e,this.comp.setBackground("#d4d0c8")),this.setBackground("#d4d0c8")},TitledBorder.prototype.createSVGContent=function(){this.createSVGContentTitledBorder()},TitledBorder.prototype.createSVGContentTitledBorder=function(){this.createSVGContentContainer(),this.tg=this.getGraphics(),this.contentg=this.getGraphics(),this.tg.setColor("none"),this.tg.setStrokeWidth(this.strokeWidth),this.tg.setStrokeColor(pal[1]),this.rect1=this.tg.drawRect(0,0,this.w-this.strokeWidth,this.h-this.strokeWidth),this.tg.setStrokeColor(pal[3]),this.rect2=this.tg.drawRect(this.strokeWidth,this.strokeWidth,this.w-this.strokeWidth,this.h-this.strokeWidth),this.rect1.setAttribute("shape-rendering","optimizeSpeed"),this.rect1.setAttribute("shape-rendering","optimizeSpeed"),null!=this.comp&&(this.comp.setFont(this.getFont()),this.comp.paint(this.tg)),this.paintChildren(this.contentg)},TitledBorder.prototype.onResize=function(){this.onResizeTitledBorder()},TitledBorder.prototype.onResizeTitledBorder=function(){this.onResizeContainer(),null!=this.comp&&this.positionComponent()},TitledBorder.prototype.onMove=function(){this.onMoveTitledBorder()},TitledBorder.prototype.onMoveTitledBorder=function(){this.onMoveContainer()},TitledBorder.prototype.recalc=function(){this.recalcTitledBorder()},TitledBorder.prototype.recalcTitledBorder=function(){var a=0;if(null!=this.comp){this.comp.recalc(),this.positionComponent();var a=(this.comp.getWidth(),this.comp.getHeight())}var b=a/2;this.valign==TOP&&(this.rect1.translate(0,b),this.rect1.setSize(this.w-this.strokeWidth,this.h-this.strokeWidth-b),this.rect2.translate(this.strokeWidth,this.strokeWidth+b),this.rect2.setSize(this.w-this.strokeWidth,this.h-this.strokeWidth-b),this.setInsets(5,5,5+a,5)),this.valign==BOTTOM&&(this.rect1.translate(0,0),this.rect1.setSize(this.w-this.strokeWidth,this.h-this.strokeWidth-b),this.rect2.translate(this.strokeWidth,this.strokeWidth),this.rect2.setSize(this.w-this.strokeWidth,this.h-this.strokeWidth-b),this.setInsets(5,5,5,5+a)),this.recalcContainer()},TitledBorder.prototype.setAlign=function(a,b){void 0!=a&&(this.align=a),void 0!=b&&(this.valign=b),null!=this.comp&&this.positionComponent()},TitledBorder.prototype.positionComponent=function(){var a=0,b=0,c=this.comp.getWidth(),d=this.comp.getHeight(),e=10;switch(this.align){case LEFT:a=e;break;case RIGHT:a=this.w-c-e;break;case CENTER:a=(this.w-c)/2}switch(this.valign){case TOP:b=0;break;case BOTTOM:b=this.h-d}this.comp.setLocation(a,b)},Separator.prototype=new Canvas,Separator.prototype.initSeparator=function(a,b,c,d){this.initCanvas(a,b,c,d)},Separator.prototype.createSVGContent=function(){this.createSVGContentSeparator()},Separator.prototype.createSVGContentSeparator=function(){this.createSVGContentCanvas(),this.sg=this.getGraphics(),this.separatorShape=this.sg.drawStepBorder(0,this.h/2,this.w,2)},Separator.prototype.onResize=function(){this.onResizeSeparator()},Separator.prototype.onResizeSeparator=function(){this.onResizeCanvas(),null!=this.separatorShape&&this.separatorShape.setSize(this.w,this.separatorShape.h)},Separator.prototype.recalc=function(){this.recalcSeparator()},Separator.prototype.recalcSeparator=function(){this.recalcCanvas(),null!=this.separatorShape&&this.separatorShape.setSize(this.w,this.separatorShape.h)},List.prototype=new Container,List.prototype.initList=function(a,b,c,d){this.addInternalMouseMotionListener(mouseClicked,"listMouseClicked"),this.initContainer(a,b,c,d),this.setInsets(7,7,5,5),this.setBackground("white"),this.setLayout(new BoxLayout(Y_AXIS,LEFT,TOP,0))},List.prototype.createSVGContent=function(){this.createSVGContentList()},List.prototype.createSVGContentList=function(){this.createSVGContentContainer(),this.contentg=this.getGraphics(),this.lg=this.getGraphics(),this.border=this.drawBorder(this.lg),this.border.setAttribute("shape-rendering","optimizeSpeed"),this.paintChildren(this.contentg)},List.prototype.drawBorder=function(a){var b=a.drawWinBorder(0,0,this.w,this.h);return b.setFaceDown(),b},List.prototype.addSeparator=function(){var a=new Separator(0,0,10,10);this.add(a)},List.prototype.addComponentItem=function(a){a.className="Item",a.setFont(this.font),this.add(a)},List.prototype.addTextItem=function(a){var b=new Label(0,0,0,0,a,a);b.className="Item",b.setFont(this.font),this.add(b)},List.prototype.addTextIconItem=function(a,b,c,d){var e=null;void 0!=b&&(e=new Icon(b,c,d));var f=new Label(0,0,0,0,a,a,e);f.className="Item",f.setFont(this.font),this.add(f)},List.prototype.onResize=function(){this.onResizeList()},List.prototype.onResizeList=function(){this.onResizeContainer(),null!=this.border&&this.border.setSize(this.w,this.h)},List.prototype.onMove=function(){this.onMoveList()},List.prototype.onMoveList=function(){this.onMoveContainer()},List.prototype.setToFixedSize=function(){this.fixedSize=!0},List.prototype.recalc=function(){this.recalcList()},List.prototype.recalcList=function(){if(this.recalcContainer(),null!=this.getLayout()&1!=this.fixedSize){var a=this.getLayout().preferredLayoutSize(this);this.setSize(a.getWidth(),a.getHeight())}if(null!=this.children){for(var b=this.components();b.hasMoreElements();){var c=b.nextElement();void 0!=c.setTextAlign&&c.setTextAlign(LEFT,CENTER),c.setSize(this.w-this.left-this.right,c.h)}null!=this.getLayout()&&this.getLayout().layoutContainer(this)}},List.prototype.listMouseClicked=function(a){var b=this.getComponentAt(a.getX(),a.getY());if(null!=b&&"Item"==b.className){this.changeHighlightedComp(b);var c=new ActionEvent(b,"itemClicked",a);if(null!=this.actionListeners)for(var d=new Enumerator(this.actionListeners);d.hasMoreElements();)d.nextElement().actionPerformed(c)}},List.prototype.changeHighlightedComp=function(a){null!=this.highlightedComp&&(this.highlightedComp.setBackground(this.getBackground()),this.highlightedComp.setTextColor("black")),this.highlightedComp=a,this.highlightedComp.setTextColor("white"),this.highlightedComp.setBackground(this.selRectColor)},List.prototype.show=function(){null!=this.getNode()&&(this.showComponent(),this.getNode().setAttribute("pointer-events","all"),null!=this.highlightedComp&&(this.highlightedComp.setBackground(this.getBackground()),this.highlightedComp.setTextColor("black"),this.highlightedComp.highlightOff()))},List.prototype.hide=function(){null!=this.getNode()&&(this.hideComponent(),this.getNode().setAttribute("pointer-events","none"))},List.prototype.getItemDimension=function(){var a=this.getComponentAt(this.left,this.top);return new Dimension(a.getWidth(),a.getHeight())},List.prototype.getFirstItem=function(){return this.getComponentAt(this.left,this.top)},List.prototype.getSelected=function(){return null==this.highlightedComp?null:this.highlightedComp.getText()},PopUpMenu.prototype=new List,PopUpMenu.prototype.initPopUpMenu=function(a,b,c,d){this.addInternalMouseMotionListener(mousePressed,"popUpMenuMousePressed"),this.addInternalMouseMotionListener(mouseMoved,"popUpMenuMouseMoved"),ds_addEventListener(this,"mousedown","desktopMouseDown"),this.initList(a,b,c,d),this.setBackground("#d4d0c8"),this.font=new Font("Arial","normal","10pt")},PopUpMenu.prototype.createSVGContent=function(){this.createSVGContentPopUpMenu()},PopUpMenu.prototype.createSVGContentPopUpMenu=function(){this.createSVGContentList(),this.glassPaneOn(),this.enableMouseListener(),this.enableMouseMotionListener(),this.hide()},PopUpMenu.prototype.drawBorder=function(a){var b=a.drawWinBorder(0,0,this.w,this.h);return b.setFaceUp(),b},PopUpMenu.prototype.recalc=function(){this.recalcPopUpMenu()},PopUpMenu.prototype.recalcPopUpMenu=function(){this.setVisibility(!1),this.show(),this.recalcList(),this.setVisibility(!0),this.hide()},PopUpMenu.prototype.desktopMouseDown=function(a){this.hide()},PopUpMenu.prototype.popUpMenuMouseMoved=function(a){var b=this.getComponentAt(a.getX(),a.getY());null!=b&&"Item"==b.className&&this.changeHighlightedComp(b)},PopUpMenu.prototype.popUpMenuMousePressed=function(a){if(a.source==this){this.show();var b=this.getComponentAt(a.getX(),a.getY());if(null!=b&&a.getButton()!=BUTTON2&&a.getButton()!=BUTTON3&&"Separator"!=b.className){var c=new ActionEvent(b,"menuItemSelected",a);if(null!=this.actionListeners)for(var d=new Enumerator(this.actionListeners);d.hasMoreElements();)d.nextElement().actionPerformed(c);this.hide()}}},TextBox.prototype=new Canvas,TextBox.prototype.initTextBox=function(a,b,c,d,e){this.initCanvas(a,b,c,d),e&&(this.text=e),this.addMouseMotionListener(this),this.addMouseListener(this),this.addKeyListener(this),ds_addEventListener(this,"click","desktopMouseClick"),ds_addEventListener(this,"mousedown","desktopMouseClick")},TextBox.prototype.setPasswordMode=function(a){this.passwordMode=a},TextBox.prototype.paint=function(a){this.paintTextBox(a)},TextBox.prototype.paintTextBox=function(a){this.paintCanvas(a),this.updateCursor(),this.lostFocus()},TextBox.prototype.recalc=function(){this.recalcTextBox()},TextBox.prototype.recalcTextBox=function(){this.recalcCanvas(),this.setFont(this.getFont())},TextBox.prototype.createSVGContent=function(){this.createSVGContentTextBox()},TextBox.prototype.createSVGContentTextBox=function(){this.createSVGContentCanvas(),this.contentg=this.getGraphics();var a=this.contentg;a.setFont(this.font),this.created=!0,this.setBackground(this.backgroundColor),this.border=a.drawWinBorder(0,0,this.w,this.h),this.border.setFaceDown(),a.setColor(this.fontColor);var b=a.getFontMetrics();if(this.cursorHeight=b.getHeight(),this.multiLine)this.tv=a.drawTextView(this.margin,this.margin,this.w-2*this.margin,this.h-2*this.margin),this.tv.setAttribute("pointer-events","none"),this.textShape=this.tv.addParagraph("A");else{this.textShape=a.drawText(this.margin,this.margin,"A"),this.textShape.setToBaseLine(),this.textShape.setAttribute("pointer-events","none");var c=this.text;this.setSize(this.getWidth(),this.cursorHeight+2*this.margin),this.text=c}this.cursorBaseline=this.getBaseline(),null!=this.text?this.setText(this.text):this.setText(""),a.setStrokeColor("black"),this.cursorShape=a.drawRect(this.margin,this.margin,1,this.cursorHeight),this.cursorShape.setAttribute("shape-rendering","optimizeSpeed");var d=svgDocument.createElementNS("http://www.w3.org/2000/svg","animate");d.setAttribute("attributeName","visibility"),d.setAttribute("values","visible;hidden;visible"),d.setAttribute("begin","0s"),d.setAttribute("repeatCount","indefinite"),d.setAttribute("dur","1"),this.cursorShape.getNode().appendChild(d),this.setCursor("text"),this.sg=createGraphics(0,0,1,1),this.sg.setColor(this.selectionColor),this.sg.setStrokeColor(this.selectionStrokeColor),this.sg.setStrokeWidth(this.selectionStrokeWidth),a.addGraphics(this.sg),this.selectionGraphicsClear=!0},TextBox.prototype.insertTextConsiderSelection=function(a){var b=this.text,c=this.cursorCharPos;this.isSelection()&&this.trs?(this.replaceText(this.selStartCharPos(),this.selEndCharPos()-this.selStartCharPos(),a),this.cursorCharPos=this.selStartCharPos()+a.length):(this.insertMode?this.replaceText(this.cursorCharPos,a.length,a):this.insertText(this.cursorCharPos,a),this.cursorCharPos+=a.length),this.isThereStillRoom(this.text.length-1)||(this.setText(b),this.cursorCharPos=c),this.resetSelection()},TextBox.prototype.getDisplayText=function(a){if(!this.passwordMode)return a;if(void 0==a||null==a)return"";var b=a.length;a="";for(var c=0;b>c;c++)a+=this.passwordChar;return a},TextBox.prototype.getBaseline=function(a){a=a||0;var b=this.textShape.getNode().getBBox().width;return b>0?this.textShape.getNode().getStartPositionOfChar(a).y:0},TextBox.prototype.setText=function(a){if(this.text=a,null!=this.textShape&&this.textShape.setText(this.getDisplayText(a)),null!=this.text&&0!=this.text.length){var b=0;for(b=0;b<this.text.length&&this.isThereStillRoom(b);b++);b<this.text.length&&(this.textShape.setText(this.getDisplayText(this.text.substring(0,b))),this.text=this.text.substring(0,b))}},TextBox.prototype.getText=function(){return this.text},TextBox.prototype.insertText=function(a,b){this.text=this.text.substring(0,a)+b+this.text.substring(a,this.text.length),this.textShape.insertText(a,this.getDisplayText(b)),this.sendChangeEvent()},TextBox.prototype.replaceText=function(a,b,c){this.textShape.replaceText(a,b,this.getDisplayText(c)),this.text=this.text.substring(0,a)+c+this.text.substring(a+b,this.text.length),this.sendChangeEvent()},TextBox.prototype.deleteText=function(a,b){this.textShape.deleteText(a,b),this.text=this.text.substring(0,a)+this.text.substring(a+b,this.text.length),this.sendChangeEvent()},TextBox.prototype.sendChangeEvent=function(){var a=new ActionEvent(this,"textBoxChanged",null);if(null!=this.actionListeners)for(var b=new Enumerator(this.actionListeners);b.hasMoreElements();)b.nextElement().actionPerformed(a)},TextBox.prototype.getRotationOfChar=function(a){return this.textShape.getNode().getRotationOfChar(a)},TextBox.prototype.getStartPositionOfChar=function(a){return a>-1?this.getBaseline(a):0},TextBox.prototype.getEndPositionOfChar=function(a){return this.textShape.getNode().getEndPositionOfChar(a)},TextBox.prototype.getXPositionOfChar=function(a){return this.getStartPositionOfChar(a).x},TextBox.prototype.getYPositionOfChar=function(a){return this.getStartPositionOfChar(a).y},TextBox.prototype.isCharsAtSameLine=function(a,b){return this.getYPositionOfChar(a)==this.getYPositionOfChar(b)},TextBox.prototype.calcSelectionEnds=function(a,b,c){a?(-1==this.selCharPos1&&(this.selCharPos1=b),this.selCharPos2=c):this.resetSelection()},TextBox.prototype.isThereStillRoom=function(a){if(this.multiLine)return this.text.length>0&&this.getYPositionOfChar(a)<=0?!1:!0;var b=this.font.getFontMetrics();return b.getStringWidth(this.text.substring(0,a+1))>this.w-2*this.margin?!1:!0},TextBox.prototype.getCharPosFromXY=function(a,b){b>this.getYPositionOfChar(this.text.length-1)&&(b=this.getYPositionOfChar(this.text.length-1)),b<this.getYPositionOfChar(0)&&(b=this.getYPositionOfChar(0)),b=this.quantizeY(b);var c=svgDocument.documentElement.createSVGPoint();c.x=a,c.y=b;var d=this.textShape.getNode().getCharNumAtPosition(c);if(-1!=d)return d;if(c.x=0,c.y=b,d=this.textShape.getNode().getCharNumAtPosition(c),-1!=d){if(0>=a)return d;var e=0;for(e=d;e<this.text.length&&this.isCharsAtSameLine(e,d);e++);return e==this.text.length?e:e-1}return-1},TextBox.prototype.quantizeY=function(a){return Math.floor(a/this.cursorHeight)*this.cursorHeight+this.cursorHeight/2},TextBox.prototype.selStartCharPos=function(){return Math.min(this.selCharPos1,this.selCharPos2)},TextBox.prototype.selEndCharPos=function(){return Math.max(this.selCharPos1,this.selCharPos2)},TextBox.prototype.isSelection=function(){return this.selCharPos1>-1&&this.selCharPos2>-1},TextBox.prototype.resetSelection=function(){this.selCharPos1=-1,this.selCharPos2=-1,this.styledMode?(this.sg.clear(),this.selectionGraphicsClear=!0):svgDocument.documentElement.deselectAll()},TextBox.prototype.updateSelection=function(){if(!this.styledMode&&this.isSelection()){var a=this.selStartCharPos(),b=this.selEndCharPos();return void this.textShape.getNode().selectSubString(a,b-a)}if(this.selStartCharPos()!=this.selEndCharPos()){var c,d;c=this.getStartPositionOfChar(this.selStartCharPos()),d=this.selEndCharPos()==this.text.length?this.getEndPositionOfChar(this.selEndCharPos()-1):this.getStartPositionOfChar(this.selEndCharPos());var e=c.x+this.margin,f=c.y+this.margin-this.cursorBaseline,g=d.x-c.x,h=this.cursorHeight;if(this.isSelection())if(this.selectionGraphicsClear){this.selectionGraphicsClear=!1;for(var i=c.y;i!=d.y;){var j=this.getCharPosFromXY(this.w,i);g=this.getEndPositionOfChar(j).x-e,i=this.getStartPositionOfChar(j+1).y}this.sRect=this.sg.drawRect(e,f,g,h),this.sRect.setAttribute("shape-rendering","optimizeSpeed"),this.sRect.setOpacity(.3)}else c.y!=d.y&&(g=this.getEndPositionOfChar(this.getCharPosFromXY(this.w,this.y)).x-e),this.sRect.translate(e,f),this.sRect.setSize(g,h)}},TextBox.prototype.moveCursorLeftRight=function(a,b){this.calcSelectionEnds(b,this.cursorCharPos,this.cursorCharPos+a),this.cursorCharPos+=a,this.updateSelection()},TextBox.prototype.moveCursorUpDown=function(a,b){var c=this.cursorCharPos,d=svgDocument.documentElement.createSVGPoint();d.x=this.cursorX,d.y=this.getYPositionOfChar(this.cursorCharPos)+a;var e=this.textShape.getNode().getCharNumAtPosition(d);if(-1!=e)this.cursorCharPos=e;else if(a>0){for(i=this.cursorCharPos;i<=this.text.length;i++)if(!this.isCharsAtSameLine(i,this.cursorCharPos)){for(this.cursorCharPos=i,j=this.cursorCharPos;j<=this.text.length&&this.isCharsAtSameLine(j,this.cursorCharPos);j++);this.cursorCharPos=j-1;break}}else for(i=this.cursorCharPos;i>=0;i--)if(!this.isCharsAtSameLine(i,this.cursorCharPos)){this.cursorCharPos=i;break}this.calcSelectionEnds(b,c,this.cursorCharPos)},TextBox.prototype.endKeyPressed=function(a){var b=this.cursorCharPos;if(this.isCharsAtSameLine(this.text.length-1,this.cursorCharPos))this.cursorCharPos=this.text.length;else{for(i=this.cursorCharPos;i<=this.text.length&&this.isCharsAtSameLine(i,this.cursorCharPos);i++);this.cursorCharPos=i-1}this.calcSelectionEnds(a,b,this.cursorCharPos)},TextBox.prototype.homeKeyPressed=function(a){var b=this.cursorCharPos;if(0!=this.text.length&&this.cursorCharPos==this.text.length&&this.cursorCharPos--,this.isCharsAtSameLine(0,this.cursorCharPos))this.cursorCharPos=0;else{for(i=this.cursorCharPos;i>=0&&this.isCharsAtSameLine(i,this.cursorCharPos);i--);this.cursorCharPos=i+1}this.calcSelectionEnds(a,b,this.cursorCharPos)},TextBox.prototype.updateCursor=function(){if(null!=this.cursorShape){var a=!1;0==this.text.length&&(a=!0,this.setText("A"),this.cursorCharPos=0);var b=0;this.cursorCharPos<0&&(this.cursorCharPos=0),this.cursorCharPos>=this.text.length?(this.cursorCharPos=this.text.length,pos=this.getEndPositionOfChar(this.cursorCharPos-1),b=this.getRotationOfChar(this.cursorCharPos-1)):(pos=this.getStartPositionOfChar(this.cursorCharPos),b=this.getRotationOfChar(this.cursorCharPos)),this.cursorX=pos.x+this.margin,this.cursorY=pos.y+this.margin-this.cursorBaseline,this.insertMode&&this.cursorCharPos!=this.text.length&&" "!=this.text.substring(this.cursorCharPos,this.cursorCharPos+1)?(f=this.textShape.getNode().getExtentOfChar(this.cursorCharPos),this.cursorShape.setSize(f.width,this.cursorShape.getHeight()),this.cursorShape.setOrigin(this.cursorWidth/2,this.cursorShape.getHeight()),this.cursorShape.rotate(b),this.cursorShape.translate(f.x+this.margin,this.cursorY),this.hasFocus&&this.cursorShape.setOpacity(.4)):(this.cursorShape.setSize(this.cursorWidth,this.cursorShape.getHeight()),this.cursorShape.setOrigin(this.cursorWidth/2,this.cursorShape.getHeight()),this.cursorShape.rotate(b),this.cursorShape.translate(this.cursorX-this.cursorWidth/2,this.cursorY),this.hasFocus&&(this.insertMode?this.cursorShape.setOpacity(.4):this.cursorShape.setOpacity(1))),a&&(a=!1,this.setText("")),this.updateSelection()}},TextBox.prototype.desktopMouseClick=function(a){this.lostFocus()},TextBox.prototype.mouseClicked=function(a){var b,c;if(this.gainFocus(),2==a.getClickCount()){if(" "==this.text.substring(this.cursorCharPos,this.cursorCharPos+1))return;for(b=this.cursorCharPos;b>=0&&" "!=this.text.substring(b,b+1);b--);for(this.selCharPos1=b+1,c=this.cursorCharPos;c<this.text.length&&" "!=this.text.substring(c,c+1);c++);this.selCharPos2=c}this.updateCursor()},TextBox.prototype.mousePressed=function(a){this.gainFocus(),a.isShiftDown()&&-1==this.selCharPos1&&(this.selCharPos1=this.cursorCharPos);var b=this.getCharPosFromXY(a.getX()-this.margin,a.getY()-this.margin);-1!=b&&(this.cursorCharPos=b),a.isShiftDown()?this.selCharPos2=this.cursorCharPos:a.getButton()!=BUTTON2&&this.resetSelection(),this.updateCursor()},TextBox.prototype.mouseStartDragged=function(a){if(this.hasFocus){var b=this.getCharPosFromXY(a.getX()-this.margin,a.getY()-this.margin);-1!=b&&(this.cursorCharPos=b,this.selCharPos1=b,viewerMode==Batik||this.styledMode||this.textShape.getNode().selectSubString(this.selCharPos1,0))}},TextBox.prototype.mouseDragged=function(a){if((this.styledMode||viewerMode==Batik)&&this.hasFocus){var b=this.getCharPosFromXY(a.getX()-this.margin,a.getY()-this.margin);-1!=b?(this.cursorCharPos=b,this.selCharPos2=b,this.updateCursor()):this.resetSelection()}},TextBox.prototype.mouseEndDragged=function(a){if(!this.styledMode){var b=this.getCharPosFromXY(a.getX()-this.margin,a.getY()-this.margin);-1!=b?(this.cursorCharPos=b,this.selCharPos2=b,this.updateCursor()):this.resetSelection()}},TextBox.prototype.mouseReleased=function(a){},TextBox.prototype.mouseEntered=function(a){},TextBox.prototype.mouseExited=function(a){},TextBox.prototype.mouseMoved=function(a){},TextBox.prototype.keyPressed=function(a){},TextBox.prototype.keyTyped=function(a){var b=a.getKeyChar();!a.isControlDown()&&!a.isAltDown()&&b!=VK_BACK_SPACE&&b!=VK_ENTER&&b!=VK_DOWN&&b!=VK_UP&&b!=VK_HOME&&b!=VK_END&&b!=VK_LEFT&&b!=VK_RIGHT&&b!=VK_DELETE&&b!=VK_INSERT&&255>=b&&(this.insertTextConsiderSelection(String.fromCharCode(a.getKeyChar())),this.updateCursor())},TextBox.prototype.keyReleased=function(a){var b=a.getKeyCode();this.getText();switch(b){case VK_SPACE:this.resetSelection();break;case VK_ENTER:this.resetSelection();break;case VK_BACK_SPACE:this.isSelection()?(this.deleteText(this.selStartCharPos(),this.selEndCharPos()-this.selStartCharPos()),this.cursorCharPos=this.selStartCharPos(),this.resetSelection()):this.cursorCharPos>0&&(this.deleteText(this.cursorCharPos-1,1),this.cursorCharPos--);break;case VK_DELETE:this.isSelection()?(a.isShiftDown()&&clipboard.setData(this.getText().substring(this.selStartCharPos(),this.selEndCharPos())),this.deleteText(this.selStartCharPos(),this.selEndCharPos()-this.selStartCharPos()),this.cursorCharPos=this.selStartCharPos(),this.resetSelection()):this.deleteText(this.cursorCharPos,1);break;case VK_INSERT:a.isShiftDown()&&null!=clipboard.getData()?this.insertTextConsiderSelection(clipboard.getData()):this.insertMode?this.insertMode=!1:this.insertMode=!0;break;case VK_A:a.isControlDown()&&(this.selCharPos1=0,this.selCharPos2=this.text.length);break;case VK_C:a.isControlDown()&&this.isSelection()&&clipboard.setData(this.getText().substring(this.selStartCharPos(),this.selEndCharPos()));break;case VK_X:a.isControlDown()&&this.isSelection()&&(clipboard.setData(this.getText().substring(this.selStartCharPos(),this.selEndCharPos())),this.deleteText(this.selStartCharPos(),this.selEndCharPos()-this.selStartCharPos()),this.cursorCharPos=this.selStartCharPos(),this.resetSelection());break;case VK_V:a.isControlDown()&&null!=clipboard.getData()&&this.insertTextConsiderSelection(clipboard.getData());break;case VK_DOWN:this.moveCursorUpDown(this.cursorHeight,a.isShiftDown());break;case VK_UP:this.moveCursorUpDown(-this.cursorHeight,a.isShiftDown());break;case VK_HOME:this.homeKeyPressed(a.isShiftDown());break;case VK_END:this.endKeyPressed(a.isShiftDown());break;case VK_LEFT:this.moveCursorLeftRight(-1,a.isShiftDown());break;case VK_RIGHT:this.moveCursorLeftRight(1,a.isShiftDown())}this.updateCursor()},TextBox.prototype.selectAll=function(a){this.selCharPos1=0,this.selCharPos2=this.text.length,this.updateCursor()},TextBox.prototype.gainFocus=function(){this.gainFocusTextBox()},TextBox.prototype.gainFocusTextBox=function(){this.gainFocusCanvas(),null!=this.cursorShape&&(this.insertMode?this.cursorShape.setOpacity(.4):this.cursorShape.setOpacity(1))},TextBox.prototype.lostFocus=function(){this.lostFocusTextBox()},TextBox.prototype.lostFocusTextBox=function(){this.lostFocusCanvas(),null!=this.cursorShape&&this.cursorShape.setOpacity(0),this.resetSelection()},TextBox.prototype.setFontSize=function(a){this.font.setSize(a),this.setFont(this.font)},TextBox.prototype.getFontSize=function(){return this.font.getSizeValue()},TextBox.prototype.setFont=function(a){if(this.font=a,null!=this.contentg){this.contentg.setFont(a);var b=a.getFontMetrics();this.cursorHeight=b.getHeight();var c=this.text;this.setText("A"),null!=this.textShape&&this.textShape.setFont(a);var b=this.getFont().getFontMetrics();this.cursorWidth=b.getStringWidth("i")/4,this.cursorBaseline=this.getBaseline(),this.cursorShape.setSize(this.cursorWidth,this.cursorHeight),this.setSize(this.w,this.h),this.setText(c),this.cursorCharPos=0,this.updateCursor()}},TextBox.prototype.setmargin=function(a){this.margin=a,this.multiLine?null!=this.tv&&(this.tv.translate(this.margin,this.margin),this.tv.setSize(this.w-2*this.margin,this.h-2*this.margin)):null!=this.textShape&&(this.textShape.translate(this.margin,this.margin),this.setSize(this.w,0)),this.setText(this.getText()),this.updateCursor()},TextBox.prototype.onResize=function(){this.multiLine||(this.h=this.cursorHeight+2*this.margin),this.onResizeCanvas(),void 0!=this.border&&null!=this.border&&this.border.setSize(this.w,this.h),this.multiLine&&null!=this.tv&&this.tv.setSize(this.w-2*this.margin,this.h-2*this.margin),this.setText(this.getText()),this.updateCursor()},TextBox.prototype.setStyledModeOff=function(){this.styledMode=!1},TextBox.prototype.setStyledModeOn=function(){this.styledMode=!0},TextBox.prototype.changeSelectionRectStyle=function(a,b,c){this.selectionColor=a,this.selectionStrokeColor=b,this.selectionStrokeWidth=c,this.sg.setColor(this.selectionColor),this.sg.setStrokeColor(this.selectionStrokeColor),this.sg.setStrokeWidth(this.selectionStrokeWidth)},TextBox.prototype.getPreferredSize=function(a){if(void 0==a)return this.getSize();for(var b=this.getFont().getFontMetrics(),c="",d=0;a>d;d++)c+="M";return new Dimension(b.getStringWidth(c),this.h)},TextBox.prototype.toString=function(){return this.className+" [ caption: "+this.caption+", name: "+this.name+"]"},ComboBox.prototype=new Container,ComboBox.prototype.initComboBox=function(a,b,c,d,e){this.addInternalMouseMotionListener(mousePressed,"comboBoxMousePressed"),this.initContainer(a,b,c,d,e),this.setBackground("white"),this.button=this.add(new Button(0,0,40,40,"drop")),this.initilizeList(),this.setLayout(new BoxLayout(Y_AXIS,RIGHT,TOP,0)),this.setInsets(7,2,2,2)},ComboBox.prototype.initilizeList=function(){this.menu=this.add(new PopUpMenu(0,0,0,0)),this.menu.setFont(this.font),this.menu.setBackground(this.getBackground()),this.menu.drawBorder=function(a){return a.setColor("none"),a.setStrokeColor("black"),a.setStrokeWidth(1),a.drawRect(0,0,this.w,this.h)},this.menu.setBackground(this.getBackground()),this.menu.addActionListener(this),this.menu.setAbsolutePosition(!0)},ComboBox.prototype.changeMenuType=function(a){this.remove(this.menu),this.menu=this.add(a),this.menu.setFont(this.font),this.menu.setBackground(this.getBackground()),this.menu.addActionListener(this),this.menu.setAbsolutePosition(!0)},ComboBox.prototype.createSVGContent=function(){this.createSVGContentComboBox()},ComboBox.prototype.createSVGContentComboBox=function(){this.createSVGContentContainer(),this.contentg=this.getGraphics(),this.screen=this.getGraphics(),this.screen.translate(this.left,this.top),this.cg=this.getGraphics(),this.border=this.cg.drawWinBorder(0,0,this.w,this.h),this.border.setAttribute("shape-rendering","optimizeSpeed"),this.border.setFaceDown(),this.paintChildren(this.contentg),menuLayer.addGraphics(this.menu),this.menu.hide();var a=this.button.getGraphics();this.button.triangle=a.drawPolygon(0,0),this.glassPaneOn(),this.enableMouseListener(),this.enableMouseMotionListener()},ComboBox.prototype.setFont=function(a){this.font=a,null!=this.menu&&this.menu.setFont(this.font)},ComboBox.prototype.addComponent=function(a){this.menu.addComponentItem(a)},ComboBox.prototype.addTextItem=function(a){var b=new Label(0,0,0,0,a,a);b.className="Item",b.setFont(this.font),this.addComponent(b)},ComboBox.prototype.addTextIconItem=function(a,b,c,d){var e=null;void 0!=b&&(e=new Icon(b,c,d));var f=new Label(0,0,0,0,a,a,e);f.className="Item",f.setFont(this.font),this.addComponent(f)},ComboBox.prototype.recalc=function(){this.recalcComboBox()},ComboBox.prototype.recalcComboBox=function(){this.recalcContainer();var a=this.menu.getItemDimension(),b=a.getHeight(),c=a.getHeight();this.button.setSize(b,c);var d=new Array,e=new Array;d[0]=b/3,d[1]=b-b/3,d[2]=b/2,e[0]=c/3,e[1]=c/3,e[2]=c-c/3,this.button.triangle.setXYPoints(d,e),this.setSize(a.getWidth()+this.button.getWidth()+this.left+this.right,this.button.getHeight()+this.top+this.bottom),this.menu.setLocation(.5,this.h),this.displayComponent(this.menu.getFirstItem())},ComboBox.prototype.onResize=function(){this.onResizeComboBox()},ComboBox.prototype.onResizeComboBox=function(){this.onResizeContainer(),null!=this.border&&this.border.setSize(this.w,this.h)},ComboBox.prototype.comboBoxMousePressed=function(a){var b=this.getAbsoluteLocation();this.menu.setLocation(b.x+1,b.y+this.h),this.menu.show()},ComboBox.prototype.displayComponent=function(a){var b=a.g.getNode().cloneNode(!0);this.g.getNode().replaceChild(b,this.screen.getNode()),this.screen.setNode(b),this.screen.translate(this.left,this.top),this.comp=a},ComboBox.prototype.getCurrentComponent=function(){return this.comp},ComboBox.prototype.changeToText=function(a){var b=new Label(0,0,0,0,"lb_text",a);b.setFont(this.getFont()),b.paint(),this.displayComponent(b),b.dispose()},ComboBox.prototype.actionPerformed=function(a){var b=a.source;a.getActionCommand();this.displayComponent(b),this.menu.hide();var c=new ActionEvent(this,"itemClicked",a);if(null!=this.actionListeners)for(var d=new Enumerator(this.actionListeners);d.hasMoreElements();)d.nextElement().actionPerformed(c)},Spin.prototype=new Panel,Spin.prototype.initSpin=function(a,b,c,d,e){this.initPanel(a,b,10,10),this.setValue(e),void 0!=c?this.name=c:c=this.getComponentId(),void 0!=d?this.format=d:d="000",this.setBackground("white"),this.upButton=new Button(0,0,0,0,"upButton"),this.downButton=new Button(0,0,0,0,"downButton"),this.label=new Label(0,0,0,0,"screen",this.value),this.upButton.setAbsolutePosition(!0),this.downButton.setAbsolutePosition(!0),this.label.setAbsolutePosition(!0),this.add(this.label),this.add(this.upButton),this.add(this.downButton),this.upButton.addActionListener(this),this.downButton.addActionListener(this)},Spin.prototype.setMinMax=function(a,b){this.min=a,this.max=b,this.setValue(this.value)},Spin.prototype.setValue=function(a){void 0==a&&(a=0),a>this.max&&(a=this.max),a<this.min&&(a=this.min),this.value=a,null!=this.label&&this.label.setText(this.value),this.notifyListeners()},Spin.prototype.getValue=function(){return this.value},Spin.prototype.getMin=function(){return this.min},Spin.prototype.getMax=function(){return this.max},Spin.prototype.changeInc=function(a){void 0==a&&(a=1),this.dinc=a},Spin.prototype.inc=function(a){void 0==a&&(a=this.dinc),this.setValue(this.value+=a)},Spin.prototype.dec=function(a){void 0==a&&(a=this.dinc),this.setValue(this.value-=a)},Spin.prototype.createSVGContent=function(){this.createSVGContentSpin()},Spin.prototype.createSVGContentSpin=function(){this.createSVGContentPanel(),this.label.setFont(this.getFont()),this.contentg=this.getGraphics(),this.paintChildren(this.contentg),this.border=this.contentg.drawStepBorder(0,0,this.w,this.h),this.border.setFaceDown();var a=this.upButton.getGraphics();this.upButton.triangle=a.drawPolygon(0,0),
a=this.downButton.getGraphics(),this.downButton.triangle=a.drawPolygon(0,0)},Spin.prototype.onResize=function(){this.onResizeSpin()},Spin.prototype.onResizeSpin=function(){this.onResizePanel(),null!=this.border&&this.border.setSize(this.w-this.h/2,this.h)},Spin.prototype.recalc=function(){this.recalcSpin()},Spin.prototype.recalcSpin=function(){this.label.setText(this.format),this.label.recalc(),this.label.setLocation(this.left,this.top);var a=this.label.getHeight()+this.top+this.bottom,b=this.label.getWidth()+this.left+this.right+a/2;this.setSize(b,a),a=this.h/2,this.upButton.setLocation(b-a,0),this.downButton.setLocation(b-a,a),this.label.setText(this.value),this.upButton.setSize(a,a),this.downButton.setSize(a,a),b=a,a=a;var c=new Array,d=new Array;c[0]=b/3,c[1]=b-b/3,c[2]=b/2,d[0]=a-a/3,d[1]=a-a/3,d[2]=a/3,this.upButton.triangle.setXYPoints(c,d),c[0]=b/3,c[1]=b-b/3,c[2]=b/2,d[0]=a/3,d[1]=a/3,d[2]=a-a/3,this.downButton.triangle.setXYPoints(c,d),this.notifyListeners()},Spin.prototype.actionPerformed=function(a){var b=a.source;a.getActionCommand();b==this.upButton&&this.inc(),b==this.downButton&&this.dec()},Spin.prototype.notifyListeners=function(){var a=new ActionEvent(this,"valueChanged",null);if(null!=this.actionListeners)for(var b=new Enumerator(this.actionListeners);b.hasMoreElements();)b.nextElement().actionPerformed(a)},ColorBox.prototype=new Canvas,ColorBox.prototype.initColorBox=function(a,b,c,d,e,f){this.initCanvas(a,b,c,d),this.setInsets(2,2,2,2),this.setColor(e),void 0==f&&(f="white"),this.color=e,this.setBackground(this.bkColor)},ColorBox.prototype.getColor=function(){return this.color},ColorBox.prototype.setColor=function(a){void 0==a&&(a="none"),this.color=a},ColorBox.prototype.setTextColor=function(){},ColorBox.prototype.highlightOff=function(){},ColorBox.prototype.createSVGContent=function(){this.createSVGContentColorBox()},ColorBox.prototype.createSVGContentColorBox=function(){this.createSVGContentCanvas(),this.contentg=this.getGraphics(),this.contentg.setColor(this.color),"none"!=this.color?this.rect=this.contentg.drawRect(this.left,this.top,this.w-this.left-this.right,this.h-this.top-this.bottom):(this.contentg.setStrokeColor("red"),this.contentg.setStrokeWidth(4),this.contentg.drawLine(this.left,this.top,this.w-this.left-this.right,this.h-this.top-this.bottom),this.contentg.drawLine(this.w-this.left-this.right,this.top,this.left,this.h-this.top-this.bottom)),this.rootg.setAttribute("shape-rendering","optimizeSpeed")},ColorlList.prototype=new PopUpMenu,ColorlList.prototype.initColorlList=function(a,b,c,d){this.initPopUpMenu(a,b,c,d),this.setLayout(new FlowLayout(LEFT,0,0)),this.setInsets(3,3,4,4),this.setBackground("black"),this.selRectColor="white"},ColorlList.prototype.createSVGContent=function(){this.createSVGContentColorlList()},ColorlList.prototype.createSVGContentColorlList=function(){this.createSVGContentPopUpMenu();var a=this.getGraphics();this.colNum=parseInt(this.getWidth()/this.itemWidth),this.rowNum=parseInt(this.getHeight()/this.itemHeight);for(var b,c,d=0,e=0;e<this.rowNum;e++)for(var f=0;f<this.colNum;f++)a.setColor(this.colors[d]),b=f*this.itemWidth+this.left,c=e*this.itemHeight+this.top,a.drawRect(b,c,this.itemWidth,this.itemHeight),d++;var g=4;a.setStrokeColor("red"),a.setStrokeWidth(4),b+=2,c+=2,a.drawLine(b+g,c+g,b+this.itemWidth-2*g,c+this.itemHeight-2*g),a.drawLine(b+this.itemWidth-2*g,c+g,b+g,c+this.itemHeight-2*g),a.setStrokeColor("white"),a.setStrokeWidth(2),a.setColor("none"),this.selRect=a.drawRect(this.left,this.top,this.itemWidth,this.itemHeight),this.selRect.setVisibility(!1)},ColorlList.prototype.drawBorder=function(a){var b=a.drawStepBorder(0,0,this.w,this.h);return b},ColorlList.prototype.popUpMenuMouseMoved=function(a){this.selRect.setVisibility(!0);var b=parseInt(a.getX()/this.itemWidth),c=parseInt(a.getY()/this.itemHeight);b>this.colNum-1&&(b=this.colNum-1),c>this.rowNum-1&&(c=this.rowNum-1),this.selRect.translate(b*this.itemWidth+this.left,c*this.itemHeight+this.top)},ColorlList.prototype.popUpMenuMousePressed=function(a){if(a.source==this){var b=parseInt(a.getX()/this.itemWidth),c=parseInt(a.getY()/this.itemHeight);b>this.colNum-1&&(b=this.colNum-1),c>this.rowNum-1&&(c=this.rowNum-1);var d=b+c*this.colNum;this.curColor=this.colors[d],this.show();var e=new ActionEvent(this,"menuItemSelected",a);if(null!=this.actionListeners)for(var f=new Enumerator(this.actionListeners);f.hasMoreElements();)f.nextElement().actionPerformed(e);this.selRect.setVisibility(!1),this.hide()}},ColorlList.prototype.recalc=function(){this.recalcColorlList()},ColorlList.prototype.recalcColorlList=function(){this.recalcContainer()},ColorlList.prototype.getItemDimension=function(){return new Dimension(this.itemWidth,this.itemHeight)},ColorlList.prototype.getFirstItem=function(){return this},ColorlList.prototype.getColor=function(){return this.curColor},ColorComboBox.prototype=new ComboBox,ColorComboBox.prototype.initColorComboBox=function(a){this.initComboBox(0,0,0,0,a),this.setBackground("black"),this.changeMenuType(new ColorlList(0,0,155,205)),this.setInsets(2,2,2,2)},ColorComboBox.prototype.changeToColor=function(a){this.rootg,this.rootg.setBackground(a)},ColorComboBox.prototype.displayComponent=function(a){this.changeToColor(a.getColor())},ColorComboBox.prototype.getCurrentComponent=function(){return this.menu},ColorComboBox.prototype.getColor=function(){return this.getCurrentComponent().getColor()},Window.prototype=new Panel,Window.prototype.initWindow=function(a,b,c,d){("string"==typeof this.icon||this.icon instanceof String)&&(this.icon=new Icon(this.icon,16,16)),this.windowSkin=this.windowSkin||new DefaultWindowSkin,this.enableMouseListener(),this.enableMouseMotionListener(),this.addInternalMouseMotionListener(mouseStartDragged,"winMouseStartDragged"),this.addInternalMouseMotionListener(mouseDragged,"winMouseDragged"),this.addInternalMouseMotionListener(mouseMoved,"winMouseMoved"),this.addInternalMouseMotionListener(mouseClicked,"winMouseClicked"),this.addInternalMouseMotionListener(mousePressed,"winMousePressed"),ds_addEventListener(this,"mousedown","desktopMouseClick"),this.initContainer(a,b,c,d),ds_addEventListener(this,"click","desktopMouseClick"),this.setInsets(3,3,3,3),this.setFont(new Font("Helvetica","normal","10pt")),this.closeButtonFlag&&(this.closeBut=this.add(new Button(0,0,20,20,"closeBut")),this.closeBut.addActionListener(this),this.closeBut.setAbsolutePosition(!0))},Window.prototype.changeSkin=function(a){this.created?(this.sking.oldClear(),this.contentg.oldClear(),this.windowSkin=a,this.createSVGContent()):this.windowSkin=a},Window.prototype.paint=function(a){this.paintWindow(a)},Window.prototype.paintWindow=function(a){this.paintPanel(a)},Window.prototype.createSVGContent=function(){this.createSVGContentWindow()},Window.prototype.createSVGContentWindow=function(){if(this.createSVGContentContainer(),this.sking=this.getGraphics(),this.contentg=this.getGraphics(),this.windowSkin.createSVGContent(this),this.paintChildren(this.contentg),null!=this.closeBut){var a=this.closeBut.getGraphics();a.setStrokeColor("black"),a.setStrokeWidth(1),this.closeBut.line1=a.drawLine(0,0,0,0),this.closeBut.line2=a.drawLine(0,0,0,0)}this.glassPaneOn(),this.enableMouseListener(),this.enableMouseMotionListener()},Window.prototype.onResize=function(){this.onResizeWindow()},Window.prototype.onResizeWindow=function(){this.w<this.minWidth&&(this.w=this.minWidth),this.h<this.minHeight&&(this.h=this.minHeight),this.onResizeCanvas(),this.windowSkin.setSize(this.w,this.h),null!=this.closeBut&&this.closeBut.setLocation(this.w-this.closeBut.w-2*this.windowSkin.borderWidth,2*this.windowSkin.borderWidth)},Window.prototype.onMove=function(){this.onMoveWindow()},Window.prototype.onMoveWindow=function(){this.onMovePanel()},Window.prototype.recalc=function(){this.recalcWindow()},Window.prototype.recalcWindow=function(){if(null!=this.windowSkin&&(this.windowSkin.recalc(),this.titleRectHeight=this.windowSkin.titleLabel.getHeight(),this.recalcInsets&&(this.setInsets(this.left,this.right,this.top+this.titleRectHeight,this.bottom),this.recalcInsets=!1),null!=this.closeBut)){this.closeBut.setSize(this.titleRectHeight-6,this.titleRectHeight-6),this.closeBut.setLocation(this.w-this.closeBut.w-2*this.windowSkin.borderWidth,2*this.windowSkin.borderWidth);var a=this.closeBut.w,b=this.closeBut.h,c=.1*a,d=.8*a;this.closeBut.line1.setAttribute("stroke-width",c),this.closeBut.line2.setAttribute("stroke-width",c),this.closeBut.line1.setPoint1(d,d),this.closeBut.line1.setPoint2(a-d,b-d),this.closeBut.line2.setPoint1(a-d,d),this.closeBut.line2.setPoint2(d,b-d),this.execludedMovingAreaWidth=this.closeBut.w+2*this.windowSkin.borderWidth}this.recalcPanel()},Window.prototype.setToFixedSize=function(){this.fixedSize=!0},Window.prototype.getTitle=function(){return this.title},Window.prototype.getIcon=function(){return this.icon},Window.prototype.setMinSize=function(a,b){this.minWidth=a,this.minHeight=b},Window.prototype.putWindowOnTop=function(){windowLayer.addGraphics(this)},Window.prototype.winMousePressed=function(a){null!=this.windowSkin&&(this.windowSkin.active(),this.active=!0)},Window.prototype.winMouseClicked=function(a){this.winMousePressed(a),this.putWindowOnTop()},Window.prototype.winMouseMoved=function(a){var b=a.getX(),c=a.getY(),d=this.w,e=this.h,f=this.edgeWidth;if(!this.fixedSize){if(f>b&&f>c)return void this.setCursor("nw-resize");if(b>f&&d-f>b&&f>c)return void this.setCursor("n-resize");if(b>d-f&&f>c)return void this.setCursor("ne-resize");if(f>b&&c>f&&e-f>c)return void this.setCursor("w-resize");if(f>b&&c>e-f)return void this.setCursor("sw-resize");if(b>d-f&&c>f&&e-f>c)return void this.setCursor("e-resize");if(b>d-f&&c>e-f)return void this.setCursor("se-resize");if(b>f&&d-f>b&&c>e-f)return void this.setCursor("s-resize")}return c<this.titleRectHeight&&b<this.w-this.execludedMovingAreaWidth?void this.setCursor("move"):void this.setCursor("default")},Window.prototype.winMouseStartDragged=function(a){this.tempX=a.getX(),this.tempY=a.getY(),this.putWindowOnTop()},Window.prototype.winMouseDragged=function(a){var b=a.getX(),c=a.getY(),d=this.getCursor();switch(d){case"n-resize":if(this.fixedSize)break;this.setSize(this.w,this.h-c),this.setLocation(this.x,this.y+c);break;case"w-resize":if(this.fixedSize)break;this.setSize(this.w-b,this.h),this.setLocation(this.x+b,this.y);break;case"e-resize":if(this.fixedSize)break;this.setSize(b,this.h);break;case"s-resize":if(this.fixedSize)break;this.setSize(this.w,c);break;case"nw-resize":if(this.fixedSize)break;this.setSize(this.w-b,this.h-c),this.setLocation(this.x+b,this.y+c);break;case"ne-resize":if(this.fixedSize)break;this.setSize(b,this.h-c),this.setLocation(this.x,this.y+c);break;case"sw-resize":if(this.fixedSize)break;this.setSize(this.w+(this.tempX-b),c),this.setLocation(this.x-this.tempX+b,this.y);break;case"se-resize":if(this.fixedSize)break;this.setSize(b,c);break;case"move":this.translate(this.x-this.tempX+b,this.y-this.tempY+c)}},Window.prototype.desktopMouseClick=function(a){var b=new gRectangle(this.x,this.y,this.w,this.h),c=svgDocument.rootElement.getScreenCTM(),d=svgDocument.rootElement.currentScale,e=parseInt((a.screenX-c.e)/d),f=parseInt((a.screenY-c.f)/d);b.contains(e,f)||null!=this.windowSkin&&(this.windowSkin.inactive(),this.active=!1)},Window.prototype.show=function(){this.showWindow()},Window.prototype.showWindow=function(){this.showComponent(),this.putWindowOnTop()},Window.prototype.actionPerformed=function(a){this.actionPerformedWindow(a)},Window.prototype.actionPerformedWindow=function(a){var b=a.source,c=a.getActionCommand();if("buttonClicked"==c)switch(b){case this.closeBut:this.hide()}},Launcher.prototype=new Window,Launcher.prototype.initLauncher=function(a,b){var c=(innerWidth-this.defaultW)/2,d=(innerHeight-this.defaultH)/2;this.initWindow(c,d,this.defaultW,this.defaultH,a,null,!1),this.setToFixedSize(),this.setLayout(new FlowLayout(CENTER,5,5));var e=new Button(0,0,64,30,"load","");e.setResizeToText(!1),this.setCallback(b),e.addActionListener(this),this.add(e),this.paint(),e.contentg.setFont(new Font("Helvetica","normal","10pt")),e.contentg.drawText(9,20,"Load,.."),this.recalc()},Launcher.prototype.setCallback=function(a){this.callback=a},Launcher.prototype.actionPerformed=function(a){this.actionPerformedLauncher(a)},Launcher.prototype.actionPerformedLauncher=function(a){this.actionPerformedWindow(a);var b=a.source,c=a.getActionCommand();if("buttonClicked"==c)switch(b.name){case"load":null!=this.callback&&this.callback()}this.dispose()};var hdSelectionRectStyle="stroke-linecap:round;fill:none;opacity:0.8;stroke:black;stroke-width:1",hdImageURL="../img/joe.surf.yellow.small.gif";Figure.prototype.initFigure=function(){},Figure.prototype.moveBy=function(a,b){},Figure.prototype.basicDisplayBox=function(a,b){},Figure.prototype.displayBox=function(a,b){},Figure.prototype.displayBox=function(a,b){},Figure.prototype.draw=function(a){},Figure.prototype.handles=function(){},Figure.prototype.size=function(){},Figure.prototype.center=function(){},Figure.prototype.isEmpty=function(){},Figure.prototype.figures=function(){},Figure.prototype.findFigureInside=function(a,b){},Figure.prototype.containsPoint=function(a,b){},Figure.prototype.clone=function(a,b){},Figure.prototype.displayBox=function(a){},Figure.prototype.includes=function(a){},Figure.prototype.decompose=function(){},Figure.prototype.addToContainer=function(a){},Figure.prototype.removeFromContainer=function(a){},Figure.prototype.listener=function(){},Figure.prototype.addFigureChangeListener=function(a){},Figure.prototype.removeFigureChangeListener=function(a){},Figure.prototype.release=function(){},Figure.prototype.invalidate=function(){},Figure.prototype.willChange=function(){},Figure.prototype.changed=function(){},Figure.prototype.canConnect=function(){},Figure.prototype.connectorAt=function(a,b){},Figure.prototype.connectorVisibility=function(a){},Figure.prototype.connectionInsets=function(){},Figure.prototype.connectedTextLocator=function(a){},Figure.prototype.getAttribute=function(a){},Figure.prototype.setAttribute=function(a,b){},Drawing.prototype.initDrawing=function(){},Drawing.prototype.release=function(){},Drawing.prototype.figures=function(){},Drawing.prototype.figuresReverse=function(){},Drawing.prototype.findFigure=function(a,b){},Drawing.prototype.findFigureWithout=function(a,b,c){},Drawing.prototype.findFigureInside=function(a,b){},Drawing.prototype.findFigureInsideWithout=function(a,b,c){},Drawing.prototype.addDrawingChangeListener=function(a){},Drawing.prototype.removeDrawingChangeListener=function(a){},Drawing.prototype.drawingChangeListeners=function(){},Drawing.prototype.add=function(a){},Drawing.prototype.addAll=function(a){},Drawing.prototype.remove=function(a){},Drawing.prototype.orphan=function(a){},Drawing.prototype.orphanAll=function(a){},Drawing.prototype.removeAll=function(a){},Drawing.prototype.replace=function(a,b){},Drawing.prototype.sendToBack=function(a){},Drawing.prototype.bringToFront=function(a){},Drawing.prototype.draw=function(a){},Drawing.prototype.figureInvalidated=function(a){},Drawing.prototype.figureRequestUpdate=function(a){},Drawing.prototype.figureRequestRemove=function(a){},Drawing.prototype.lock=function(){},Drawing.prototype.unlock=function(){},FigureEnumeration.prototype=new Enumeration,FigureEnumeration.prototype.initFigureEnumeration=function(){},FigureEnumeration.prototype.nextFigure=function(){},FigureChangeListener.prototype=new EventListener,FigureChangeListener.prototype.figureInvalidated=function(a){},FigureChangeListener.prototype.figureChanged=function(a){},FigureChangeListener.prototype.figureRemoved=function(a){},FigureChangeListener.prototype.figureRequestRemove=function(a){},FigureChangeListener.prototype.figureRequestUpdate=function(a){},DrawingChangeListener.prototype=new EventListener,DrawingChangeListener.prototype.drawingInvalidated=function(a){},DrawingChangeListener.prototype.drawingRequestUpdate=function(a){},FigureChangeEvent.prototype=new EventObject,FigureChangeEvent.prototype.initFigureChangeEvent=function(a,b){this.initEventObject(a),void 0==b?this.fRectangle=this.fgEmptyRectangle:this.fRectangle=b},FigureChangeEvent.prototype.getFigure=function(){return this.getSource()},FigureChangeEvent.prototype.getInvalidatedRectangle=function(){return this.fRectangle},DrawingChangeEvent.prototype=new EventObject,DrawingChangeEvent.prototype.initDrawingChangeEvent=function(a,b){this.initEventObject(a),void 0==b?this.fRectangle=this.fgEmptyRectangle:this.fRectangle=b},DrawingChangeEvent.prototype.getDrawing=function(){return this.getSource()},DrawingChangeEvent.prototype.getInvalidatedRectangle=function(){return this.fRectangle},Tool.prototype.activate=function(){},Tool.prototype.deactivate=function(){},Tool.prototype.mouseDown=function(a,b,c){},Tool.prototype.mouseDrag=function(a,b,c){},Tool.prototype.mouseUp=function(a,b,c){},Tool.prototype.mouseMove=function(a,b,c){},Tool.prototype.keyDown=function(a,b,c){},DrawingView.prototype=new DrawingChangeListener,DrawingView.prototype.setEditor=function(a){},DrawingView.prototype.tool=function(){},DrawingView.prototype.drawing=function(){},DrawingView.prototype.setDrawing=function(a){},DrawingView.prototype.editor=function(){},DrawingView.prototype.add=function(a){},DrawingView.prototype.remove=function(a){},DrawingView.prototype.addAll=function(a){},DrawingView.prototype.getSize=function(){},DrawingView.prototype.getMinimumSize=function(){},DrawingView.prototype.getPreferredSize=function(){},DrawingView.prototype.setDisplayUpdate=function(a){},DrawingView.prototype.selection=function(){},DrawingView.prototype.selectionElements=function(){},DrawingView.prototype.selectionZOrdered=function(){},DrawingView.prototype.selectionCount=function(){},DrawingView.prototype.addToSelection=function(a){},DrawingView.prototype.addToSelectionAll=function(a){},DrawingView.prototype.removeFromSelection=function(a){},DrawingView.prototype.toggleSelection=function(a){},DrawingView.prototype.clearSelection=function(){},DrawingView.prototype.getFigureSelection=function(){},DrawingView.prototype.findHandle=function(a,b){},DrawingView.prototype.lastClick=function(){},DrawingView.prototype.setConstrainer=function(a){},DrawingView.prototype.getConstrainer=function(){},DrawingView.prototype.checkDamage=function(){},DrawingView.prototype.repairDamage=function(){},DrawingView.prototype.paint=function(a){},DrawingView.prototype.createImage=function(a,b){},DrawingView.prototype.getGraphics=function(){},DrawingView.prototype.getBackground=function(){},DrawingView.prototype.setBackground=function(a){},DrawingView.prototype.drawAll=function(a){},DrawingView.prototype.drawHandles=function(a){},DrawingView.prototype.drawDrawing=function(a){},DrawingView.prototype.drawBackground=function(a){},DrawingView.prototype.setCursor=function(a){},DrawingView.prototype.freezeView=function(){},DrawingView.prototype.unfreezeView=function(){},DrawingEditor.prototype.view=function(){},DrawingEditor.prototype.drawing=function(){},DrawingEditor.prototype.tool=function(){},DrawingEditor.prototype.toolDone=function(){},DrawingEditor.prototype.selectionChanged=function(a){},DrawingEditor.prototype.showStatus=function(a){},Handle.prototype.locate=function(){},Handle.prototype.invokeStart=function(a,b,c){},Handle.prototype.invokeStep=function(a,b,c,d,e){},Handle.prototype.invokeEnd=function(a,b,c,d,e){},Handle.prototype.owner=function(){},Handle.prototype.displayBox=function(){},Handle.prototype.containsPoint=function(a,b){},Handle.prototype.draw=function(a){},Locator.prototype.locate=function(a){},ReverseVectorEnumerator.prototype=new Enumeration,ReverseVectorEnumerator.prototype.initReverseVectorEnumerator=function(a){this.vector=a,this.count=this.vector.size()-1},ReverseVectorEnumerator.prototype.hasMoreElements=function(){return this.count>=0},ReverseVectorEnumerator.prototype.nextElement=function(){return this.count>=0?this.vector.elementAt(this.count--):void 0};var NORMAL=1,PRESSED=2,SELECTED=3;PaletteButton.prototype=new Canvas,PaletteButton.prototype.initPaletteButton=function(a){this.initCanvas(0,0,24,24),this.fListener=a,this.fState=NORMAL,this.fOldState=NORMAL,this.addMouseMotionListener(this),this.addMouseListener(this)},PaletteButton.prototype.createSVGContent=function(){this.createSVGContentPaletteButton(g)},PaletteButton.prototype.createSVGContentPaletteButton=function(){this.createSVGContentCanvas()},PaletteButton.prototype.mouseDragged=function(a){this.fState=PRESSED,this.refresh()},PaletteButton.prototype.mouseMoved=function(a){this.fListener.paletteUserOver(this,!0)},PaletteButton.prototype.mouseClicked=function(a){},PaletteButton.prototype.mousePressed=function(a){this.fOldState=this.fState,this.fState=PRESSED,this.refresh()},PaletteButton.prototype.mouseReleased=function(a){this.fState=this.fOldState,this.fListener.paletteUserSelected(this),this.refresh()},PaletteButton.prototype.mouseEndDragged=function(a){this.fState=PRESSED,this.mouseReleased()},PaletteButton.prototype.mouseEntered=function(a){},PaletteButton.prototype.mouseExited=function(a){this.fState==PRESSED&&this.mouseDragged(a),this.fListener.paletteUserOver(this,!1)},PaletteButton.prototype.paintBackground=function(a){},PaletteButton.prototype.paintNormal=function(a){},PaletteButton.prototype.paintPressed=function(a){},PaletteButton.prototype.paintSelected=function(a){},PaletteButton.prototype.value=function(){return null},PaletteButton.prototype.name=function(){return""},PaletteButton.prototype.reset=function(){this.fState=NORMAL,this.refresh()},PaletteButton.prototype.select=function(){this.fState=SELECTED,this.refresh()},PaletteButton.prototype.update=function(a){this.refresh(a)},PaletteButton.prototype.refresh=function(a){switch(this.paintBackground(a),this.fState){case PRESSED:this.paintPressed(a);break;case SELECTED:this.paintSelected(a);break;case NORMAL:default:this.paintNormal(a)}},Command.prototype.initCommand=function(a){this.fName=a},Command.prototype.execute=function(){},Command.prototype.isExecutable=function(){return!0},Command.prototype.name=function(){return this.fName},Command.prototype.toString=function(){return this.className+" [ name="+this.fName+" ]"},FloatingTextField.prototype.initFloatingTextField=function(){this.fEditWidget=new TextBox(0,0,400,100,"Text",!1),this.fEditWidget.setAbsolutePosition(!0)},FloatingTextField.prototype.createOverlay=function(a,b){return void 0==b?void this.createOverlay(a,null):(this.fEditWidget.show(),a.add(this.fEditWidget),null!=b&&this.fEditWidget.setFont(b),this.fContainer=a,this.fContainer.paintChildren(this.fContainer.textBoxg),this.fEditWidget.setStyledModeOn(),void this.fEditWidget.changeSelectionRectStyle("red","none",0))},FloatingTextField.prototype.setBounds=function(a,b){this.fEditWidget.setBounds(a.x,a.y,a.width,a.height),this.fEditWidget.show(),this.fEditWidget.setText(b),this.fEditWidget.selectAll()},FloatingTextField.prototype.getBounds=function(){return this.fEditWidget.getBounds()},FloatingTextField.prototype.isShown=function(){return this.fEditWidget.isShown()},FloatingTextField.prototype.endOverlay=function(){null!=this.fEditWidget&&(this.fEditWidget.hide(),this.fContainer.remove(this.fEditWidget))},FloatingTextField.prototype.addActionListener=function(a){this.fEditWidget.addActionListener(a)},FloatingTextField.prototype.removeActionListener=function(a){this.fEditWidget.removeActionListener(a)},FloatingTextField.prototype.getText=function(){return this.fEditWidget.getText()},FloatingTextField.prototype.getPreferredSize=function(a){return this.fEditWidget.getPreferredSize(a)},Geom.prototype.initGeom=function(){},Geom.prototype.lineContainsPoint=function(a,b,c,d,e,f){var g=new gRectangle(new Point(a,b));if(g.add(c,d),g.grow(2,2),!g.contains(e,f))return!1;var h,i,j,k;return a==c?Math.abs(e-a)<3:b==d?Math.abs(f-b)<3:(h=(b-d)/(a-c),i=b-h*a,j=(f-i)/h,k=h*e+i,Math.min(Math.abs(j-e),Math.abs(k-f))<4)},Geom.prototype.direction=function(a,b,c,d){var e=0,f=c-a,g=d-b;return e=f>g&&f>-g?EAST:g>f&&g>-f?NORTH:g>f&&-g>f?WEST:SOUTH},Geom.prototype.south=function(a){return new Point(a.x+a.width/2,a.y+a.height)},Geom.prototype.center=function(a){return new Point(a.x+a.width/2,a.y+a.height/2)},Geom.prototype.west=function(a){return new Point(a.x,a.y+a.height/2)},Geom.prototype.east=function(a){return new Point(a.x+a.width,a.y+a.height/2)},Geom.prototype.north=function(a){return new Point(a.x+a.width/2,a.y)},Geom.prototype.range=function(a,b,c){return a>c&&(c=a),c>b&&(c=b),c},Geom.prototype.length2=function(a,b,c,d){return(c-a)*(c-a)+(d-b)*(d-b)},Geom.prototype.length=function(a,b,c,d){return Math.sqrt(this.length2(a,b,c,d))},Geom.prototype.pointToAngle=function(a,b){var c=b.x-(a.x+a.width/2),d=b.y-(a.y+a.height/2);return Math.atan2(d*a.width,c*a.height)},Geom.prototype.angleToPoint=function(a,b){},Geom.prototype.polarToPoint=function(a,b,c){var d=Math.sin(a),e=Math.cos(a);return new Point(parseInt(b*e+.5),parseInt(c*d+.5))},Geom.prototype.ovalAngleToPoint=function(a,b){var c=this.center(a),d=this.polarToPoint(b,a.width/2,a.height/2);return new Point(c.x+d.x,c.y+d.y)},Geom.prototype.intersect=function(a,b,c,d,e,f,g,h){var i=(c-a)*(h-f)-(d-b)*(g-e),j=(b-f)*(g-e)-(a-e)*(h-f);if(0==i)return 0==j?c>a&&(e>c||g>c)||a>c&&(c>e||c>g)?new Point(c,d):new Point(a,b):null;var k=j/i,l=(b-f)*(c-a)-(a-e)*(d-b),m=l/i;if(k>=0&&1>=k&&m>=0&&1>=m){var n=parseInt(a+(c-a)*k),o=parseInt(b+(d-b)*k);return new Point(n,o)}return null};var geom=new Geom;FigureTransferCommand.prototype=new Command,FigureTransferCommand.prototype.initFigureTransferCommand=function(a,b){this.initCommand(a),this.fView=b},FigureTransferCommand.prototype.deleteSelection=function(){this.fView.removeAll(this.fView.selection()),this.fView.clearSelection(),this.fView.drawAll()},FigureTransferCommand.prototype.copySelection=function(){this.fView.getFigureSelection()},FigureTransferCommand.prototype.insertFigures=function(a,b,c){for(var d=new FigureEnumerator(a);d.hasMoreElements();){var e=d.nextFigure();e.moveBy(b,c),e=this.fView.add(e),this.fView.addToSelection(e)}},DeleteCommand.prototype=new FigureTransferCommand,DeleteCommand.prototype.initDeleteCommand=function(a,b){this.initFigureTransferCommand(a,b)},DeleteCommand.prototype.execute=function(){this.deleteSelection()},DeleteCommand.prototype.isExecutable=function(){return this.fView.selectionCount()>0},DuplicateCommand.prototype=new FigureTransferCommand,DuplicateCommand.prototype.initDuplicateCommand=function(a,b){this.initFigureTransferCommand(a,b)},DuplicateCommand.prototype.execute=function(){alert("Not Implemented")},DuplicateCommand.prototype.isExecutable=function(){return this.fView.selectionCount()>0},GroupCommand.prototype=new FigureTransferCommand,GroupCommand.prototype.initGroupCommand=function(a,b){this.initFigureTransferCommand(a,b)},GroupCommand.prototype.execute=function(){var a=this.fView.selectionZOrdered(),b=this.fView.drawing();if(a.size()>0){this.fView.clearSelection(),b.orphanAll(a);var c=new GroupFigure;c.addAll(a),this.fView.addToSelection(b.add(c))}},GroupCommand.prototype.isExecutable=function(){return this.fView.selectionCount()>0},UngroupCommand.prototype=new FigureTransferCommand,UngroupCommand.prototype.initUngroupCommand=function(a,b){this.initFigureTransferCommand(a,b)},UngroupCommand.prototype.execute=function(){var a=this.fView.selectionElements();for(this.fView.clearSelection();a.hasMoreElements();)for(var b=a.nextFigure(),c=this.fView.drawing().orphan(b),d=c.decompose();d.hasMoreElements();){var e=d.nextFigure();this.fView.addToSelection(this.fView.add(e))}},UngroupCommand.prototype.isExecutable=function(){return this.fView.selectionCount()>0},FigureEnumerator.prototype=new FigureEnumeration,FigureEnumerator.prototype.initFigureEnumerator=function(a){this.fEnumeration=a.elements()},FigureEnumerator.prototype.hasMoreElements=function(){return this.fEnumeration.hasMoreElements()},FigureEnumerator.prototype.nextElement=function(){return this.fEnumeration.nextElement()},FigureEnumerator.prototype.nextFigure=function(){return this.fEnumeration.nextElement()},ReverseFigureEnumerator.prototype=new FigureEnumeration,ReverseFigureEnumerator.prototype.initReverseFigureEnumerator=function(a){this.fEnumeration=new ReverseVectorEnumerator(a)},ReverseFigureEnumerator.prototype.hasMoreElements=function(){return this.fEnumeration.hasMoreElements()},ReverseFigureEnumerator.prototype.nextElement=function(){return this.fEnumeration.nextElement()},ReverseFigureEnumerator.prototype.nextFigure=function(){return this.fEnumeration.nextElement()},FigureChangeEventMulticaster.prototype.initFigureChangeEventMulticaster=function(a,b){this.a=a,this.b=b},FigureChangeEventMulticaster.prototype.figureInvalidated=function(a){this.a.figureInvalidated(a),this.b.figureInvalidated(a)},FigureChangeEventMulticaster.prototype.figureRequestRemove=function(a){this.a.figureRequestRemove(a),this.b.figureRequestRemove(a)},FigureChangeEventMulticaster.prototype.figureRequestUpdate=function(a){this.a.figureRequestUpdate(a),this.b.figureRequestUpdate(a)},FigureChangeEventMulticaster.prototype.figureChanged=function(a){this.a.figureChanged(a),this.b.figureChanged(a)},FigureChangeEventMulticaster.prototype.figureRemoved=function(a){this.a.figureRemoved(a),this.b.figureRemoved(a)},FigureChangeEventMulticaster.prototype.add=function(a,b){return this.addInternal(a,b)},FigureChangeEventMulticaster.prototype.addInternal=function(a,b){return null==a?b:null==b?a:new FigureChangeEventMulticaster(a,b)},FigureChangeEventMulticaster.prototype.remove=function(c,d){if(c instanceof EventListener&&!d){if(d=c,d==this.a)return this.b;if(d==this.b)return this.a;var e=this.removeInternal(a,d),f=this.removeInternal(b,d);return e==this.a&&f==this.b?this:this.addInternal(e,f)}return this.removeInternal(c,d)},FigureChangeEventMulticaster.prototype.removeInternal=function(a,b){return a==b||null==a?null:a instanceof FigureChangeEventMulticaster?a.remove(b):a};var figureChangeEventMulticaster=new FigureChangeEventMulticaster;AbstractFigure.prototype.initAbstractFigure=function(){this.obtainFigureId()},AbstractFigure.prototype.getId=function(){return this.id},AbstractFigure.prototype.setId=function(a){this.id=a},AbstractFigure.prototype.obtainFigureId=function(){var a=this.className;return null==this.id&&(void 0==this.counter[a]?this.counter[a]=0:this.counter[a]++,this.myCount=this.counter[a],this.id=this.className+"_"+this.myCount),this.id},AbstractFigure.prototype.moveBy=function(a,b){this.basicMoveBy(a,b),this.changed()},AbstractFigure.prototype.getShape=function(){return this.shape},AbstractFigure.prototype.isCreated=function(){return this.created&&null!=this.shape},AbstractFigure.prototype.createSVGContent=function(a){},AbstractFigure.prototype.draw=function(a){this.drawAbstractFigure(a)},AbstractFigure.prototype.drawAbstractFigure=function(a){this.created||(this.created=!0,this.createSVGContent(a)),void 0!=a&&a.addChild(this.shape.getNode())},AbstractFigure.prototype.basicMoveBy=function(a,b){},AbstractFigure.prototype.displayBox=function(a,b){if(void 0==a&&void 0==b)return this.ret_displayBox();if(a instanceof gRectangle){var c=a;return void this.displayBox(new Point(c.x,c.y),new Point(c.x+c.width,c.y+c.height))}this.willChange(),this.basicDisplayBox(a,b),this.changed()},AbstractFigure.prototype.basicDisplayBox=function(a,b){},AbstractFigure.prototype.ret_displayBox=function(){},AbstractFigure.prototype.handles=function(){},AbstractFigure.prototype.figures=function(){var a=new Vector;return a.addElement(this),new FigureEnumerator(a)},AbstractFigure.prototype.size=function(){return new Dimension(this.displayBox().width,this.displayBox().height)},AbstractFigure.prototype.isEmpty=function(){return this.size().width<3||this.size().height<3},AbstractFigure.prototype.findFigureInside=function(a,b){return this.containsPoint(a,b)?this:null},AbstractFigure.prototype.containsPoint=function(a,b){return this.displayBox().contains(a,b);
},AbstractFigure.prototype.includes=function(a){return a==this},AbstractFigure.prototype.decompose=function(){return figures=new Vector,figures.addElement(this),new FigureEnumerator(figures)},AbstractFigure.prototype.addToContainer=function(a){this.addFigureChangeListener(a),this.invalidate()},AbstractFigure.prototype.removeFromContainer=function(a){this.removeFigureChangeListener(a),this.changed()},AbstractFigure.prototype.addFigureChangeListener=function(a){this.fListener=figureChangeEventMulticaster.add(this.fListener,a)},AbstractFigure.prototype.removeFigureChangeListener=function(a){this.fListener=figureChangeEventMulticaster.remove(this.fListener,a)},AbstractFigure.prototype.listener=function(){return this.fListener},AbstractFigure.prototype.release=function(){this.abstractFigureRelease()},AbstractFigure.prototype.abstractFigureRelease=function(){null!=this.fListener&&this.fListener.figureRemoved(new FigureChangeEvent(this)),this.dispose()},AbstractFigure.prototype.dispose=function(){this.disposeAbstractFigure()},AbstractFigure.prototype.disposeAbstractFigure=function(){null!=this.shape&&this.shape.dispose(),this.shape=null},AbstractFigure.prototype.invalidate=function(){},AbstractFigure.prototype.willChange=function(){},AbstractFigure.prototype.changed=function(){this.changedAbstractFigure()},AbstractFigure.prototype.changedAbstractFigure=function(){null!=this.fListener&&this.fListener.figureChanged(new FigureChangeEvent(this))},AbstractFigure.prototype.center=function(){},AbstractFigure.prototype.canConnect=function(){return!0},AbstractFigure.prototype.connectionInsets=function(){return new Insets(0,0,0,0)},AbstractFigure.prototype.connectorAt=function(a,b){},AbstractFigure.prototype.connectorVisibility=function(a){},AbstractFigure.prototype.connectedTextLocator=function(a){},AbstractFigure.prototype.getAttribute=function(a){return null},AbstractFigure.prototype.setAttribute=function(a,b){},AbstractFigure.prototype.clone=function(){return new cloneObject(this)},AbstractFigure.prototype.write=function(a){},AbstractFigure.prototype.read=function(){},AbstractFigure.prototype.serialize=function(){return this.serializeAbstractFigure()},AbstractFigure.prototype.serializeAbstractFigure=function(){var a=this.displayBox(),b=new Hashtable,c=this.id;return b.put("class",this.className),b.put("id",c),b.put("x",a.getX()),b.put("y",a.getY()),b.put("w",a.getWidth()),b.put("h",a.getHeight()),b.serialize()},AbstractFigure.prototype.deserialize=function(a){return this.deserializeAbstractFigure(a)},AbstractFigure.prototype.deserializeAbstractFigure=function(a){var b=new Hashtable;b.deserialize(a);var c=b.get("id");this.setId(c);var d=parseFloat(b.get("x")),e=parseFloat(b.get("y")),f=parseFloat(b.get("w")),g=parseFloat(b.get("h"));return this.displayBox(new Point(d,e),new Point(d+f,e+g)),b},AbstractFigure.prototype.serializeAsRDF=function(a,b){return this.serializeAsRDFAbstractFigure(a,b)},AbstractFigure.prototype.serializeAsRDFAbstractFigure=function(a,b){var c="",d=this.displayBox(),e=this.shape.getNode().nodeName,f="<"+a+e+"_"+this.myCount+">",g="<"+a+e+"_"+this.myCount+"/historyNode_"+this.historyNodeCounter+"> ",h=this.getAuthor(),i=this.id,j=this.date.toISO8601String(6);return 0==this.historyNodeCounter?(c=f+" rdf:type svg:"+e+" . ",c+=f+" svgcwe:owned-by <"+a+"> . ",c+=g+' dc:Creator "'+h+'". '):c+=g+' dc:Contributor "'+h+'". ',c+=g+' dc:Date "'+j+'". ',c+=g+" rdf:type svgcwe:HistoryNode . ",c+=g+" svgcwe:owned-by "+f+" . ",c+=g+' svgcwe:command "'+b+'" . ',c+=g+' svg:id "'+i+'" . ',c+=g+" svg:x "+d.getX()+" . ",c+=g+" svg:y "+d.getY()+" . ",c+=g+" svg:width "+d.getWidth()+". ",c+=g+" svg:height "+d.getHeight()+" . ",this.historyNodeCounter++,c},AbstractFigure.prototype.toString=function(){return this.className};var common_composite_figure_id="composite_figure_id_",cocomposite_figure_counter=0;CompositeFigure.prototype=new AbstractFigure,CompositeFigure.prototype.initCompositeFigure=function(){this.fFigures=new Vector(100),this.g=new Graphics(0,0,0,0,getCompositeFigureId())},CompositeFigure.prototype.add=function(a){return this.fFigures.contains(a)||(this.fFigures.addElement(a),a.addToContainer(this)),a},CompositeFigure.prototype.addAll=function(a){for(var b=a.elements();b.hasMoreElements();)this.add(b.nextElement())},CompositeFigure.prototype.remove=function(a){this.removeCompositeFigure(a)},CompositeFigure.prototype.removeCompositeFigure=function(a){return this.fFigures.contains(a)&&(a.removeFromContainer(this),a.dispose(),this.fFigures.removeElement(a)),a},CompositeFigure.prototype.removeAll=function(a){this.removeAllCompositeFigure(a)},CompositeFigure.prototype.removeAllCompositeFigure=function(a){if(void 0==a){for(var b=this.figures();b.hasMoreElements();)this.remove(b.nextFigure());return void this.fFigures.removeAllElements()}for(var b=a.elements();b.hasMoreElements();)this.remove(b.nextElement())},CompositeFigure.prototype.orphan=function(a){return this.fFigures.removeElement(a),a},CompositeFigure.prototype.orphanAll=function(a){for(var b=a.elements();b.hasMoreElements();)this.orphan(b.nextElement())},CompositeFigure.prototype.replace=function(a,b){var c=this.fFigures.indexOf(a);-1!=c&&(b.addToContainer(this),a.changed(),this.fFigures.setElementAt(b,c))},CompositeFigure.prototype.sendToBack=function(a){1!=this.fFigures.size()&&this.fFigures.contains(a)&&(this.fFigures.removeElement(a),this.fFigures.insertElementAt(a,0),a.changed())},CompositeFigure.prototype.bringToFront=function(a){this.fFigures.contains(a)&&(this.fFigures.removeElement(a),this.fFigures.addElement(a),a.changed())},CompositeFigure.prototype.draw=function(a){null!=this.g&&this.g.clear();for(var b=this.figures();b.hasMoreElements();){var c=b.nextFigure();c.draw(this.g)}void 0!=a&&a.addGraphics(this.g)},CompositeFigure.prototype.figureAt=function(a){return this.fFigures.elementAt(a)},CompositeFigure.prototype.figures=function(){return new FigureEnumerator(this.fFigures)},CompositeFigure.prototype.figureCount=function(){return this.fFigures.size()},CompositeFigure.prototype.figuresReverse=function(){return new ReverseFigureEnumerator(this.fFigures)},CompositeFigure.prototype.findFigure=function(a,b){var c=this.figuresReverse();if(a instanceof gRectangle){for(var d=a;c.hasMoreElements();){var e=c.nextFigure(),f=e.displayBox();if(d.intersects(f))return e}return null}for(;c.hasMoreElements();){var e=c.nextFigure();if(e.containsPoint(a,b))return e}return null},CompositeFigure.prototype.findFigureWithout=function(a,b,c){var d=this.figuresReverse();if(a instanceof gRectangle){var e=a;if(c=b,null==c)return this.findFigure(e);for(;d.hasMoreElements();){var f=d.nextFigure(),g=f.displayBox();if(e.intersects(g)&&!f.includes(c))return f}return null}if(null==c)return this.findFigure(a,b);for(;d.hasMoreElements();){var f=d.nextFigure();if(f.containsPoint(a,b)&&!f.includes(c))return f}return null},CompositeFigure.prototype.findFigureInside=function(a,b){for(var c=this.figuresReverse();c.hasMoreElements();){var d=c.nextFigure().findFigureInside(a,b);if(null!=d)return d}return null},CompositeFigure.prototype.findFigureInsideWithout=function(a,b,c){for(var d=this.figuresReverse();d.hasMoreElements();){var e=d.nextFigure();if(e!=c){var f=e.findFigureInside(a,b);if(null!=f)return f}}return null},CompositeFigure.prototype.includes=function(a){for(var b=this.figures();b.hasMoreElements();){var c=b.nextFigure();if(c.includes(a))return!0}return!1},CompositeFigure.prototype.basicMoveBy=function(a,b){for(var c=this.figures();c.hasMoreElements();)c.nextFigure().moveBy(a,b)},CompositeFigure.prototype.release=function(){this.abstractFigureRelease();for(var a=this.figures();a.hasMoreElements();){var b=a.nextFigure();b.release()}},CompositeFigure.prototype.figureInvalidated=function(a){null!=this.listener()&&this.listener().figureInvalidated(a)},CompositeFigure.prototype.figureRequestRemove=function(a){null!=this.listener()&&this.listener().figureRequestRemove(new FigureChangeEvent(this))},CompositeFigure.prototype.figureRequestUpdate=function(a){null!=this.listener()&&this.listener().figureRequestUpdate(a)},CompositeFigure.prototype.figureChanged=function(a){},CompositeFigure.prototype.figureRemoved=function(a){},CompositeFigure.prototype.write=function(a){},CompositeFigure.prototype.read=function(a){},StandardDrawing.prototype=new CompositeFigure,StandardDrawing.prototype.initStandardDrawing=function(){this.initCompositeFigure(),this.fListeners=new Vector(2)},StandardDrawing.prototype.addDrawingChangeListener=function(a){this.fListeners.addElement(a)},StandardDrawing.prototype.removeDrawingChangeListener=function(a){this.fListeners.removeElement(a)},StandardDrawing.prototype.drawingChangeListeners=function(){return this.fListeners.elements()},StandardDrawing.prototype.remove=function(a){return null!=a.listener()?(a.listener().figureRequestRemove(new FigureChangeEvent(a,null)),a):null},StandardDrawing.prototype.figureRequestRemove=function(a){var b=a.getFigure();this.fFigures.contains(b)&&(this.fFigures.removeElement(b),b.removeFromContainer(this),b.release())},StandardDrawing.prototype.figureInvalidated=function(a){if(null!=this.fListeners)for(var b=0;b<this.fListeners.size();b++){var c=this.fListeners.elementAt(b);c.drawingInvalidated(new DrawingChangeEvent(this,a.getInvalidatedRectangle()))}},StandardDrawing.prototype.figureRequestUpdate=function(a){if(null!=this.fListeners)for(var b=0;b<this.fListeners.size();b++){var c=this.fListeners.elementAt(b);c.drawingRequestUpdate(new DrawingChangeEvent(this,null))}},StandardDrawing.prototype.handles=function(){},StandardDrawing.prototype.displayBox=function(){if(this.fFigures.size()>0){for(var a=this.figures(),b=a.nextFigure().displayBox();a.hasMoreElements();)b.add(a.nextFigure().displayBox());return b}return new gRectangle(0,0,0,0)},StandardDrawing.prototype.basicDisplayBox=function(a,b){},StandardDrawing.prototype.lock=function(){},StandardDrawing.prototype.unlock=function(){},StandardDrawing.prototype.readObject=function(a){},AbstractTool.prototype.initAbstractTool=function(a){this.fView=a},AbstractTool.prototype.activate=function(){this.activateAbstractTool()},AbstractTool.prototype.activateAbstractTool=function(){this.fView.clearSelection()},AbstractTool.prototype.deactivate=function(){this.deactivateAbstractTool()},AbstractTool.prototype.deactivateAbstractTool=function(){this.view().setCursor("default")},AbstractTool.prototype.mouseDown=function(a,b,c){this.fAnchorX=b,this.fAnchorY=c},AbstractTool.prototype.mouseDrag=function(a,b,c){},AbstractTool.prototype.mouseUp=function(a,b,c){},AbstractTool.prototype.mouseMove=function(a,b,c){},AbstractTool.prototype.keyDown=function(a,b,c){},AbstractTool.prototype.drawing=function(){return this.fView.drawing()},AbstractTool.prototype.editor=function(){return this.fView.editor()},AbstractTool.prototype.view=function(){return this.fView},AbstractTool.prototype.toString=function(){return this.className},AbstractTool.prototype.fireViewEvent=function(a,b){void 0!=this.fView.changed&&this.fView.changed(a,b)},SelectionTool.prototype=new AbstractTool,SelectionTool.prototype.initSelectionTool=function(a){this.initAbstractTool(a)},SelectionTool.prototype.mouseDown=function(a,b,c){if(null==this.fChild){var d=this.view().findHandle(a.getX(),a.getY());if(null!=d)this.fChild=this.createHandleTracker(this.view(),d);else{var e=this.drawing().findFigure(a.getX(),a.getY());null!=e?this.fChild=this.createDragTracker(this.view(),e):(a.isShiftDown()||this.view().clearSelection(),this.fChild=this.createAreaTracker(this.view()))}this.fChild.mouseDown(a,b,c)}},SelectionTool.prototype.mouseMove=function(a,b,c){var d=this.view().findHandle(b,c);null!=d?this.view().setCursor(d.getCursorName()):this.view().setCursor("default")},SelectionTool.prototype.mouseDrag=function(a,b,c){null!=this.fChild&&this.fChild.mouseDrag(a,b,c)},SelectionTool.prototype.mouseUp=function(a,b,c){null!=this.fChild&&this.fChild.mouseUp(a,b,c),this.fChild=null},SelectionTool.prototype.createHandleTracker=function(a,b){return new HandleTracker(a,b)},SelectionTool.prototype.createDragTracker=function(a,b){return new DragTracker(a,b)},SelectionTool.prototype.createAreaTracker=function(a){return new SelectAreaTracker(a)},StandardDrawingView.prototype=new Panel,StandardDrawingView.prototype.initStandardDrawingView=function(a,b,c){this.initPanel(0,0,b,c),this.fEditor=a,this.fViewSize=new Dimension(b,c),this.fLastClick=new Point(0,0),this.fConstrainer=null,this.fSelection=new Vector,this.addMouseListener(this),this.addMouseMotionListener(this),this.addKeyListener(this),ds_addEventListener(this,"click","desktopMouseClick"),ds_addEventListener(this,"mousedown","desktopMouseClick")},StandardDrawingView.prototype.desktopMouseClick=function(a){this.lostFocus()},StandardDrawingView.prototype.paint=function(a){this.paintStandardDrawingView(a)},StandardDrawingView.prototype.paintStandardDrawingView=function(a){this.paintPanel(a),this.lostFocus()},StandardDrawingView.prototype.createSVGContent=function(){this.createSVGContentStandardDrawingView()},StandardDrawingView.prototype.createSVGContentStandardDrawingView=function(){this.createSVGContentPanel(),this.viewcontentg=this.getGraphics(),this.selectiong=this.getGraphics(),this.textBoxg=this.getGraphics(),this.glassPaneOn(),this.enableMouseListener(),this.enableMouseMotionListener(),this.enableKeyListener()},StandardDrawingView.prototype.recalc=function(){this.recalcStandardDrawingView()},StandardDrawingView.prototype.recalcStandardDrawingView=function(){this.recalcPanel()},StandardDrawingView.prototype.setEditor=function(a){this.fEditor=a},StandardDrawingView.prototype.setDrawing=function(a){this.clearSelection(),null!=this.fDrawing&&this.fDrawing.removeDrawingChangeListener(this),this.fDrawing=a,null!=this.fDrawing&&this.fDrawing.addDrawingChangeListener(this),this.checkMinimumSize(),this.repaint()},StandardDrawingView.prototype.tool=function(){return this.fEditor.tool()},StandardDrawingView.prototype.drawing=function(){return this.fDrawing},StandardDrawingView.prototype.editor=function(){return this.fEditor},StandardDrawingView.prototype.standardDrawingViewAdd=function(a){return this.drawing().add(a)},StandardDrawingView.prototype.add=function(a){return a instanceof Component?this.addContainer(a):this.standardDrawingViewAdd(a)},StandardDrawingView.prototype.remove=function(a){return a instanceof Component?this.removeContainer(a):this.standardDrawingViewRemove(a)},StandardDrawingView.prototype.standardDrawingViewRemove=function(a){return this.drawing().remove(a)},StandardDrawingView.prototype.addAll=function(a){for(var b=new FigureEnumerator(a);b.hasMoreElements();)this.add(b.nextFigure())},StandardDrawingView.prototype.removeAll=function(a){if(void 0==a){for(var b=this.drawing().figures();b.hasMoreElements();){var c=b.nextFigure();this.remove(c)}return void this.clearSelection()}for(var b=a.elements();b.hasMoreElements();){var c=b.nextElement();this.remove(c)}this.clearSelection()},StandardDrawingView.prototype.getMinimumSize=function(){return this.fViewSize},StandardDrawingView.prototype.getPreferredSize=function(){return this.getMinimumSize()},StandardDrawingView.prototype.setDisplayUpdate=function(a){this.fUpdateStrategy=a},StandardDrawingView.prototype.selection=function(){return this.fSelection},StandardDrawingView.prototype.selectionElements=function(){return new FigureEnumerator(this.fSelection)},StandardDrawingView.prototype.selectionZOrdered=function(){for(var a=new Vector(this.fSelection.size()),b=this.drawing().figures();b.hasMoreElements();){var c=b.nextFigure();this.fSelection.contains(c)&&a.addElement(c)}return a},StandardDrawingView.prototype.selectionCount=function(){return this.fSelection.size()},StandardDrawingView.prototype.addToSelection=function(a){this.fSelection.contains(a)||(this.fSelection.addElement(a),this.fSelectionHandles=null,a.invalidate(),this.selectionChanged())},StandardDrawingView.prototype.addToSelectionAll=function(a){for(var b=new FigureEnumerator(figures);b.hasMoreElements();)this.addToSelection(b.nextFigure())},StandardDrawingView.prototype.removeFromSelection=function(a){this.fSelection.contains(a)&&(this.fSelection.removeElement(a),this.fSelectionHandles=null,a.invalidate(),this.selectionChanged())},StandardDrawingView.prototype.toggleSelection=function(a){this.disposeSvgHandles(),this.fSelection.contains(a)?this.removeFromSelection(a):this.addToSelection(a),this.selectionChanged()},StandardDrawingView.prototype.clearSelection=function(){for(k=this.selectionElements();k.hasMoreElements();)k.nextFigure().invalidate();this.fSelection=new Vector,this.disposeSvgHandles(),this.selectionChanged()},StandardDrawingView.prototype.disposeSvgHandles=function(){for(var a=this.selectionHandles();a.hasMoreElements();)a.nextElement().dispose();this.fSelectionHandles.clear(),this.fSelectionHandles=null},StandardDrawingView.prototype.selectionHandles=function(){if(null==this.fSelectionHandles){this.fSelectionHandles=new Vector;for(var a=this.selectionElements();a.hasMoreElements();)for(var b=a.nextFigure(),c=b.handles().elements();c.hasMoreElements();)this.fSelectionHandles.addElement(c.nextElement())}return this.fSelectionHandles.elements()},StandardDrawingView.prototype.getFigureSelection=function(){return new FigureSelection(this.selectionZOrdered())},StandardDrawingView.prototype.findHandle=function(a,b){for(var c,d=this.selectionHandles();d.hasMoreElements();)if(c=d.nextElement(),c.containsPoint(a,b))return c;return null},StandardDrawingView.prototype.selectionChanged=function(){this.fEditor.selectionChanged(this)},StandardDrawingView.prototype.lastClick=function(){return this.fLastClick},StandardDrawingView.prototype.setConstrainer=function(a){this.fConstrainer=a},StandardDrawingView.prototype.getConstrainer=function(){return this.fConstrainer},StandardDrawingView.prototype.constrainPoint=function(a){this.getSize();return null!=this.fConstrainer?this.fConstrainer.constrainPoint(a):a},StandardDrawingView.prototype.mouseStartDragged=function(a){this.mouseStartDraggedStandardDrawingView(a)},StandardDrawingView.prototype.mouseStartDraggedStandardDrawingView=function(a){this.hideShowHandles(!1)},StandardDrawingView.prototype.mouseEndDragged=function(a){this.hideShowHandles(!0),this.mouseReleased(a,p.x,p.y)},StandardDrawingView.prototype.mouseDragged=function(a){this.mouseDraggedStandardDrawingView(a)},StandardDrawingView.prototype.mouseDraggedStandardDrawingView=function(a){this.tool().mouseDrag(a,a.x,a.y)},StandardDrawingView.prototype.mouseMoved=function(a){this.tool().mouseMove(a,a.x,a.y)},StandardDrawingView.prototype.mousePressed=function(a){this.mousePressedStandardDrawingView(a)},StandardDrawingView.prototype.mousePressedStandardDrawingView=function(a){this.gainFocus(),p=this.constrainPoint(new Point(a.getX(),a.getY())),this.fLastClick=new Point(a.getX(),a.getY()),this.tool().mouseDown(a,p.x,p.y),this.checkDamage(),this.drawAll()},StandardDrawingView.prototype.mouseReleased=function(a){var b=this.constrainPoint(new Point(a.getX(),a.getY()));this.tool().mouseUp(a,b.x,b.y),this.checkDamage(),this.drawAll()},StandardDrawingView.prototype.keyTyped=function(a){a.getKeyChar()},StandardDrawingView.prototype.keyReleased=function(a){},StandardDrawingView.prototype.keyPressed=function(a){var b=a.getKeyCode();if(b==VK_BACK_SPACE||b==VK_DELETE){var c=new DeleteCommand("Delete",this);c.execute()}else b==VK_DOWN||b==VK_UP||b==VK_RIGHT||b==VK_LEFT?this.handleCursorKey(b):b==VK_PAGE_UP?this.sendSelectionToFront():b==VK_PAGE_DOWN?this.sendSelectionToBack():this.tool().keyDown(a,b);this.checkDamage()},StandardDrawingView.prototype.handleCursorKey=function(a){var b=0,c=0,d=1,e=1;switch(null!=this.fConstrainer&&(d=this.fConstrainer.getStepX(),e=this.fConstrainer.getStepY()),a){case VK_DOWN:c=e;break;case VK_UP:c=-e;break;case VK_RIGHT:b=d;break;case VK_LEFT:b=-d}this.moveSelection(b,c)},StandardDrawingView.prototype.moveSelection=function(a,b){for(var c=this.selectionElements();c.hasMoreElements();){var d=c.nextFigure();d.moveBy(a,b)}this.drawAll(),this.checkDamage()},StandardDrawingView.prototype.sendSelectionToFront=function(){var a=this.drawing();for(k=this.selectionElements();k.hasMoreElements();){var b=k.nextFigure();a.bringToFront(b),void 0!=this.changed&&this.changed(b,"OrderFront")}this.drawAll()},StandardDrawingView.prototype.sendSelectionToBack=function(){var a=this.drawing();for(k=this.selectionElements();k.hasMoreElements();){var b=k.nextFigure();a.sendToBack(b),void 0!=this.changed&&this.changed(b,"OrderBack")}this.drawAll()},StandardDrawingView.prototype.checkDamage=function(){},StandardDrawingView.prototype.drawAll=function(a){void 0==a&&(a=this.viewcontentg);var b=!1;this.drawBackground(a),null==this.fBackgrounds||b||this.drawPainters(a,this.fBackgrounds),this.drawDrawing(a),null==this.fForegrounds||b||this.drawPainters(a,this.fForegrounds),b||this.drawHandles(a)},StandardDrawingView.prototype.drawHandles=function(a){void 0==a&&(a=this.viewcontentg);for(var b=this.selectionHandles();b.hasMoreElements();)b.nextElement().draw(a)},StandardDrawingView.prototype.hideShowHandles=function(a){for(var b=this.selectionHandles();b.hasMoreElements();)b.nextElement().getShape().setVisibility(a)},StandardDrawingView.prototype.drawDrawing=function(a){void 0==a&&(a=this.viewcontentg),this.fDrawing.draw(a)},StandardDrawingView.prototype.drawBackground=function(a){},StandardDrawingView.prototype.drawPainters=function(a,b){for(var c=0;c<b.size();c++)b.elementAt(c).draw(a,this)},StandardDrawingView.prototype.addBackground=function(a){null==this.fBackgrounds&&(this.fBackgrounds=new Vector(3)),this.fBackgrounds.addElement(a),this.repaint()},StandardDrawingView.prototype.removeBackground=function(a){null!=this.fBackgrounds&&this.fBackgrounds.removeElement(a),this.repaint()},StandardDrawingView.prototype.removeForeground=function(a){null!=this.fForegrounds&&this.fForegrounds.removeElement(a),this.repaint()},StandardDrawingView.prototype.addForeground=function(a){null==this.fForegrounds&&(this.fForegrounds=new Vector(3)),this.fForegrounds.addElement(a),this.repaint()},StandardDrawingView.prototype.checkMinimumSize=function(){for(var a=this.drawing().figures(),b=new Dimension(0,0);a.hasMoreElements();){var c=a.nextFigure().displayBox();b.width=Math.max(b.width,c.x+c.width),b.height=Math.max(b.height,c.y+c.height)}(this.fViewSize.height<b.height||this.fViewSize.width<b.width)&&(this.fViewSize.height=b.height+10,this.fViewSize.width=b.width+10,this.setSize(this.fViewSize))},StandardDrawingView.prototype.isFocusTraversable=function(){return!0},StandardDrawingView.prototype.mouseEntered=function(a){},StandardDrawingView.prototype.mouseExited=function(a){},StandardDrawingView.prototype.mouseClicked=function(a){this.gainFocus()},StandardDrawingView.prototype.toString=function(){return this.className},StandardDrawingView.prototype.freezeView=function(){this.drawing().lock()},StandardDrawingView.prototype.unfreezeView=function(){this.drawing().unlock()},StandardDrawingView.prototype.readObject=function(a){},StandardDrawingView.prototype.repairDamage=function(){},StandardDrawingView.prototype.drawingInvalidated=function(a){},StandardDrawingView.prototype.drawingRequestUpdate=function(a){this.repairDamage()},StandardDrawingView.prototype.update=function(a){this.paint(a)},StandardDrawingView.prototype.checkDamage=function(){},ToolButton.prototype=new PaletteButton,ToolButton.prototype.initToolButton=function(a,b,c,d){this.initPaletteButton(a),this.fTool=d,this.fName=c,this.fIconName=b,this.created=!1},ToolButton.prototype.createSVGContent=function(){this.createSVGContentToolButton()},ToolButton.prototype.createSVGContentToolButton=function(){this.createSVGContentPaletteButton();var a=24,b=24;this.contentg=this.getGraphics();var c=this.contentg.drawImage(0,0,a,b,this.fIconName+"1.gif"),d=this.contentg.drawImage(0,0,a,b,this.fIconName+"2.gif"),e=this.contentg.drawImage(0,0,a,b,this.fIconName+"3.gif");c.setVisibility(!0),d.setVisibility(!1),e.setVisibility(!1),this.fIcon=new PaletteIcon(new Dimension(a,b),c,d,e)},ToolButton.prototype.tool=function(){return this.fTool},ToolButton.prototype.name=function(){return this.fName},ToolButton.prototype.attributeValue=function(){return this.tool()},ToolButton.prototype.getMinimumSize=function(){return new Dimension(this.fIcon.getWidth(),this.fIcon.getHeight())},ToolButton.prototype.getPreferredSize=function(){return new Dimension(this.fIcon.getWidth(),this.fIcon.getHeight())},ToolButton.prototype.paintBackground=function(a){},ToolButton.prototype.paintNormal=function(a){this.fIcon.normal().setVisibility(!0),this.fIcon.pressed().setVisibility(!1),this.fIcon.selected().setVisibility(!1)},ToolButton.prototype.paintPressed=function(a){this.fIcon.normal().setVisibility(!1),this.fIcon.pressed().setVisibility(!0),this.fIcon.selected().setVisibility(!1)},ToolButton.prototype.paintSelected=function(a){this.fIcon.selected().setVisibility(!0),this.fIcon.normal().setVisibility(!1),this.fIcon.pressed().setVisibility(!1)},PaletteIcon.prototype.initPaletteIcon=function(a,b,c,d){this.fSize=a,this.fNormal=b,this.fPressed=c,this.fSelected=d},PaletteIcon.prototype.normal=function(){return this.fNormal},PaletteIcon.prototype.pressed=function(){return this.fPressed},PaletteIcon.prototype.selected=function(){return this.fSelected},PaletteIcon.prototype.getWidth=function(){return this.fSize.width},PaletteIcon.prototype.getHeight=function(){return this.fSize.height},SelectAreaTracker.prototype=new AbstractTool,SelectAreaTracker.prototype.initSelectAreaTracker=function(a){this.initAbstractTool(a)},SelectAreaTracker.prototype.mouseDown=function(a,b,c){this.fAnchorX=a.getX(),this.fAnchorY=a.getY(),this.rubberBand(this.fAnchorX,this.fAnchorY,this.fAnchorX,this.fAnchorY)},SelectAreaTracker.prototype.mouseDrag=function(a,b,c){this.rubberBand(this.fAnchorX,this.fAnchorY,b,c)},SelectAreaTracker.prototype.mouseUp=function(a,b,c){this.eraseRubberBand(),this.selectGroup(a.isShiftDown())},SelectAreaTracker.prototype.rubberBand=function(a,b,c,d){this.fSelectGroup=new gRectangle(new Point(a,b)),this.fSelectGroup.add(new Point(c,d)),this.drawXORRect(this.fSelectGroup)},SelectAreaTracker.prototype.eraseRubberBand=function(){this.shape.dispose(),this.shape=null},SelectAreaTracker.prototype.drawXORRect=function(a){if(null==this.shape){var b=this.view().selectiong;b.setColor("none"),b.setStrokeColor("black"),b.setStrokeWidth(1),this.shape=b.drawRect(a.x,a.y,a.width,a.height),this.shape.setAttribute("style",hdSelectionRectStyle)}else this.shape.setSize(a.width,a.height),this.shape.translate(a.x,a.y)},SelectAreaTracker.prototype.selectGroup=function(a){for(var b=this.drawing().figuresReverse();b.hasMoreElements();){var c=b.nextFigure(),d=c.displayBox();this.fSelectGroup.contains(d.x,d.y)&&this.fSelectGroup.contains(d.x+d.width,d.y+d.height)&&(a?this.view().toggleSelection(c):this.view().addToSelection(c))}},CreationTool.prototype=new AbstractTool,CreationTool.prototype.initCreationTool=function(a,b){this.initAbstractTool(a),void 0!=b&&(this.fPrototype=b)},CreationTool.prototype.activate=function(){this.activateCreationTool()},CreationTool.prototype.activateCreationTool=function(){this.activateAbstractTool(),this.view().setCursor("crosshair")},CreationTool.prototype.deactivate=function(){this.deactivateCreationTool()},CreationTool.prototype.deactivateCreationTool=function(){this.deactivateAbstractTool()},CreationTool.prototype.createFigure=function(a){return null==this.fPrototype?void alert("No protoype defined"):this.fPrototype.clone()},CreationTool.prototype.createdFigure=function(){return this.fCreatedFigure},CreationTool.prototype.mouseDown=function(a,b,c){this.creationToolMouseDown(a,b,c)},CreationTool.prototype.creationToolMouseDown=function(a,b,c){this.fAnchorPoint=new Point(b,c),this.fCreatedFigure=this.createFigure(),this.fCreatedFigure.displayBox(this.fAnchorPoint,new Point(b+1,c+1)),this.view().add(this.fCreatedFigure),this.view().drawDrawing()},CreationTool.prototype.mouseDrag=function(a,b,c){this.fCreatedFigure.displayBox(this.fAnchorPoint,new Point(b,c)),this.fCreatedFigure.getShape()&&this.fCreatedFigure.draw()},CreationTool.prototype.mouseUp=function(a,b,c){if(null!=this.fCreatedFigure){var d=!0;this.fCreatedFigure.isEmpty()&&(this.drawing().remove(this.fCreatedFigure),d=!1),this.view().drawDrawing(),this.editor().toolDone(),d&&this.fireViewEvent(this.fCreatedFigure,"Create"),this.fCreatedFigure=null}},ScribbleTool.prototype=new AbstractTool,ScribbleTool.prototype.initScribbleTool=function(a){this.initAbstractTool(a)},ScribbleTool.prototype.activate=function(){this.activateScribbleTool()},ScribbleTool.prototype.activateScribbleTool=function(){this.activateAbstractTool(),this.view().setCursor("crosshair"),this.view().clearSelection(),this.fScribble=null},ScribbleTool.prototype.deactivate=function(){this.deactivateScribbleTool()},ScribbleTool.prototype.deactivateScribbleTool=function(){this.deactivateAbstractTool(),null!=this.fScribble&&(this.fScribble.size().width<4||this.fScribble.size().height<4)&&this.drawing().remove(this.fScribble)},ScribbleTool.prototype.point=function(a,b){null==this.fScribble?(this.fScribble=new PolyLineFigure(a,b),this.view().add(this.fScribble)):(this.fLastX!=a||this.fLastY!=b)&&this.fScribble.addPoint(a,b),this.fLastX=a,this.fLastY=b},ScribbleTool.prototype.mouseDown=function(a,b,c){a.getClickCount()>=2?(this.fScribble=null,this.editor().toolDone()):this.point(a.getX(),a.getY())},ScribbleTool.prototype.mouseDrag=function(a,b,c){null!=this.fScribble&&this.point(a.getX(),a.getY())},ScribbleTool.prototype.mouseUp=function(a,b,c){this.fireViewEvent(this.fScribble,"Create"),this.editor().toolDone(),this.fScribble=null},DragTracker.prototype=new AbstractTool,DragTracker.prototype.initDragTracker=function(a,b){this.initAbstractTool(a),this.fAnchorFigure=b},DragTracker.prototype.mouseDown=function(a,b,c){this.fAnchorX=b,this.fAnchorY=c,this.fLastX=b,this.fLastY=c,a.isShiftDown()?(this.view().toggleSelection(this.fAnchorFigure),this.fAnchorFigure=null):this.view().selection().contains(this.fAnchorFigure)||(this.view().clearSelection(),this.view().addToSelection(this.fAnchorFigure)),this.view().setCursor("move")},DragTracker.prototype.mouseDrag=function(a,b,c){if(this.fView.selectionCount()<2)this.fAnchorFigure.moveBy(b-this.fLastX,c-this.fLastY),this.fAnchorFigure.draw();else for(var d=this.view().selectionElements();d.hasMoreElements();){var e=d.nextFigure();e.moveBy(b-this.fLastX,c-this.fLastY),e.draw()}this.fLastX=b,this.fLastY=c},DragTracker.prototype.mouseUp=function(a,b,c){if(this.fMoved=Math.abs(b-this.fAnchorX)>4||Math.abs(c-this.fAnchorY)>4,this.fMoved)for(var d=this.view().selectionElements();d.hasMoreElements();)this.fireViewEvent(d.nextFigure(),"Move");this.view().setCursor("default")},AbstractHandle.prototype=new Handle,AbstractHandle.prototype.initAbstractHandle=function(a){this.fOwner=a},AbstractHandle.prototype.locate=function(){},AbstractHandle.prototype.invokeStart=function(a,b,c){c.drawing()},AbstractHandle.prototype.invokeStep=function(a,b,c,d,e){e.drawing()},AbstractHandle.prototype.invokeEnd=function(a,b,c,d,e){e.drawing()},AbstractHandle.prototype.owner=function(){return this.fOwner},AbstractHandle.prototype.displayBox=function(){var a=this.locate();return new gRectangle(a.x-this.HANDLESIZE/2,a.y-this.HANDLESIZE/2,this.HANDLESIZE,this.HANDLESIZE)},AbstractHandle.prototype.containsPoint=function(a,b){return this.displayBox().contains(a,b)},AbstractHandle.prototype.createSVGContent=function(a){var b=this.displayBox();a.setColor(this.color),a.setStrokeWidth(1),a.setStrokeColor("black"),this.shape=a.drawRect(b.x,b.y,b.width,b.height),this.shape.setAttribute("shape-rendering","optimizeSpeed"),this.shape.setCursor(this.getCursorName())},AbstractHandle.prototype.draw=function(a){this.drawAbstractHandle(a)},AbstractHandle.prototype.drawAbstractHandle=function(a){this.created||(this.created=!0,this.createSVGContent(a));var b=this.displayBox();
this.shape.setSize(b.width,b.height),this.shape.translate(b.x,b.y),void 0!=a&&a.addChild(this.shape.getNode())},AbstractHandle.prototype.getShape=function(){return this.shape},AbstractHandle.prototype.dispose=function(){null!=this.shape&&this.shape.dispose(),this.shape=null},AbstractHandle.prototype.getCursorName=function(){var a=null;switch(this.className){case"NorthEastHandle":a="ne-resize";break;case"EastHandle":a="e-resize";break;case"NorthHandle":a="n-resize";break;case"NorthWestHandle":a="nw-resize";break;case"SouthEastHandle":a="se-resize";break;case"SouthHandle":a="s-resize";break;case"SouthWestHandle":a="sw-resize";break;case"WestHandle":a="w-resize";break;default:a="default"}return a},LocatorHandle.prototype=new AbstractHandle,LocatorHandle.prototype.initLocatorHandle=function(a,b){this.initAbstractHandle(a),this.fLocator=b},LocatorHandle.prototype.locate=function(){return this.fLocator.locate(this.owner())},RadiusHandle.prototype=new AbstractHandle,RadiusHandle.prototype.initRadiusHandle=function(a){this.initAbstractHandle(a),this.fOwner=a,this.color="red"},RadiusHandle.prototype.createSVGContent=function(a){var b=this.displayBox();a.setColor(this.color),this.shape=a.drawOval(b.x+b.width/2,b.y+b.height/2,b.width,b.height),this.shape.setStrokeWidth(.5),this.shape.setStrokeColor("black"),this.shape.setCursor(this.getCursorName())},RadiusHandle.prototype.locate=function(){var a=this.fOwner.getArc(),b=this.fOwner.displayBox();return new Point(b.x+a.x/2+this.OFFSET,b.y+a.y/2+this.OFFSET)},RadiusHandle.prototype.invokeStart=function(a,b,c){this.fRadius=this.fOwner.getArc(),this.fRadius.x=this.fRadius.x/2,this.fRadius.y=this.fRadius.y/2},RadiusHandle.prototype.invokeStep=function(a,b,c,d,e){var f=a-c,g=b-d;r=this.fOwner.displayBox();var h=geom.range(0,r.width,2*(this.fRadius.x+f)),i=geom.range(0,r.height,2*(this.fRadius.y+g));this.fOwner.setArc(h,i)},HandleTracker.prototype=new AbstractTool,HandleTracker.prototype.initHandleTracker=function(a,b){this.initAbstractTool(a),this.fAnchorHandle=b},HandleTracker.prototype.mouseDown=function(a,b,c){this.fAnchorX=b,this.fAnchorY=c,this.fAnchorHandle.invokeStart(b,c,this.view()),this.view().setCursor(this.fAnchorHandle.getCursorName()),this.fAnchorHandle.shape.setVisibility(!0)},HandleTracker.prototype.mouseDrag=function(a,b,c){this.fAnchorHandle.invokeStep(b,c,this.fAnchorX,this.fAnchorY,this.view()),this.fAnchorHandle.owner().draw(),this.fAnchorHandle.shape.setVisibility(!0),this.fAnchorHandle.draw()},HandleTracker.prototype.mouseUp=function(a,b,c){this.fAnchorHandle.invokeEnd(b,c,this.fAnchorX,this.fAnchorY,this.view()),this.view().setCursor("default"),this.fireViewEvent(this.fAnchorHandle.fOwner,"Update")},AbstractLocator.prototype=new Locator,AbstractLocator.prototype.clone=function(){return null},AbstractLocator.prototype.write=function(a){return null},AbstractLocator.prototype.read=function(a){return null},RelativeLocator.prototype=new AbstractLocator,RelativeLocator.prototype.initRelativeLocator=function(a,b){this.fRelativeX=a,this.fRelativeY=b},RelativeLocator.prototype.locate=function(a){var b=a.displayBox();return new Point(b.x+b.width*this.fRelativeX,b.y+b.height*this.fRelativeY)},RelativeLocator.prototype.east=function(){return new RelativeLocator(1,.5)},RelativeLocator.prototype.north=function(){return new RelativeLocator(.5,0)},RelativeLocator.prototype.west=function(){return new RelativeLocator(0,.5)},RelativeLocator.prototype.northEast=function(){return new RelativeLocator(1,0)},RelativeLocator.prototype.northWest=function(){return new RelativeLocator(0,0)},RelativeLocator.prototype.south=function(){return new RelativeLocator(.5,1)},RelativeLocator.prototype.southEast=function(){return new RelativeLocator(1,1)},RelativeLocator.prototype.southWest=function(){return new RelativeLocator(0,1)},RelativeLocator.prototype.center=function(){return new RelativeLocator(.5,.5)};var relativeLocator=new RelativeLocator;NorthEastHandle.prototype=new LocatorHandle,NorthEastHandle.prototype.initNorthEastHandle=function(a){this.initLocatorHandle(a,relativeLocator.northEast())},NorthEastHandle.prototype.invokeStep=function(a,b,c,d,e){var f=this.owner().displayBox();this.owner().displayBox(new Point(f.x,Math.min(f.y+f.height,b)),new Point(Math.max(f.x,a),f.y+f.height))},EastHandle.prototype=new LocatorHandle,EastHandle.prototype.initEastHandle=function(a){this.initLocatorHandle(a,relativeLocator.east())},EastHandle.prototype.invokeStep=function(a,b,c,d,e){var f=this.owner().displayBox();this.owner().displayBox(new Point(f.x,f.y),new Point(Math.max(f.x,a),f.y+f.height))},NorthHandle.prototype=new LocatorHandle,NorthHandle.prototype.initNorthHandle=function(a){this.initLocatorHandle(a,relativeLocator.north())},NorthHandle.prototype.invokeStep=function(a,b,c,d,e){var f=this.owner().displayBox();this.owner().displayBox(new Point(f.x,Math.min(f.y+f.height,b)),new Point(f.x+f.width,f.y+f.height))},NorthWestHandle.prototype=new LocatorHandle,NorthWestHandle.prototype.initNorthWestHandle=function(a){this.initLocatorHandle(a,relativeLocator.northWest())},NorthWestHandle.prototype.invokeStep=function(a,b,c,d,e){var f=this.owner().displayBox();this.owner().displayBox(new Point(Math.min(f.x+f.width,a),Math.min(f.y+f.height,b)),new Point(f.x+f.width,f.y+f.height))},SouthEastHandle.prototype=new LocatorHandle,SouthEastHandle.prototype.initSouthEastHandle=function(a){this.initLocatorHandle(a,relativeLocator.southEast())},SouthEastHandle.prototype.invokeStep=function(a,b,c,d,e){var f=this.owner().displayBox();this.owner().displayBox(new Point(f.x,f.y),new Point(Math.max(f.x,a),Math.max(f.y,b)))},SouthHandle.prototype=new LocatorHandle,SouthHandle.prototype.initSouthHandle=function(a){this.initLocatorHandle(a,relativeLocator.south())},SouthHandle.prototype.invokeStep=function(a,b,c,d,e){var f=this.owner().displayBox();this.owner().displayBox(new Point(f.x,f.y),new Point(f.x+f.width,Math.max(f.y,b)))},SouthWestHandle.prototype=new LocatorHandle,SouthWestHandle.prototype.initSouthWestHandle=function(a){this.initLocatorHandle(a,relativeLocator.southWest())},SouthWestHandle.prototype.invokeStep=function(a,b,c,d,e){var f=this.owner().displayBox();this.owner().displayBox(new Point(Math.min(f.x+f.width,a),f.y),new Point(f.x+f.width,Math.max(f.y,b)))},WestHandle.prototype=new LocatorHandle,WestHandle.prototype.initWestHandle=function(a){this.initLocatorHandle(a,relativeLocator.west())},WestHandle.prototype.invokeStep=function(a,b,c,d,e){var f=this.owner().displayBox();this.owner().displayBox(new Point(Math.min(f.x+f.width,a),f.y),new Point(f.x+f.width,f.y+f.height))},BoxHandleKit.prototype.initBoxHandleKit=function(){},BoxHandleKit.prototype.addCornerHandles=function(a,b){b.addElement(this.southEast(a)),b.addElement(this.southWest(a)),b.addElement(this.northEast(a)),b.addElement(this.northWest(a))},BoxHandleKit.prototype.addHandles=function(a,b){this.addCornerHandles(a,b),b.addElement(this.south(a)),b.addElement(this.north(a)),b.addElement(this.east(a)),b.addElement(this.west(a))},BoxHandleKit.prototype.south=function(a){return new SouthHandle(a)},BoxHandleKit.prototype.southEast=function(a){return new SouthEastHandle(a)},BoxHandleKit.prototype.southWest=function(a){return new SouthWestHandle(a)},BoxHandleKit.prototype.north=function(a){return new NorthHandle(a)},BoxHandleKit.prototype.northEast=function(a){return new NorthEastHandle(a)},BoxHandleKit.prototype.northWest=function(a){return new NorthWestHandle(a)},BoxHandleKit.prototype.east=function(a){return new EastHandle(a)},BoxHandleKit.prototype.west=function(a){return new WestHandle(a)},BoxHandleKit.prototype.toString=function(){return this.className};var boxHandleKit=new BoxHandleKit;TextHolder.prototype.textDisplayBox=function(){},TextHolder.prototype.getText=function(){},TextHolder.prototype.setText=function(a){},TextHolder.prototype.acceptsTyping=function(){},TextHolder.prototype.overlayColumns=function(){},TextHolder.prototype.connect=function(a){},TextHolder.prototype.getFont=function(){},NullHandle.prototype=new LocatorHandle,NullHandle.prototype.initNullHandle=function(a,b){this.initLocatorHandle(a,b)},NullHandle.prototype.createSVGContent=function(a){var b=this.displayBox();a.setColor("none"),this.shape=a.drawRect(b.x,b.y,b.width,b.height),this.shape.setStrokeWidth(1),this.shape.setStrokeColor("black"),this.shape.setAttribute("shape-rendering","optimizeSpeed"),this.shape.setCursor(this.getCursorName())},ActionTool.prototype=new AbstractTool,ActionTool.prototype.initActionTool=function(a){this.initAbstractTool(a)},ActionTool.prototype.mouseDown=function(a,b,c){var d=this.drawing().findFigure(b,c);null!=d&&(this.view().addToSelection(d),this.action(d))},ActionTool.prototype.mouseUp=function(a,b,c){this.editor().toolDone()},ActionTool.prototype.action=function(a){},FigureAttributes.prototype.initFigureAttributes=function(){},FigureAttributes.prototype.get=function(a){return this.fMap.get(a)},FigureAttributes.prototype.set=function(a,b){this.fMap.put(a,b)},FigureAttributes.prototype.hasDefined=function(a){return this.fMap.containsKey(a)},FigureAttributes.prototype.clone=function(){var a=new FigureAttributes;return a.fMap=this.fMap.clone(),a},FigureAttributes.prototype.read=function(a){},FigureAttributes.prototype.write=function(a){},AttributeFigure.prototype=new AbstractFigure,AttributeFigure.prototype.initAttributeFigure=function(){this.initAbstractFigure()},AttributeFigure.prototype.draw=function(a){this.drawAttributeFigure(a)},AttributeFigure.prototype.drawAttributeFigure=function(a){this.drawAbstractFigure(a)},AttributeFigure.prototype.getFillColor=function(){return this.getAttribute("FillColor")},AttributeFigure.prototype.getFrameColor=function(){return this.getAttribute("FrameColor")},AttributeFigure.prototype.initializeAttributes=function(){this.fgDefaultAttributes=new FigureAttributes,this.fgDefaultAttributes.set("Opacity",1),this.fgDefaultAttributes.set("FrameWidth",1),this.fgDefaultAttributes.set("FrameColor","black"),this.fgDefaultAttributes.set("FillColor",new Color(7396243).getRGBAsString()),this.fgDefaultAttributes.set("TextColor","black"),this.fgDefaultAttributes.set("ArrowMode",0),this.fgDefaultAttributes.set("FontName","Helvetica"),this.fgDefaultAttributes.set("FontSize",12),this.fgDefaultAttributes.set("FontStyle",(new Font).PLAIN)},AttributeFigure.prototype.getDefaultAttribute=function(a){return null==this.fgDefaultAttributes&&this.initializeAttributes(),this.fgDefaultAttributes.get(a)},AttributeFigure.prototype.getAttribute=function(a){return this.getAttributeAttributeFigure(a)},AttributeFigure.prototype.getAttributeAttributeFigure=function(a){return null!=this.fAttributes&&this.fAttributes.hasDefined(a)?this.fAttributes.get(a):this.getDefaultAttribute(a)},AttributeFigure.prototype.setAttribute=function(a,b){this.setAttributeAttributeFigure(a,b)},AttributeFigure.prototype.setAttributeAttributeFigure=function(a,b){null==this.fAttributes&&(this.fAttributes=new FigureAttributes),this.fAttributes.set(a,b),this.updateShapeAttributes(),this.changed()},AttributeFigure.prototype.updateShapeAttributes=function(){this.updateShapeAttributesAttributeFigure()},AttributeFigure.prototype.updateShapeAttributesAttributeFigure=function(){this.isCreated()&&this.shape.setColor(this.getAttribute("FillColor")),this.isCreated()&&this.shape.setStrokeColor(this.getAttribute("FrameColor")),this.isCreated()&&this.shape.setOpacity(this.getAttribute("Opacity")),this.isCreated()&&this.shape.setStrokeWidth(this.getAttribute("FrameWidth"))},AttributeFigure.prototype.write=function(a){},AttributeFigure.prototype.read=function(a){},AttributeFigure.prototype.serialize=function(){return this.serializeAttributeFigure()},AttributeFigure.prototype.serializeAttributeFigure=function(){var a=new Hashtable;return a.put("fillColor",this.getAttribute("FillColor")),a.put("frameColor",this.getAttribute("FrameColor")),a.put("frameWidth",this.getAttribute("FrameWidth")),a.put("opacity",this.getAttribute("Opacity")),this.serializeAbstractFigure()+a.serialize()},AttributeFigure.prototype.deserialize=function(a){return this.deserializeAttributeFigure(a)},AttributeFigure.prototype.deserializeAttributeFigure=function(a){var b=this.deserializeAbstractFigure(a);return this.setAttribute("FillColor",b.get("fillColor")),this.setAttribute("FrameColor",b.get("frameColor")),this.setAttribute("FrameWidth",b.get("frameWidth")),this.setAttribute("Opacity",b.get("opacity")),b},AttributeFigure.prototype.serializeAsRDF=function(a,b){return this.serializeAsRDFAttributeFigure(a,b)},AttributeFigure.prototype.serializeAsRDFAttributeFigure=function(a,b){var c=this.shape.getNode().nodeName,d="<"+a+c+"_"+this.myCount+"/historyNode_"+this.historyNodeCounter+"> ",e="";return e+=d+' svg:fill "'+this.getAttribute("FillColor")+'" . ',e+=d+' svg:stroke "'+this.getAttribute("FrameColor")+'" . ',e+=d+" svg:stroke-width "+this.getAttribute("FrameWidth")+" . ",e+=d+" svg:opacity "+this.getAttribute("Opacity")+" . ",e=this.serializeAsRDFAbstractFigure(a,b)+e},DecoratorFigure.prototype=new AttributeFigure,DecoratorFigure.prototype.initDecoratorFigure=function(a){this.initAbstractFigure(),(void 0!=a||null!=a)&&this.decorate(a)},DecoratorFigure.prototype.connectionInsets=function(){return this.connectionInsetsDecoratorFigure()},DecoratorFigure.prototype.connectionInsetsDecoratorFigure=function(){return this.fComponent.connectionInsets()},DecoratorFigure.prototype.canConnect=function(){return this.fComponent.canConnect()},DecoratorFigure.prototype.containsPoint=function(a,b){return this.fComponent.containsPoint(a,b)},DecoratorFigure.prototype.decorate=function(a){this.fComponent=a,this.fComponent.addToContainer(this)},DecoratorFigure.prototype.peelDecoration=function(){return this.fComponent.removeFromContainer(this),this.fComponent},DecoratorFigure.prototype.displayBox=function(){return this.fComponent.displayBox()},DecoratorFigure.prototype.basicDisplayBox=function(a,b){this.fComponent.basicDisplayBox(a,b)},DecoratorFigure.prototype.draw=function(a){this.drawDecoratorFigure(a)},DecoratorFigure.prototype.drawDecoratorFigure=function(a){this.fComponent.draw(a),this.drawAbstractFigure(a)},DecoratorFigure.prototype.findFigureInside=function(a,b){return this},DecoratorFigure.prototype.handles=function(){return this.handlesDecoratorFigure()},DecoratorFigure.prototype.handlesDecoratorFigure=function(){return this.fComponent.handles()},DecoratorFigure.prototype.includes=function(a){return this.includesAbstractFigure(a)||this.fComponent.includes(a)},DecoratorFigure.prototype.moveBy=function(a,b){this.fComponent.moveBy(a,b)},DecoratorFigure.prototype.basicMoveBy=function(a,b){},DecoratorFigure.prototype.figureChanged=function(a){},DecoratorFigure.prototype.figureRemoved=function(a){},DecoratorFigure.prototype.figureRequestUpdate=function(a){null!=this.listener()&&this.listener().figureRequestUpdate(a)},DecoratorFigure.prototype.figureRequestRemove=function(a){null!=this.listener()&&this.listener().figureRequestRemove(new FigureChangeEvent(this))},DecoratorFigure.prototype.figures=function(){return this.fComponent.figures()},DecoratorFigure.prototype.decompose=function(){return this.fComponent.decompose()},DecoratorFigure.prototype.setAttribute=function(a,b){this.fComponent.setAttribute(a,b)},DecoratorFigure.prototype.getAttribute=function(a){return this.fComponent.getAttribute(a)},DecoratorFigure.prototype.connectedTextLocator=function(a){return this.fComponent.connectedTextLocator(a)},DecoratorFigure.prototype.connectorAt=function(a,b){return this.fComponent.connectorAt(a,b)},DecoratorFigure.prototype.connectorVisibility=function(a){this.fComponent.connectorVisibility(a)},DecoratorFigure.prototype.dispose=function(){this.disposeDecoratorFigure()},DecoratorFigure.prototype.disposeDecoratorFigure=function(){this.fComponent.dispose(),this.disposeAbstractFigure()},DecoratorFigure.prototype.release=function(){this.fComponent.removeFromContainer(this),this.fComponent.release(),this.abstractFigureRelease()},DecoratorFigure.prototype.write=function(a){},DecoratorFigure.prototype.read=function(a){},RectangleFigure.prototype=new AttributeFigure,RectangleFigure.prototype.initRectangleFigure=function(a,b){return this.initAttributeFigure(),void 0==a&&void 0==b?void this.initRectangleFigure(new Point(0,0),new Point(0,0)):void this.basicDisplayBox(a,b)},RectangleFigure.prototype.basicDisplayBox=function(a,b){this.fDisplayBox=new gRectangle(a),this.fDisplayBox.add(b)},RectangleFigure.prototype.handles=function(a){(void 0==a||null==a)&&(a=this);var b=new Vector;return boxHandleKit.addHandles(a,b),b},RectangleFigure.prototype.ret_displayBox=function(){return new gRectangle(this.fDisplayBox.x,this.fDisplayBox.y,this.fDisplayBox.width,this.fDisplayBox.height)},RectangleFigure.prototype.basicMoveBy=function(a,b){this.fDisplayBox.translate(a,b)},RectangleFigure.prototype.createSVGContent=function(a){var b=this.displayBox();this.shape=a.drawRect(b.x,b.y,b.width,b.height),this.updateShapeAttributes()},RectangleFigure.prototype.draw=function(a){this.drawRectangleFigure(a)},RectangleFigure.prototype.drawRectangleFigure=function(a){this.drawAttributeFigure(a);var b=this.displayBox();this.shape.setSize(b.width,b.height),this.shape.translate(b.x,b.y)},RectangleFigure.prototype.write=function(a){},RectangleFigure.prototype.read=function(){},RectangleFigure.prototype.clone=function(){return new RectangleFigure(new Point(0,0),new Point(0,0))};var ARROW_TIP_NONE=0,ARROW_TIP_START=1,ARROW_TIP_END=2,ARROW_TIP_BOTH=3;PolyLineFigure.prototype=new AbstractFigure,PolyLineFigure.prototype.initPolyLineFigure=function(a,b){if(this.initAbstractFigure(),void 0==a&&void 0==b)return void this.initPolyLineFigure(4);if(void 0!=a&&void 0==b){var c=a;return void(this.fPoints=new Vector(c))}this.fPoints=new Vector,this.fPoints.addElement(new Point(a,b))},PolyLineFigure.prototype.ret_displayBox=function(){for(var a=this.points(),b=new gRectangle(a.nextElement());a.hasMoreElements();)b.add(a.nextElement());return b},PolyLineFigure.prototype.basicDisplayBox=function(a,b){},PolyLineFigure.prototype.isEmpty=function(){return this.size().width<3&&this.size().height<3},PolyLineFigure.prototype.handles=function(){var a=new Vector;return a.addElement(new NullHandle(this,relativeLocator.northWest())),a.addElement(new NullHandle(this,relativeLocator.northEast())),a.addElement(new NullHandle(this,relativeLocator.southEast())),a.addElement(new NullHandle(this,relativeLocator.southWest())),a},PolyLineFigure.prototype.addPoint=function(a,b){this.fPoints.addElement(new Point(a,b)),this.addNewPointToPath(a,b),this.changed()},PolyLineFigure.prototype.addNewPointToPath=function(a,b){null!=this.shape&&(this.d=this.shape.getAttribute("d"),"M -1 -1"==this.d?this.d=" M "+a+" "+b:this.d+=" L "+a+" "+b,this.shape.setAttribute("d",this.d))},PolyLineFigure.prototype.updatePath=function(){if(!this.pathChanged)return void this.shape.setAttribute("d",this.d);this.pathChanged=!1;var a=this.fPoints.elements(),b=a.nextElement();for(this.d=" M "+(b.x-this.shape.x)+" "+(b.y-this.shape.y);a.hasMoreElements();)b=a.nextElement(),this.d+=" L "+(b.x-this.shape.x)+" "+(b.y-this.shape.y);this.shape.setAttribute("d",this.d)},PolyLineFigure.prototype.points=function(){return this.fPoints.elements()},PolyLineFigure.prototype.pointCount=function(){return this.fPoints.size()},PolyLineFigure.prototype.basicMoveBy=function(a,b){for(var c=this.fPoints.elements();c.hasMoreElements();)c.nextElement().translate(a,b);null!=this.getShape()&&this.getShape().moveBy(a,b)},PolyLineFigure.prototype.setPointAt=function(a,b){this.willChange(),this.fPoints.setElementAt(a,b),this.pathChanged=!0,this.changed()},PolyLineFigure.prototype.insertPointAt=function(a,b){this.fPoints.insertElementAt(a,b),this.changed()},PolyLineFigure.prototype.removePointAt=function(a){this.willChange(),this.fPoints.removeElementAt(a),this.changed()},PolyLineFigure.prototype.splitSegment=function(a,b){var c=this.findSegment(a,b);return-1!=c&&this.insertPointAt(new Point(a,b),c+1),c+1},PolyLineFigure.prototype.pointAt=function(a){return this.fPoints.elementAt(a)},PolyLineFigure.prototype.joinSegments=function(a,b){for(var c=1;c<this.fPoints.size()-1;c++){var d=this.pointAt(c);if(Geom.length(a,b,d.x,d.y)<3)return this.removePointAt(c),!0}return!1},PolyLineFigure.prototype.connectorAt=function(a,b){return new PolyLineConnector(this)},PolyLineFigure.prototype.updatePolyLineAttributes=function(){this.shape.setColor("none"),this.shape.setStrokeWidth(this.getFrameWidth()),this.shape.setStrokeColor(this.getFrameColor()),this.shape.setOpacity(this.getOpacity())},PolyLineFigure.prototype.createSVGContent=function(a){this.shape=a.drawPath(0,0,"M -1 -1"),this.updatePolyLineAttributes()},PolyLineFigure.prototype.draw=function(a){this.drawPolyLineFigure(a)},PolyLineFigure.prototype.drawPolyLineFigure=function(a){this.drawAbstractFigure(a),this.updatePath()},PolyLineFigure.prototype.locator=function(a){return new PolyLineLocator(a)},PolyLineFigure.prototype.getAttribute=function(a){return"FrameColor"==a?this.getFrameColor():"FillColor"==a?"none":"FrameWidth"==a?this.getFrameWidth():"Opacity"==a?this.getOpacity():void 0},PolyLineFigure.prototype.setAttribute=function(a,b){"FrameColor"==a&&this.setFrameColor(b),"FrameWidth"==a&&this.setFrameWidth(b),"Opacity"==a&&this.setOpacity(b)},PolyLineFigure.prototype.getFrameColor=function(){return this.fFrameColor},PolyLineFigure.prototype.setFrameColor=function(a){this.fFrameColor=a,null!=this.shape&&this.shape.setStrokeColor(a)},PolyLineFigure.prototype.getFrameWidth=function(){return this.fFrameWidth},PolyLineFigure.prototype.setFrameWidth=function(a){this.fFrameWidth=a,null!=this.shape&&this.shape.setStrokeWidth(a)},PolyLineFigure.prototype.getOpacity=function(){return this.fOpacity},PolyLineFigure.prototype.setOpacity=function(a){this.fOpacity=a,null!=this.shape&&this.shape.setOpacity(a)},PolyLineFigure.prototype.write=function(a){},PolyLineFigure.prototype.read=function(){},PolyLineFigure.prototype.clone=function(){return new PolyLineFigure(0,0)},PolyLineFigure.prototype.containsPoint=function(a,b){var c=this.displayBox();if(c.grow(4,4),c.contains(a,b))return!0;for(var d,e,f=0;f<this.fPoints.size()-1;f++)if(d=this.fPoints.elementAt(f),e=this.fPoints.elementAt(f+1),geom.lineContainsPoint(d.x,d.y,e.x,e.y,a,b))return!0;return!1},PolyLineFigure.prototype.findSegment=function(a,b){},PolyLineFigure.prototype.getPoints=function(){for(var a="",b=this.fPoints.elements();b.hasMoreElements();){var c=b.nextElement();a+=c.x+"@"+c.y+","}return a},PolyLineFigure.prototype.setPoints=function(a){this.pathChanged=!0,this.fPoints=new Vector;for(var b=a.split(","),c=0;c<b.length;c++){var d=b[c].split("@");if(void 0!=d&&null!=d&&d.length>1){var e=parseFloat(d[0]),f=parseFloat(d[1]);isNaN(e)||isNaN(f)||this.addPoint(e,f)}}},PolyLineFigure.prototype.serialize=function(){return this.serializePolyLineFigure()},PolyLineFigure.prototype.serializePolyLineFigure=function(){var a=new Hashtable;return a.put("fillColor",this.getAttribute("FillColor")),a.put("frameColor",this.getAttribute("FrameColor")),a.put("frameWidth",this.getAttribute("FrameWidth")),a.put("opacity",this.getAttribute("Opacity")),this instanceof PolyLineFigure&&a.put("points",this.getPoints()),this.serializeAbstractFigure()+a.serialize()},PolyLineFigure.prototype.deserialize=function(a){return this.deserializePolyLineFigure(a)},PolyLineFigure.prototype.deserializePolyLineFigure=function(a){var b=this.deserializeAbstractFigure(a);return this.setAttribute("FillColor",b.get("fillColor")),this.setAttribute("FrameColor",b.get("frameColor")),this.setAttribute("FrameWidth",b.get("frameWidth")),this.setAttribute("Opacity",b.get("opacity")),this instanceof PolyLineFigure&&this.setPoints(b.get("points")),b},PolyLineFigure.prototype.serializeAsRDF=function(a,b){return this.serializeAsRDFPolyLineFigure(a,b)},PolyLineFigure.prototype.serializeAsRDFPolyLineFigure=function(a,b){var c=this.shape.getNode().nodeName,d="<"+a+c+"_"+this.myCount+"/historyNode_"+this.historyNodeCounter+"> ",e="";return e+=d+' svg:fill "'+this.getAttribute("FillColor")+'" . ',e+=d+' svg:stroke "'+this.getAttribute("FrameColor")+'" . ',e+=d+" svg:stroke-width "+this.getAttribute("FrameWidth")+" . ",e+=d+" svg:opacity "+this.getAttribute("Opacity")+" . ",("PolyLineFigure"==this.className||"FireBoundaryFigure"==this.className)&&(e+=d+' svg:points "'+this.getPoints()+'" . '),e=this.serializeAsRDFAbstractFigure(a,b)+e},EllipseFigure.prototype=new AttributeFigure,EllipseFigure.prototype.initEllipseFigure=function(a,b){return this.initAttributeFigure(),a||b?void this.basicDisplayBox(a,b):void this.initEllipseFigure(new Point(0,0),new Point(0,0))},EllipseFigure.prototype.basicDisplayBox=function(a,b){this.fDisplayBox=new gRectangle(a),this.fDisplayBox.add(b)},EllipseFigure.prototype.handles=function(a){(void 0==a||null==a)&&(a=this);var b=new Vector;return boxHandleKit.addHandles(a,b),b},EllipseFigure.prototype.ret_displayBox=function(){return new gRectangle(this.fDisplayBox.x,this.fDisplayBox.y,this.fDisplayBox.width,this.fDisplayBox.height)},EllipseFigure.prototype.basicMoveBy=function(a,b){this.fDisplayBox.translate(a,b);this.displayBox()},EllipseFigure.prototype.createSVGContent=function(a){var b=this.displayBox();this.shape=a.drawOval(b.x,b.y,b.width/2,b.height/2),this.updateShapeAttributes()},EllipseFigure.prototype.draw=function(a){this.drawEllipseFigure(a)},EllipseFigure.prototype.drawEllipseFigure=function(a){this.drawAttributeFigure(a);var b=this.displayBox();this.shape.setRadius(b.width/2,b.height/2),this.shape.translate(b.x,b.y)},EllipseFigure.prototype.write=function(a){},EllipseFigure.prototype.read=function(){},EllipseFigure.prototype.clone=function(){return new EllipseFigure(new Point(0,0),new Point(0,0))},ImageFigure.prototype=new RectangleFigure,ImageFigure.prototype.initImageFigure=function(a,b,c){this.initRectangleFigure(a,b),void 0==c?this.fFileName=hdImageURL:this.fFileName=c},ImageFigure.prototype.createSVGContent=function(a){var b=this.displayBox();this.shape=a.drawImage(b.x,b.y,b.width,b.height,this.fFileName),this.shape.setAttribute("preserveAspectRatio",this.preserveAspectRatio)},ImageFigure.prototype.getURL=function(){return this.fFileName},ImageFigure.prototype.setURL=function(a){this.fFileName=a,null!=this.shape&&this.shape.changeHref(this.fFileName)},ImageFigure.prototype.clone=function(){return new ImageFigure(new Point(0,0),new Point(0,0),this.fFileName)},ImageFigure.prototype.serialize=function(){return this.serializeImageFigure()},ImageFigure.prototype.serializeImageFigure=function(){var a=new Hashtable;return a.put("url",this.getURL()),a.put("opacity",this.getAttribute("Opacity")),this.serializeAbstractFigure()+a.serialize()},ImageFigure.prototype.deserialize=function(a){return this.deserializeImageFigure(a)},ImageFigure.prototype.deserializeImageFigure=function(a){var b=this.deserializeAbstractFigure(a);return this.setURL(b.get("url")),this.setAttribute("Opacity",b.get("opacity")),b},ImageFigure.prototype.serializeAsRDF=function(a,b){return this.serializeAsRDFImageFigure(a,b)},ImageFigure.prototype.serializeAsRDFImageFigure=function(a,b){var c=this.shape.getNode().nodeName,d="<"+a+c+"_"+this.myCount+"/historyNode_"+this.historyNodeCounter+"> ",e=d+' xlink:href "'+this.getURL()+'" . ';return e+=d+" svg:opacity "+this.getAttribute("Opacity")+" . ",e=this.serializeAsRDFAbstractFigure(a,b)+e},RoundRectangleFigure.prototype=new AttributeFigure,RoundRectangleFigure.prototype.initRoundRectangleFigure=function(a,b){return this.initAttributeFigure(),a||b?void this.basicDisplayBox(a,b):void this.initRoundRectangleFigure(new Point(0,0),new Point(0,0))},RoundRectangleFigure.prototype.basicDisplayBox=function(a,b){this.fDisplayBox=new gRectangle(a),this.fDisplayBox.add(b)},RoundRectangleFigure.prototype.setArc=function(a,b){this.willChange(),this.fArcWidth=a,this.fArcHeight=b,this.changed()},RoundRectangleFigure.prototype.getArc=function(){return new Point(this.fArcWidth,this.fArcHeight)},RoundRectangleFigure.prototype.handles=function(a){(void 0==a||null==a)&&(a=this);var b=new Vector;return boxHandleKit.addHandles(a,b),b.addElement(new RadiusHandle(this)),b},RoundRectangleFigure.prototype.ret_displayBox=function(){return new gRectangle(this.fDisplayBox.x,this.fDisplayBox.y,this.fDisplayBox.width,this.fDisplayBox.height)},RoundRectangleFigure.prototype.basicMoveBy=function(a,b){this.fDisplayBox.translate(a,b)},RoundRectangleFigure.prototype.createSVGContent=function(a){var b=this.displayBox();this.shape=a.drawRoundRect(b.x,b.y,b.width,b.height,this.fArcWidth,this.fArcHeight),this.updateShapeAttributes()},RoundRectangleFigure.prototype.draw=function(a){this.drawRoundRectangleFigure(a)},RoundRectangleFigure.prototype.drawRoundRectangleFigure=function(a){this.drawAttributeFigure(a);var b=this.displayBox();this.shape.setSize(b.width,b.height),this.shape.translate(b.x,b.y),this.shape.setRadius(this.fArcWidth,this.fArcHeight)},RoundRectangleFigure.prototype.connectionInsets=function(){return new Insets(this.fArcHeight/2,this.fArcWidth/2,this.fArcHeight/2,this.fArcWidth/2)},RoundRectangleFigure.prototype.connectorAt=function(a,b){return new ShortestDistanceConnector(this)},RoundRectangleFigure.prototype.write=function(a){},RoundRectangleFigure.prototype.read=function(){},RoundRectangleFigure.prototype.clone=function(){return new RoundRectangleFigure(new Point(0,0),new Point(0,0))},RoundRectangleFigure.prototype.serialize=function(){return this.serializeRoundRectangleFigure()},RoundRectangleFigure.prototype.serializeRoundRectangleFigure=function(){var a=new Hashtable;return a.put("arcWidth",this.fArcWidth),a.put("arcHeight",this.fArcHeight),this.serializeAttributeFigure()+a.serialize()},RoundRectangleFigure.prototype.deserialize=function(a){return this.deserializeRoundRectangleFigure(a)},RoundRectangleFigure.prototype.deserializeRoundRectangleFigure=function(a){var b=this.deserializeAttributeFigure(a),c=parseFloat(b.get("arcWidth")),d=parseFloat(b.get("arcHeight"));return this.setArc(c,d),b},RoundRectangleFigure.prototype.serializeAsRDF=function(a,b){return this.serializeAsRDFRoundRectangleFigure(a,b)},RoundRectangleFigure.prototype.serializeAsRDFRoundRectangleFigure=function(a,b){var c=this.shape.getNode().nodeName,d="<"+a+c+"_"+this.myCount+"/historyNode_"+this.historyNodeCounter+"> ",e="";return e+=d+" svg:rx "+this.fArcWidth+" . ",e+=d+" svg:ry "+this.fArcHeight+" . ",e=this.serializeAsRDFAttributeFigure(a,b)+e},TextFigure.prototype=new AttributeFigure,TextFigure.prototype.initTextFigure=function(){this.initAttributeFigure(),this.setAttribute("FrameColor","none"),this.setAttribute("FillColor","black")},TextFigure.prototype.moveBy=function(a,b){this.willChange(),this.basicMoveBy(a,b),null!=this.fLocator&&this.fLocator.moveBy(a,b),this.changed()},TextFigure.prototype.basicMoveBy=function(a,b){this.fOriginX+=a,this.fOriginY+=b},TextFigure.prototype.basicDisplayBox=function(a,b){this.fOriginX=a.x,this.fOriginY=a.y},TextFigure.prototype.ret_displayBox=function(){var a=this.textExtent();return new gRectangle(this.fOriginX,this.fOriginY,a.width,a.height)},TextFigure.prototype.textDisplayBox=function(){return this.displayBox()},TextFigure.prototype.readOnly=function(){return this.fIsReadOnly},TextFigure.prototype.setReadOnly=function(a){this.fIsReadOnly=a},TextFigure.prototype.getFont=function(){return this.fFont},TextFigure.prototype.setFont=function(a){this.willChange(),this.fFont=a,null!=this.shape&&this.shape.setFont(this.fFont),this.changed()},TextFigure.prototype.changed=function(){this.updateLocation()},TextFigure.prototype.createCurrentFont=function(){return new Font(this.fgCurrentFontName,this.fgCurrentFontStyle,this.fgCurrentFontSize+"pt")},TextFigure.prototype.setCurrentFontName=function(a){this.fgCurrentFontName=a},TextFigure.prototype.setCurrentFontSize=function(a){this.fgCurrentFontSize=a},TextFigure.prototype.setCurrentFontStyle=function(a){this.fgCurrentFontStyle=a;
},TextFigure.prototype.getAttribute=function(a){var b=this.getFont();return"FontSize"==a?b.getSize():"FontStyle"==a?b.getNamedStyle():"FontName"==a?b.getName():this.getAttributeAttributeFigure(a)},TextFigure.prototype.setAttribute=function(a,b){var c=this.getFont();"FontSize"==a?this.setFont(new Font(c.getName(),c.getNamedStyle(),parseInt(b))):"FontStyle"==a?(c.setStyle(parseInt(b)),this.setFont(new Font(c.getName(),c.getNamedStyle(),c.getSize()))):"FontName"==a?this.setFont(new Font(b,c.getNamedStyle(),c.getSize())):this.setAttributeAttributeFigure(a,b)},TextFigure.prototype.getText=function(){return this.fText},TextFigure.prototype.setText=function(a){void 0!=a&&null!=a&&a!=this.fText&&(this.willChange(),this.fText=a,null!=this.shape&&this.shape.setText(a),this.changed())},TextFigure.prototype.acceptsTyping=function(){return!this.fIsReadOnly},TextFigure.prototype.createSVGContent=function(a){var b=this.displayBox();this.shape=a.drawText(b.x,b.y,this.fText),this.shape.setToBaseLine(),this.updateShapeAttributes()},TextFigure.prototype.draw=function(a){this.drawTextFigure(a)},TextFigure.prototype.drawTextFigure=function(a){this.drawAttributeFigure(a);var b=this.displayBox();this.shape.setFont(this.getFont()),this.shape.setSize(b.width,b.height),this.shape.translate(b.x,b.y)},TextFigure.prototype.textExtent=function(){return null==this.shape?new Dimension(0,0):(this.fWidth=this.shape.getStringWidth(),this.fHeight=this.shape.getStringHeight(),new Dimension(this.fWidth,this.fHeight))},TextFigure.prototype.markDirty=function(){this.fSizeIsDirty=!0},TextFigure.prototype.overlayColumns=function(){var a=this.getText().length,b=20;return 0!=a&&(b=this.getText().length+3),b},TextFigure.prototype.handles=function(){var a=new Vector;return a.addElement(new NullHandle(this,relativeLocator.northWest())),a.addElement(new NullHandle(this,relativeLocator.northEast())),a.addElement(new NullHandle(this,relativeLocator.southEast())),a.addElement(new FontSizeHandle(this,relativeLocator.southWest())),a},TextFigure.prototype.connect=function(a){},TextFigure.prototype.figureChanged=function(a){this.updateLocation()},TextFigure.prototype.figureRemoved=function(a){null!=this.listener()&&this.listener().figureRequestRemove(new FigureChangeEvent(this))},TextFigure.prototype.figureRequestRemove=function(a){},TextFigure.prototype.figureInvalidated=function(a){},TextFigure.prototype.figureRequestUpdate=function(a){},TextFigure.prototype.updateLocation=function(){},TextFigure.prototype.release=function(){this.abstractFigureRelease(),null!=this.fObservedFigure&&this.fObservedFigure.removeFigureChangeListener(this)},TextFigure.prototype.disconnect=function(){},TextFigure.prototype.write=function(a){},TextFigure.prototype.read=function(){},TextFigure.prototype.clone=function(){return new TextFigure(!0)},TextFigure.prototype.serialize=function(){return this.serializeTextFigure()},TextFigure.prototype.serializeTextFigure=function(){var a=new Hashtable;return a.put("fontName",this.getAttribute("FontName")),a.put("fontSize",this.getAttribute("FontSize")),a.put("fontStyle",this.getAttribute("FontStyle")),null!=this.getText()&&a.put("text",this.getText()),this.serializeAttributeFigure()+a.serialize()},TextFigure.prototype.deserialize=function(a){return this.deserializeTextFigure(a)},TextFigure.prototype.deserializeTextFigure=function(a){var b=this.deserializeAttributeFigure(a);return b.containsKey("text")?this.setText(b.get("text")):this.setText(" "),this.setFont(new Font(b.get("fontName"),b.get("fontStyle"),b.get("fontSize"))),b},TextFigure.prototype.serializeAsRDF=function(a,b){return this.serializeAsRDFTextFigure(a,b)},TextFigure.prototype.serializeAsRDFTextFigure=function(a,b){var c=this.shape.getNode().nodeName,d="<"+a+c+"_"+this.myCount+"/historyNode_"+this.historyNodeCounter+"> ",e=d+' svg:font-family "'+this.getAttribute("FontName")+'" . ';return e+=d+' svg:font-style "'+this.getAttribute("FontStyle")+'" . ',e+=d+' svg:font-size "'+this.getAttribute("FontSize")+'" . ',null!=this.getText()&&(e+=d+' svg:content "'+this.getText()+'" . '),e=this.serializeAsRDFAttributeFigure(a,b)+e},TextTool.prototype=new CreationTool,TextTool.prototype.initTextTool=function(a,b){this.initCreationTool(a,b)},TextTool.prototype.activate=function(){this.activateTextTool()},TextTool.prototype.activateTextTool=function(){this.activateCreationTool(),this.view().setCursor("text")},TextTool.prototype.deactivate=function(){this.deactivateTextTool()},TextTool.prototype.deactivateTextTool=function(){this.deactivateCreationTool(),this.endEdit()},TextTool.prototype.fieldBounds=function(a){var b=a.textDisplayBox(),c=a.overlayColumns(),d=this.fTextField.getPreferredSize(c);return new gRectangle(b.x,b.y,d.width,d.height)},TextTool.prototype.endEdit=function(a){null!=this.fTypingTarget&&(this.fTextField.getText().length>0?(this.fTypingTarget.setText(this.fTextField.getText()),this.fireViewEvent(this.fTypingTarget,"Update")):(this.drawing().remove(this.fTypingTarget),this.fireViewEvent(this.fTypingTarget,"Remove")),this.fTypingTarget=null,this.fTextField.endOverlay())},TextTool.prototype.beginEdit=function(a){null==this.fTextField&&(this.fTextField=new FloatingTextField),a!=this.fTypingTarget&&null!=this.fTypingTarget&&this.endEdit(),this.fTextField.createOverlay(this.view(),a.getFont()),this.fTextField.setBounds(this.fieldBounds(a),a.getText()),this.fTypingTarget=a},TextTool.prototype.mouseDown=function(a,b,c){var d,e=null;if(null==this.fTextField||!this.fTextField.isShown()||!this.fTextField.getBounds().inside(b,c)){if(d=this.drawing().findFigureInside(b,c),d instanceof TextFigure&&(e=d,e.acceptsTyping()||(e=null)),null!=e)return void this.beginEdit(e);null!=this.fTypingTarget?(this.editor().toolDone(),this.endEdit()):(this.creationToolMouseDown(a,b,c),e=this.createdFigure(),this.beginEdit(e),this.fireViewEvent(this.fTypingTarget,"Create")),this.view().drawDrawing()}},TextTool.prototype.mouseDrag=function(a,b,c){},TextTool.prototype.mouseUp=function(a,b,c){},FontSizeHandle.prototype=new LocatorHandle,FontSizeHandle.prototype.initFontSizeHandle=function(a,b){this.initLocatorHandle(a,b)},FontSizeHandle.prototype.createSVGContent=function(a){var b=this.displayBox();a.setColor(this.color),this.shape=a.drawOval(b.x+b.width/2,b.y+b.height/2,b.width,b.height),this.shape.setStrokeWidth(.5),this.shape.setStrokeColor("black"),this.shape.setCursor(this.getCursorName())},FontSizeHandle.prototype.invokeStart=function(a,b,c){var d=this.owner();this.fFont=d.getFont(),this.fSize=this.fFont.getSizeValue()},FontSizeHandle.prototype.invokeStep=function(a,b,c,d,e){var f=this.owner(),g=this.fSize+b-d;g>5&&f.setFont(new Font(this.fFont.getName(),this.fFont.getStyle(),g+"pt"))},PolyLineHandle.prototype=new LocatorHandle,PolyLineHandle.prototype.initPolyLineHandle=function(a,b,c){this.initLocatorHandle(a,b),this.fIndex=c},PolyLineHandle.prototype.invokeStart=function(a,b,c){this.fAnchor=new Point(a,b)},PolyLineHandle.prototype.invokeStep=function(a,b,c,d,e){this.myOwner().setPointAt(new Point(a,b),this.fIndex)},PolyLineHandle.prototype.myOwner=function(){return this.owner()},PolyLineLocator.prototype=new AbstractLocator,PolyLineLocator.prototype.initPolyLineLocator=function(a){this.fIndex=a},PolyLineLocator.prototype.locate=function(a){var b=a;return this.fIndex<b.pointCount()?a.pointAt(this.fIndex):new Point(0,0)},LineFigure.prototype=new PolyLineFigure,LineFigure.prototype.initLineFigure=function(){this.initPolyLineFigure(0,0),this.addPoint(0,0)},LineFigure.prototype.startPoint=function(a,b){return void 0==a||void 0==b?this.pointAt(0):void this.setPointAt(new Point(a,b),0)},LineFigure.prototype.endPoint=function(a,b){return void 0==a||void 0==b?this.pointAt(1):void this.setPointAt(new Point(a,b),1)},LineFigure.prototype.setPoints=function(a,b){this.setPointAt(a,0),this.setPointAt(b,1)},LineFigure.prototype.basicDisplayBox=function(a,b){this.setPoints(a,b)},LineFigure.prototype.createSVGContent=function(a){this.shape=a.drawLine(this.startPoint().x,this.startPoint().y,this.startPoint().x+100,this.startPoint().y+100),this.updatePolyLineAttributes()},LineFigure.prototype.draw=function(a){this.drawLineFigure(a)},LineFigure.prototype.drawLineFigure=function(a){this.drawAbstractFigure(a);var b=this.startPoint(),c=this.endPoint();this.shape.x=b.x,this.shape.y=b.y,this.shape.x2=c.x,this.shape.y2=c.y,this.shape.update()},LineFigure.prototype.handles=function(){for(var a=new Vector(this.fPoints.size()),b=0;b<this.fPoints.size();b++)a.addElement(new PolyLineHandle(this,this.locator(b),b));return a},LineFigure.prototype.clone=function(){return new LineFigure(!0)},LineFigure.prototype.serialize=function(){return this.serializeLineFigure()},LineFigure.prototype.serializeLineFigure=function(){var a=new Hashtable,b=this.startPoint(),c=this.endPoint();return a.put("x1",b.getX()),a.put("y1",b.getY()),a.put("x2",c.getX()),a.put("y2",c.getY()),this.serializePolyLineFigure()+a.serialize()},LineFigure.prototype.deserialize=function(a){return this.deserializeLineFigure(a)},LineFigure.prototype.deserializeLineFigure=function(a){var b=this.deserializePolyLineFigure(a),c=parseFloat(b.get("x1")),d=parseFloat(b.get("y1")),e=parseFloat(b.get("x2")),f=parseFloat(b.get("y2"));return this.startPoint(c,d),this.endPoint(e,f),b},LineFigure.prototype.serializeAsRDF=function(a,b){return this.serializeAsRDFLineFigure(a,b)},LineFigure.prototype.serializeAsRDFLineFigure=function(a,b){var c=this.shape.getNode().nodeName,d="<"+a+c+"_"+this.myCount+"/historyNode_"+this.historyNodeCounter+"> ",e=this.startPoint(),f=this.endPoint(),g="";return g+=d+" svg:x1 "+e.getX()+" . ",g+=d+" svg:y1 "+e.getY()+" . ",g+=d+" svg:x2 "+f.getX()+" . ",g+=d+" svg:y2 "+f.getY()+" . ",g=this.serializeAsRDFPolyLineFigure(a,b)+g},BorderDecorator.prototype=new DecoratorFigure,BorderDecorator.prototype.initBorderDecorator=function(a){this.initDecoratorFigure(a)},BorderDecorator.prototype.border=function(){return new Point(3,3)},BorderDecorator.prototype.createSVGContent=function(a){var b=this.displayBox();this.shape=a.drawStepBorder(b.x,b.y,b.width,b.height)},BorderDecorator.prototype.draw=function(a){this.drawBorderDecorator(a)},BorderDecorator.prototype.drawBorderDecorator=function(a){this.drawDecoratorFigure(a);var b=this.displayBox();this.shape.setSize(b.width,b.height),this.shape.translate(b.x,b.y)},BorderDecorator.prototype.connectionInsets=function(){return this.connectionInsetsBorderDecorator()},BorderDecorator.prototype.connectionInsetsBorderDecorator=function(){var a=this.connectionInsetsDecoratorFigure();return a.top-=3,a.bottom-=3,a.left-=3,a.right-=3,a},BorderDecorator.prototype.displayBox=function(){var a=this.fComponent.displayBox();return a.grow(this.border().x,this.border().y),a},BorderDecorator.prototype.clone=function(){return new BorderDecorator},BorderTool.prototype=new ActionTool,BorderTool.prototype.initBorderTool=function(a){this.initActionTool(a)},BorderTool.prototype.action=function(a){var b=new BorderDecorator(a);this.drawing().replace(a,b)},GroupFigure.prototype=new CompositeFigure,GroupFigure.prototype.initGroupFigure=function(){this.initCompositeFigure()},GroupFigure.prototype.canConnect=function(){return!1},GroupFigure.prototype.basicDisplayBox=function(a,b){},GroupFigure.prototype.decompose=function(){return new FigureEnumerator(this.fFigures)},GroupFigure.prototype.setAttribute=function(a,b){for(var c=this.figures();c.hasMoreElements();)c.nextFigure().setAttribute(a,b)},GroupFigure.prototype.handles=function(){var a=new Vector;return a.addElement(new GroupHandle(this,relativeLocator.northWest())),a.addElement(new GroupHandle(this,relativeLocator.northEast())),a.addElement(new GroupHandle(this,relativeLocator.southWest())),a.addElement(new GroupHandle(this,relativeLocator.southEast())),a},GroupFigure.prototype.ret_displayBox=function(){for(var a=this.figures(),b=a.nextFigure().displayBox();a.hasMoreElements();)b.add(a.nextFigure().displayBox());return b},GroupHandle.prototype=new NullHandle,GroupHandle.prototype.initGroupHandle=function(a,b){this.initLocatorHandle(a,b)},GroupHandle.prototype.createSVGContent=function(a){var b=this.displayBox();a.setColor("none"),this.shape=a.drawRect(b.x,b.y,b.width,b.height),this.shape.setStrokeWidth(1),this.shape.setStrokeColor("white"),this.shape.setAttribute("shape-rendering","optimizeSpeed"),this.shape.setCursor(this.getCursorName())};var TOO_CLOSE=2;PolygonFigure.prototype=new AttributeFigure,PolygonFigure.prototype.initPolygonFigure=function(a,b){if(this.initAttributeFigure(),a instanceof gPolygon){var c=a;return void(this.fPoly=new gPolygon(c.xpoints,c.ypoints,c.npoints))}this.fPoly=new gPolygon(!0),this.fPoly.addPoint(a,b)},PolygonFigure.prototype.ret_displayBox=function(){return this.bounds(this.fPoly)},PolygonFigure.prototype.isEmpty=function(){return this.fPoly.npoints<3||this.size().width<TOO_CLOSE&&this.size().height<TOO_CLOSE},PolygonFigure.prototype.handles=function(a){(void 0==a||null==a)&&(a=this);for(var b=new Vector(this.fPoly.npoints),c=0;c<this.fPoly.npoints;c++)b.addElement(new PolygonHandle(a,this.locator(c),c));return b},PolygonFigure.prototype.basicDisplayBox=function(a,b){var c=this.displayBox(),d=a.x-c.x,e=a.y-c.y;this.fPoly.translate(d,e),c=this.displayBox();var f=new Point(c.x+c.width,c.y+c.height),g=this.getPolygon();this.scaleRotate(f,g,b)},PolygonFigure.prototype.getPolygon=function(){return new gPolygon(this.fPoly.xpoints,this.fPoly.ypoints,this.fPoly.npoints)},PolygonFigure.prototype.center=function(a){if(void 0==a)return this.center(this.fPoly);for(var b=0,c=0,d=a.npoints,e=0;d>e;e++)b+=a.xpoints[e],c+=a.ypoints[e];return new Point(parseInt(b/d),parseInt(c/d))},PolygonFigure.prototype.points=function(){for(var a=new Vector(this.fPoly.npoints),b=0;b<this.fPoly.npoints;++b)a.addElement(new Point(this.fPoly.xpoints[b],this.fPoly.ypoints[b]));return a.elements()},PolygonFigure.prototype.pointCount=function(){return this.fPoly.npoints},PolygonFigure.prototype.basicMoveBy=function(a,b){this.fPoly.translate(a,b)},PolygonFigure.prototype.createSVGContent=function(a){this.shape=a.drawPolygon(0,0,this.fPoly.xpoints,this.fPoly.ypoints),this.updateShapeAttributes()},PolygonFigure.prototype.draw=function(a){this.drawPolygonFigure(a)},PolygonFigure.prototype.drawPolygonFigure=function(a){this.drawAttributeFigure(a),this.shape.setXYPoints(this.fPoly.xpoints,this.fPoly.ypoints)},PolygonFigure.prototype.containsPoint=function(a,b){return this.fPoly.contains(a,b)},PolygonFigure.prototype.connectorAt=function(a,b){return new ChopPolygonConnector(this)},PolygonFigure.prototype.addPoint=function(a,b){this.fPoly.addPoint(a,b),this.changed()},PolygonFigure.prototype.setPointAt=function(a,b){this.willChange(),this.fPoly.xpoints[b]=a.x,this.fPoly.ypoints[b]=a.y,this.changed()},PolygonFigure.prototype.insertPointAt=function(a,b){this.willChange();for(var c=this.fPoly.npoints+1,d=new Array,e=new Array,f=0;b>f;++f)d[f]=this.fPoly.xpoints[f],e[f]=this.fPoly.ypoints[f];d[b]=a.x,e[b]=a.y;for(var f=b;f<this.fPoly.npoints;++f)d[f+1]=this.fPoly.xpoints[f],e[f+1]=this.fPoly.ypoints[f];this.fPoly=new gPolygon(d,e,c),this.changed()},PolygonFigure.prototype.removePointAt=function(a){this.willChange();for(var b=this.fPoly.npoints-1,c=new Array,d=new Array,e=0;a>e;++e)c[e]=this.fPoly.xpoints[e],d[e]=this.fPoly.ypoints[e];for(var e=a;b>e;++e)c[e]=this.fPoly.xpoints[e+1],d[e]=this.fPoly.ypoints[e+1];this.fPoly=new gPolygon(c,d,b),this.changed()},PolygonFigure.prototype.scaleRotate=function(a,b,c){this.willChange();var d=this.center(b),e=geom.length(d.x,d.y,a.x,a.y);if(e>0){for(var f=geom.length(d.x,d.y,c.x,c.y),g=f/e,h=Math.atan2(a.y-d.y,a.x-d.x),i=Math.atan2(c.y-d.y,c.x-d.x),j=i-h,k=b.npoints,l=new Array,m=new Array,n=0;k>n;++n){var o=b.xpoints[n],p=b.ypoints[n],q=geom.length(d.x,d.y,o,p)*g,r=Math.atan2(p-d.y,o-d.x)+j;l[n]=parseInt(d.x+q*Math.cos(r)+.5),m[n]=parseInt(d.y+q*Math.sin(r)+.5)}this.fPoly=new gPolygon(l,m,k)}this.changed()},PolygonFigure.prototype.smoothPoints=function(){return},PolygonFigure.prototype.splitSegment=function(a,b){var c=this.findSegment(a,b);return-1!=c?(this.insertPointAt(new Point(a,b),c+1),c+1):-1},PolygonFigure.prototype.pointAt=function(a){return new Point(this.fPoly.xpoints[a],this.fPoly.ypoints[a])},PolygonFigure.prototype.outermostPoint=function(){for(var a=this.center(),b=0,c=0,d=0;d<this.fPoly.npoints;++d){var e=geom.length2(a.x,a.y,this.fPoly.xpoints[d],this.fPoly.ypoints[d]);e>c&&(c=e,b=d)}return new Point(this.fPoly.xpoints[b],this.fPoly.ypoints[b])},PolygonFigure.prototype.findSegment=function(a,b){},PolygonFigure.prototype.chop=function(a){return this.chop(this.fPoly,a)},PolygonFigure.prototype.locator=function(a){return new PolygonFigureLocator(a)},PolygonFigureLocator.prototype=new AbstractLocator,PolygonFigureLocator.prototype.locate=function(a){var b=a;return this.pointIndex<b.pointCount()?a.pointAt(this.pointIndex):new Point(-1,-1)},PolygonFigureLocator.prototype.toString=function(){return this.className},PolygonFigure.prototype.distanceFromLine=function(a,b,c,d,e,f){var g=c-a,h=d-b,i=g*g+h*h;if(0==i)return Geom.length(a,b,e,f);var j=(b-f)*(b-d)-(a-e)*(c-a),k=j/i;if(0>k||k>1)return Number.MAX_VALUE;var l=a+k*g,m=b+k*h,n=e-l,o=f-m;return Math.sqrt(n*n+o*o)},PolygonFigure.prototype.bounds=function(a){for(var b=Number.MAX_VALUE,c=Number.MAX_VALUE,d=Number.MIN_VALUE,e=Number.MIN_VALUE,f=a.npoints,g=0;f>g;g++){var h=a.xpoints[g],i=a.ypoints[g];h>d&&(d=h),b>h&&(b=h),i>e&&(e=i),c>i&&(c=i)}return new gRectangle(b,c,d-b,e-c)},PolygonFigure.prototype.chop=function(a,b){},PolygonFigure.prototype.write=function(a){},PolygonFigure.prototype.read=function(a){},PolygonFigure.prototype.clone=function(){return new PolygonFigure(0,0)},PolygonFigure.prototype.serialize=function(){return this.serializePolygonFigure()},PolygonFigure.prototype.serializePolygonFigure=function(){var a=new Hashtable;return a.put("points",this.fPoly.serialize()),this.serializeAttributeFigure()+a.serialize()},PolygonFigure.prototype.deserialize=function(a){return this.deserializePolygonFigure(a)},PolygonFigure.prototype.deserializePolygonFigure=function(a){var b=this.deserializeAttributeFigure(a);return this.fPoly=new gPolygon(!0),this.fPoly.deserialize(b.get("points")),b},PolygonFigure.prototype.serializeAsRDF=function(a,b){return this.serializeAsRDFPolygonFigure(a,b)},PolygonFigure.prototype.serializeAsRDFPolygonFigure=function(a,b){var c=this.shape.getNode().nodeName,d="<"+a+c+"_"+this.myCount+"/historyNode_"+this.historyNodeCounter+"> ",e=d+' svg:points "'+this.fPoly.serialize()+'" . ';return e=this.serializeAsRDFAttributeFigure(a,b)+e},PolygonHandle.prototype=new AbstractHandle,PolygonHandle.prototype.initPolygonHandle=function(a,b,c){this.initAbstractHandle(a),this.fLocator=b,this.fIndex=c},PolygonHandle.prototype.invokeStep=function(a,b,c,d,e){this.myOwner().setPointAt(new Point(a,b),this.fIndex)},PolygonHandle.prototype.invokeEnd=function(a,b,c,d,e){this.myOwner().smoothPoints()},PolygonHandle.prototype.myOwner=function(){return this.owner()},PolygonHandle.prototype.locate=function(){return this.fLocator.locate(this.owner())},PolygonTool.prototype=new AbstractTool,PolygonTool.prototype.initPolygonTool=function(a){this.initAbstractTool(a)},PolygonTool.prototype.activate=function(){this.activatePolygonTool()},PolygonTool.prototype.activatePolygonTool=function(){this.activateAbstractTool(),this.view().setCursor("crosshair"),this.view().clearSelection(),this.fPolygon=null},PolygonTool.prototype.deactivate=function(){this.deactivatePolygonTool()},PolygonTool.prototype.deactivatePolygonTool=function(){this.deactivateAbstractTool(),null!=this.fPolygon&&(this.fPolygon.pointCount()<3||this.fPolygon.size().width<4||this.fPolygon.size().height<4)&&this.drawing().remove(this.fPolygon),this.fPolygon=null},PolygonTool.prototype.addPoint=function(a,b){null==this.fPolygon?(this.fPolygon=new PolygonFigure(a,b),this.view().add(this.fPolygon),this.fPolygon.addPoint(a,b)):(this.fLastX!=a||this.fLastY!=b)&&this.fPolygon.addPoint(a,b),this.fLastX=a,this.fLastY=b},PolygonTool.prototype.mouseDown=function(a,b,c){b=a.getX(),c=a.getY(),a.getClickCount()>=2?(null!=this.fPolygon&&(this.fPolygon.smoothPoints(),this.fireViewEvent(this.fPolygon,"Create"),this.editor().toolDone()),this.fPolygon=null):this.addPoint(a.getX(),a.getY())},PolygonTool.prototype.mouseMove=function(a,b,c){null!=this.fPolygon&&this.fPolygon.pointCount()>1&&this.fPolygon.setPointAt(new Point(b,c),this.fPolygon.pointCount()-1)},PolygonTool.prototype.mouseDrag=function(a,b,c){null!=this.fPolygon&&this.addPoint(a.getX(),a.getY())},PolygonTool.prototype.mouseUp=function(a,b,c){},PolygonScaleHandle.prototype=new AbstractHandle,PolygonScaleHandle.prototype.initPolygonScaleHandle=function(a){this.initAbstractHandle(a),this.color="green"},PolygonScaleHandle.prototype.createSVGContent=function(a){var b=this.displayBox();a.setColor(this.color),this.shape=a.drawOval(b.x+b.width/2,b.y+b.height/2,b.width,b.height),this.shape.setStrokeWidth(.5),this.shape.setStrokeColor("black"),this.shape.setCursor(this.getCursorName())},PolygonScaleHandle.prototype.locate=function(){return null!=this.fCurrent?this.fCurrent:this.getOrigin()},PolygonScaleHandle.prototype.invokeStart=function(a,b,c){this.fOrigPoly=this.owner().getPolygon(),this.fOrigin=this.getOrigin(),this.fCurrent=new Point(this.fOrigin.x,this.fOrigin.y)},PolygonScaleHandle.prototype.invokeStep=function(a,b,c){this.fCurrent=new Point(this.fOrigin.x+a,this.fOrigin.y+b),this.owner().scaleRotate(this.fOrigin,this.fOrigPoly,this.fCurrent)},PolygonScaleHandle.prototype.invokeEnd=function(a,b,c){this.fOrigPoly=null,this.fOrigin=null,this.fCurrent=null},PolygonScaleHandle.prototype.getOrigin=function(a,b,c){var d=this.owner().outermostPoint(),e=this.owner().center(),f=geom.length(d.x,d.y,e.x,e.y);if(0==f)return new Point(d.x-this.HANDLESIZE/2,d.y+this.HANDLESIZE/2);var g=this.HANDLESIZE/f;return g>1?new Point((3*d.x+e.x)/4,(3*d.y+e.y)/4):new Point(parseInt(d.x*(1-g)+e.x*g),parseInt(d.y*(1-g)+e.y*g))},FloatingTextArea.prototype.initFloatingTextArea=function(){this.fEditWidget=new TextBox(0,0,400,300,"Musbah",viewerMode==ASV),this.fEditWidget.setAbsolutePosition(!0)},FloatingTextArea.prototype.createOverlay=function(a,b){return void 0==b?void this.createOverlay(a,null):(a.add(this.fEditWidget),this.fEditWidget.show(),null!=b&&this.fEditWidget.setFont(b),this.fContainer=a,void this.fContainer.paintChildren(this.fContainer.textBoxg))},FloatingTextArea.prototype.setBounds=function(a,b){var c=a.getWidth(),d=a.getHeight();this.fEditWidget.setBounds(a.x,a.y,c,d),this.fEditWidget.show(),this.fEditWidget.setText(b),this.fEditWidget.selectAll()},FloatingTextArea.prototype.getBounds=function(){return this.fEditWidget.getBounds()},FloatingTextArea.prototype.isShown=function(){return this.fEditWidget.isShown()},FloatingTextArea.prototype.endOverlay=function(){null!=this.fEditWidget&&(this.fEditWidget.hide(),this.fContainer.remove(this.fEditWidget))},FloatingTextArea.prototype.addActionListener=function(a){this.fEditWidget.addActionListener(a)},FloatingTextArea.prototype.removeActionListener=function(a){this.fEditWidget.removeActionListener(a)},FloatingTextArea.prototype.getText=function(){return this.fEditWidget.getText()},FloatingTextArea.prototype.getPreferredSize=function(a){return new Dimension(this.fEditWidget.getWidth(),this.fEditWidget.getHeight())},TextAreaTool.prototype=new CreationTool,TextAreaTool.prototype.initTextAreaTool=function(a,b){this.initCreationTool(a,b)},TextAreaTool.prototype.activate=function(){this.activateTextAreaTool()},TextAreaTool.prototype.activateTextAreaTool=function(){this.activateCreationTool(),this.view().setCursor("text")},TextAreaTool.prototype.deactivate=function(){this.deactivateTextAreaTool()},TextAreaTool.prototype.deactivateTextAreaTool=function(){this.deactivateCreationTool(),this.endEdit()},TextAreaTool.prototype.fieldBounds=function(a){var b=a.displayBox();return new gRectangle(b.x,b.y,b.width,b.height)},TextAreaTool.prototype.endEdit=function(a){null!=this.fTypingTarget&&(this.fTextAreaField.getText().length>0?this.fTypingTarget.setText(this.fTextAreaField.getText()):this.drawing().remove(this.fTypingTarget),this.fTypingTarget=null,this.fTextAreaField.endOverlay())},TextAreaTool.prototype.beginEdit=function(a){null==this.fTextAreaField&&(this.fTextAreaField=new FloatingTextArea),a!=this.fTypingTarget&&null!=this.fTypingTarget&&this.endEdit(),this.fTextAreaField.createOverlay(this.view(),a.getFont()),this.fTextAreaField.setBounds(this.fieldBounds(a),a.getText()),this.fTypingTarget=a},TextAreaTool.prototype.mouseDown=function(a,b,c){var d,e=null;if(null==this.fTextAreaField||!this.fTextAreaField.isShown()||!this.fTextAreaField.getBounds().inside(b,c)){if(d=this.drawing().findFigureInside(b,c),d instanceof TextAreaDecorator&&(e=d,e.acceptsTyping()||(e=null)),null!=e)return void this.beginEdit(e);if(null!=this.fTypingTarget)this.editor().toolDone(),this.endEdit();else{if((d instanceof EllipseFigure||d instanceof RectangleFigure||d instanceof RoundRectangleFigure||d instanceof PolygonFigure)&&!(d instanceof ImageFigure))return e=this.createFigure(),e.decorate(d),this.drawing().replace(d,e),void this.editor().toolDone();null!=d&&alert("Invalid Figure Type :"+d),this.editor().toolDone()}this.view().drawDrawing()}},TextAreaTool.prototype.mouseDrag=function(a,b,c){},TextAreaTool.prototype.mouseUp=function(a,b,c){},OpacityHandle.prototype=new LocatorHandle,OpacityHandle.prototype.initOpacityHandle=function(a,b){this.initLocatorHandle(a,b),this.color="Teal"},OpacityHandle.prototype.invokeStart=function(a,b,c){this.owner();this.opacity=0},OpacityHandle.prototype.invokeStep=function(a,b,c,d,e){var f=this.owner(),g=this.opacity+b-d;g>this.max&&(g=this.max),g<this.min&&(g=this.min),g=(g-this.min)/(this.max-this.min),f.setOpacity(g)},TextAlignHandle.prototype=new LocatorHandle,TextAlignHandle.prototype.initTextAlignHandle=function(a,b){this.initLocatorHandle(a,b),this.color="olive"},TextAlignHandle.prototype.invokeStart=function(a,b,c){var d=this.owner();d.setTextAlign(this.textAlign[this.counter]),this.counter++,this.counter>3&&(this.counter=0)},TextAlignHandle.prototype.invokeStep=function(a,b,c,d,e){},TextAreaDecorator.prototype=new DecoratorFigure,TextAreaDecorator.prototype.initTextAreaDecorator=function(a){this.initDecoratorFigure(a),this.setAttribute("FrameColor","none"),this.setAttribute("FillColor","black")},TextAreaDecorator.prototype.border=function(){return new Point(0,0)},TextAreaDecorator.prototype.getOpacity=function(){return this.fComponent.shape.getOpacity()},TextAreaDecorator.prototype.setOpacity=function(a){this.fComponent.shape.setOpacity(a)},TextAreaDecorator.prototype.setTextAlign=function(a){this.shape.setTextAlign(a)},TextAreaDecorator.prototype.handles=function(){return this.handlesTextAreaDecorator()},TextAreaDecorator.prototype.handlesTextAreaDecorator=function(){var a=this.handlesDecoratorFigure();return a.addElement(new FontSizeHandle(this,new RelativeLocator(.5,.5))),a.addElement(new OpacityHandle(this,new RelativeLocator(.45,.5))),a.addElement(new TextAlignHandle(this,new RelativeLocator(.55,.5))),a},TextAreaDecorator.prototype.createSVGContent=function(a){var b=this.displayBox();this.shape=a.drawTextView(0,0,b.width,b.height,null,this.fComponent.shape),this.para=this.shape.addParagraph(this.fText),this.updateShapeAttributes()},TextAreaDecorator.prototype.draw=function(a){this.drawTextAreaDecorator(a)},TextAreaDecorator.prototype.drawTextAreaDecorator=function(a){this.drawDecoratorFigure(a),this.shape.setFont(this.getFont()),this.shape.updateRegionShapeProperties(this.fComponent.shape)},TextAreaDecorator.prototype.updateShapeAttributes=function(){this.updateShapeAttributesTextAreaDecorator()},TextAreaDecorator.prototype.updateShapeAttributesTextAreaDecorator=function(){this.isCreated()&&this.shape.setFont(this.getFont()),this.isCreated()&&this.shape.setColor(this.getAttribute("FillColor")),this.isCreated()&&this.shape.setStrokeColor(this.getAttribute("FrameColor")),this.isCreated()&&this.shape.setOpacity(this.getAttribute("Opacity")),this.isCreated()&&this.shape.setStrokeWidth(this.getAttribute("FrameWidth")),null!=this.FComponent&&(this.fComponent.isCreated()&&this.fComponent.shape.setColor(this.getAttribute("FillColor")),this.fComponent.isCreated()&&this.fComponent.shape.setStrokeColor(this.getAttribute("FrameColor")),this.fComponent.isCreated()&&this.fComponent.shape.setOpacity(this.getAttribute("Opacity")),this.fComponent.isCreated()&&this.fComponent.shape.setStrokeWidth(this.getAttribute("FrameWidth")))},TextAreaDecorator.prototype.connectionInsets=function(){return this.connectionInsetsTextAreaDecorator()},TextAreaDecorator.prototype.connectionInsetsTextAreaDecorator=function(){var a=this.connectionInsetsDecoratorFigure();return a},TextAreaDecorator.prototype.displayBox=function(){var a=this.fComponent.displayBox();return a.grow(this.border().x,this.border().y),a},TextAreaDecorator.prototype.getFont=function(){return this.fFont},TextAreaDecorator.prototype.setFont=function(a){this.willChange(),this.fFont=a,this.shape.setFont(this.fFont),this.changed()},TextAreaDecorator.prototype.changed=function(){},TextAreaDecorator.prototype.createCurrentFont=function(){return new Font(this.fgCurrentFontName,this.fgCurrentFontStyle,this.fgCurrentFontSize+"pt")},TextAreaDecorator.prototype.setCurrentFontName=function(a){this.fgCurrentFontName=a},TextAreaDecorator.prototype.setCurrentFontSize=function(a){this.fgCurrentFontSize=a},TextAreaDecorator.prototype.setCurrentFontStyle=function(a){this.fgCurrentFontStyle=a},TextAreaDecorator.prototype.getAttribute=function(a){var b=this.getFont();return"FontSize"==a?b.getSize():"FontStyle"==a?b.getStyle():"FontName"==a?b.getName():this.getAttributeAttributeFigure(a)},TextAreaDecorator.prototype.setAttribute=function(a,b){var c=this.getFont();"FontSize"==a?this.setFont(new Font(c.getName(),c.getNamedStyle(),parseInt(b))):"FontStyle"==a?(c.setStyle(parseInt(b)),this.setFont(new Font(c.getName(),c.getNamedStyle(),c.getSize()))):"FontName"==a?this.setFont(new Font(b,c.getNamedStyle(),c.getSize())):this.setAttributeAttributeFigure(a,b)},TextAreaDecorator.prototype.getText=function(){return this.fText},TextAreaDecorator.prototype.setText=function(a){a!=this.fText&&(this.willChange(),this.fText=a,null!=this.para&&this.para.setText(a),this.changed())},TextAreaDecorator.prototype.findFigureInside=function(a,b){return this.containsPoint(a,b)?this:null},TextAreaDecorator.prototype.acceptsTyping=function(){return!this.fIsReadOnly},TextAreaDecorator.prototype.clone=function(){return new TextAreaDecorator(null)},DrawApplication.prototype.open=function(a,b,c,d,e){this.openDrawApplication(a,b,c,d)},DrawApplication.prototype.openDrawApplication=function(a,b,c,d,e){this.width=c,this.height=d;var f=11,g=28*f;this.tools=new Window(innerWidth-50-g,10,23+g,55,e,null,!1),this.tools.setToFixedSize(),this.tools.setLayout(new FlowLayout(CENTER)),this.fView=this.createDrawingView(),this.fView.translate(a,b),this.createTools(this.tools),this.tools.paint(),this.fStatusLine=this.createStatusLine(this.tools);this.defaultSize();this.initDrawing(),this.tools.putWindowOnTop()},DrawApplication.prototype.initDrawing=function(){this.fDrawing=this.createDrawing(),this.fDrawingFilename=this.fgUntitled,this.fView.setDrawing(this.fDrawing),this.toolDone()},DrawApplication.prototype.createDrawingView=function(){var a=this.getDrawingViewSize();return new StandardDrawingView(this,a.width,a.height)},DrawApplication.prototype.createTools=function(a){this.createToolsDrawApplication(a)},DrawApplication.prototype.createToolsDrawApplication=function(a){var b=this.createSelectionTool();this.fDefaultToolButton=this.createToolButton(this.IMAGES+"SEL","Selection Tool",b),a.add(this.fDefaultToolButton)},DrawApplication.prototype.createSelectionTool=function(){return new SelectionTool(this.view())},DrawApplication.prototype.createToolButton=function(a,b,c){return new ToolButton(this,a,b,c);
},DrawApplication.prototype.getDrawingViewSize=function(){return new Dimension(this.width,this.height)},DrawApplication.prototype.createDrawing=function(){return new StandardDrawing(!0)},DrawApplication.prototype.setDrawing=function(a){this.fView.setDrawing(a),this.fDrawing=a},DrawApplication.prototype.defaultSize=function(){return new Dimension(430,406)},DrawApplication.prototype.drawing=function(){return this.fDrawing},DrawApplication.prototype.tool=function(){return this.fTool},DrawApplication.prototype.view=function(){return this.fView},DrawApplication.prototype.toolDone=function(){null!=this.fDefaultToolButton&&(this.setTool(this.fDefaultToolButton.tool(),this.fDefaultToolButton.name()),this.setSelected(this.fDefaultToolButton))},DrawApplication.prototype.selectionChanged=function(a){},DrawApplication.prototype.setTool=function(a,b){null!=this.fTool&&this.fTool.deactivate(),this.fTool=a,null!=this.fTool&&(this.showStatus(b),this.fTool.activate())},DrawApplication.prototype.paletteUserSelected=function(a){var b=a;this.setTool(b.tool(),b.name()),this.setSelected(b)},DrawApplication.prototype.setSelected=function(a){null!=this.fSelectedToolButton&&this.fSelectedToolButton.reset(),this.fSelectedToolButton=a,null!=this.fSelectedToolButton&&this.fSelectedToolButton.select()},DrawApplication.prototype.paletteUserOver=function(a,b){var c=a;b?this.showStatus(c.name()):null!=this.fSelectedToolButton&&this.showStatus(this.fSelectedToolButton.name())},DrawApplication.prototype.showStatus=function(a){this.fStatusLine.setText(a)},DrawApplication.prototype.createStatusLine=function(a){var b=a.getWidth()-a.left-a.right,c=24;a.setSize(a.getWidth(),a.h+c);var d=a.getGraphics(),e=a.left,f=a.getHeight()-a.bottom-c,g=d.drawStepBorder(e+3,f+3,b-6,c-6);g.setFaceDown(),d.setColor("black"),d.setFont(new Font("Helvetica","normal","10pt"));var h=d.drawText(e+5,f+3," ");return h.setToBaseLine(),h},DemoDrawingView.prototype=new StandardDrawingView,DemoDrawingView.prototype.initDemoDrawingView=function(a,b,c){this.initStandardDrawingView(a,b,c),this.addMenuItem("Attributes");var d=this.popUpMenu;this.popUpMenu=null,this.addMenuItem("Send To Front"),this.addMenuItem("Send To Back"),this.addMenuSeparator(),this.addMenuItem("Delete"),this.addMenuItem("Duplicate"),this.addMenuItem("Group"),this.addMenuItem("Ungroup"),this.addMenuSeparator(),this.addMenuItem("Attributes"),this.popUpMenu2=this.popUpMenu,this.popUpMenu=d},DemoDrawingView.prototype.createSVGContent=function(){this.createSVGContentDemoDrawingView()},DemoDrawingView.prototype.createSVGContentDemoDrawingView=function(){this.createSVGContentStandardDrawingView(),null!=this.popUpMenu2&&(this.popUpMenu2.paint(),menuLayer.addGraphics(this.popUpMenu2),this.popUpMenu2.hide())},DemoDrawingView.prototype.recalc=function(){this.recalcDemoDrawingView()},DemoDrawingView.prototype.recalcDemoDrawingView=function(){this.recalcStandardDrawingView(),null!=this.popUpMenu2&&this.popUpMenu2.recalc()},DemoDrawingView.prototype.mousePressed=function(a){this.mousePressedDemoDrawingView(a)},DemoDrawingView.prototype.mousePressedDemoDrawingView=function(a){if(!a.isAltDown()&&!a.isControlDown()){this.mousePressedStandardDrawingView(a);var b=this.drawing().findFigure(a.getX(),a.getY()),c=this.getAbsoluteLocation();if(a.getButton()==BUTTON2){var d=null,e=c.x+a.getX()+5,f=c.y+a.getY()+5;if(null!=b&&this.selection().contains(b)&&null!=this.popUpMenu2?(d=this.popUpMenu2,this.targetFigure=b):null!=this.popUpMenu&&(d=this.popUpMenu,this.clearSelection()),null!=d){var g=d.getWidth(),h=d.getHeight();e+g>innerWidth&&(e=e-g-10),f+h>innerHeight&&(f=f-h-10),d.translate(e,f),d.show()}}}},DemoDrawingView.prototype.econtMousePressed=function(a){var b=this.getComponentAt(a.getX(),a.getY());this.pressX=a.getX(),this.pressY=a.getY(),this.isEventable(b)&&this.fireMouseEventToComponent(b,"mousePressed",a)},DemoDrawingView.prototype.actionPerformed=function(a){var b=a.source,c=a.getActionCommand();if("menuItemSelected"==c)switch(b.name){case"Send To Front":this.sendSelectionToFront();break;case"Send To Back":this.sendSelectionToBack();break;case"Delete":var d=new DeleteCommand("Delete",this);d.execute();break;case"Duplicate":var d=new DuplicateCommand("Duplicate",this);d.execute();break;case"Group":var d=new GroupCommand("Group",this);d.execute();break;case"Ungroup":var d=new UngroupCommand("Ungroup",this);d.execute();break;case"Attributes":this.editor().attributesWindow.show(),this.editor().selectionChanged(this.editor().view())}if(null!=this.actionListeners)for(var e=new Enumerator(this.actionListeners);e.hasMoreElements();)e.nextElement().actionPerformed(a)},DemoApplication.prototype=new DrawApplication,DemoApplication.prototype.open=function(a,b,c,d){this.openDemoApplication(a,b,c,d),this.attributesWindow=new DemoAttributes(10,10),this.attributesWindow.paint(),this.attributesWindow.hide()},DrawApplication.prototype.createDrawingView=function(){var a=this.getDrawingViewSize();return new DemoDrawingView(this,a.width,a.height)},DemoApplication.prototype.openDemoApplication=function(a,b,c,d){this.openDrawApplication(a,b,c,d,"SVG Hotdraw Demo v1.0: Tools,..")},DemoApplication.prototype.createTools=function(a){this.createToolsDemoApplication(a)},DemoApplication.prototype.createToolsDemoApplication=function(a){this.createToolsDrawApplication(a);var b;b=new TextTool(this.view(),new TextFigure),a.add(this.createToolButton(this.IMAGES+"TEXT","Text Tool",b)),b=new CreationTool(this.view(),new ImageFigure),a.add(this.createToolButton(this.IMAGES+"IMAGE","Image Tool",b)),b=new CreationTool(this.view(),new RectangleFigure),a.add(this.createToolButton(this.IMAGES+"RECT","Rectangle Tool",b)),b=new CreationTool(this.view(),new EllipseFigure),a.add(this.createToolButton(this.IMAGES+"ELLIPSE","Ellipse Tool",b)),b=new CreationTool(this.view(),new RoundRectangleFigure),a.add(this.createToolButton(this.IMAGES+"RRECT","Round Rectangle Tool",b)),b=new PolygonTool(this.view()),a.add(this.createToolButton(this.IMAGES+"POLYGON","Polygon Tool",b)),b=new CreationTool(this.view(),new LineFigure),a.add(this.createToolButton(this.IMAGES+"LINE","Line Tool",b)),b=new ScribbleTool(this.view()),a.add(this.createToolButton(this.IMAGES+"SCRIBBL","Scribble Tool",b)),b=new BorderTool(this.view()),a.add(this.createToolButton(this.IMAGES+"BORDDEC","Border Tool",b)),b=new TextAreaTool(this.view(),new TextAreaDecorator),a.add(this.createToolButton(this.IMAGES+"TEXTAREA","TextArea Decorator Tool",b))},DemoApplication.prototype.actionPerformed=function(a){var b=a.source,c=a.getActionCommand();if("menuItemSelected"==c)switch(b.name){case"Tools":this.tools.show()}},DemoApplication.prototype.recalc=function(){this.view().recalc(),null!=this.tools&&this.tools.recalc(),null!=this.attributesWindow&&(this.attributesWindow.show(),this.attributesWindow.recalc(),this.attributesWindow.hide())},DemoApplication.prototype.selectionChanged=function(a){null==this.attributesWindow||this.attributesWindow.isHidden()||this.attributesWindow.open(a.selectionZOrdered())},DemoApplication.prototype.toString=function(){return"DemoApplication"},DemoAttributes.prototype=new Window,DemoAttributes.prototype.initDemoAttributes=function(a,b){this.initWindow(a,b,this.cw,this.ch,"Attributes & Commands",null,!0),this.setLayout(new FlowLayout(LEFT)),this.setToFixedSize(),this.tabbedPane=new TabbedPane(50,20,this.cw-20,this.ch-45),this.tabbedPane.setFont(this.getFont()),this.tabbedPane.setAlign(X_AXIS,LEFT,TOP,2),this.image=this.tabbedPane.addPane("pane3"," Image "),this.attributes=this.tabbedPane.addPane("pane1"," Attributes "),this.attributes.setLayout(new FlowLayout(LEFT,5,5)),this.image.setLayout(new FlowLayout(LEFT,5,5)),this.attributes.setInsets(3,3,7,3),this.image.setInsets(3,3,7,3),this.fillColorLabel=new Label(0,0,0,0,"fillColor","Fill:"),this.attributes.add(this.fillColorLabel),this.fillColorComboBox=new ColorComboBox("fillColorComboBox"),this.attributes.add(this.fillColorComboBox).addActionListener(this),this.strokeColorLabel=new Label(0,0,0,0,"strokeColor","Pen:"),this.attributes.add(this.strokeColorLabel),this.strokeColorComboBox=new ColorComboBox("strokeColorComboBox"),this.attributes.add(this.strokeColorComboBox).addActionListener(this),this.attributes.add(new Label(0,0,0,0,"font","Font:")),this.fontComboBox=new ComboBox(0,0,0,0,"fontComboBox"),this.fontComboBox.setFont(this.getFont()),this.fontComboBox.addTextItem("Times New Roman"),this.fontComboBox.addTextItem("Monotype Corsiva"),this.fontComboBox.addTextItem("Comic Sans MS"),this.fontComboBox.addTextItem("Sans-serif"),this.fontComboBox.addTextItem("Helvetica"),this.fontComboBox.addTextItem("Monospace"),this.fontComboBox.addTextItem("Marigold"),this.fontComboBox.addTextItem("Georgia"),this.fontComboBox.addTextItem("Arial"),this.attributes.add(this.fontComboBox).addActionListener(this),this.image.add(new Label(0,0,0,0,"url","URL:")),this.imageURL=new TextBox(0,0,this.cw-90,100,"",!1),this.image.add(this.imageURL).setFont(this.getFont()),this.image.add(new Button(0,0,0,0,"applyURL","  Apply   ")).addActionListener(this),this.add(this.tabbedPane)},DemoAttributes.prototype.paint=function(a){this.paintDemoAttributes(a)},DemoAttributes.prototype.paintDemoAttributes=function(a){this.paintComponent(a)},DemoAttributes.prototype.open=function(a){if(this.selected=a,a.size()<=0)return this.changeStrokeColor("none"),this.changeFillColor("none"),void this.changeImageURL("");var b=this.selected.elementAt(0);b instanceof ImageFigure?(this.changeStrokeColor("none"),this.changeFillColor("none"),this.changeImageURL(b.getURL())):(this.changeStrokeColor(b.getAttribute("FrameColor")),this.changeFillColor(b.getAttribute("FillColor")),this.changeImageURL("")),(b instanceof TextFigure||this.figure instanceof TextAreaDecorator)&&this.changeFontName(b.getFont())},DemoAttributes.prototype.recalc=function(){this.recalcDemoAttributes()},DemoAttributes.prototype.recalcDemoAttributes=function(){this.recalcWindow()},DemoAttributes.prototype.changeFontName=function(a){this.fontComboBox.changeToText(a.getName())},DemoAttributes.prototype.changeStrokeColor=function(a){this.strokeColorComboBox.changeToColor(a)},DemoAttributes.prototype.changeFillColor=function(a){this.fillColorComboBox.changeToColor(a)},DemoAttributes.prototype.changeImageURL=function(a){this.imageURL.setText(a)},DemoAttributes.prototype.getImageURL=function(){return this.imageURL.getText()},DemoAttributes.prototype.actionPerformed=function(a){this.actionPerformedDemoAttributes(a)},DemoAttributes.prototype.actionPerformedDemoAttributes=function(a){this.actionPerformedWindow(a);var b=a.source,c=a.getActionCommand();if(!(this.selected.size()<=0)){if("itemClicked"==c){var d=b.name;"fillColorComboBox"==d&&this.setAttributeToSelected("FillColor",b.getCurrentComponent().getColor()),"strokeColorComboBox"==d&&this.setAttributeToSelected("FrameColor",b.getCurrentComponent().getColor()),"fontComboBox"==d&&this.setAttributeToSelected("FontName",b.getCurrentComponent().name)}if("buttonClicked"==c&&"applyURL"==b.name)for(var e=new Enumerator(this.selected);e.hasMoreElements();){var f=e.nextElement();f instanceof ImageFigure&&f.setURL(this.getImageURL())}}},DemoAttributes.prototype.setAttributeToSelected=function(a,b){for(var c=new Enumerator(this.selected);c.hasMoreElements();)c.nextElement().setAttribute(a,b)};var demoApplication;